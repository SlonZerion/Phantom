(function(define){var __define;"function"==typeof define&&define.amd&&(__define=define,define=null);
!function(){function e(e,t,n,s){Object.defineProperty(e,t,{get:n,set:s,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},r={},o=n.parcelRequire1d24;null==o&&((o=function(e){if(e in s)return s[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return s[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},n.parcelRequire1d24=o),o.register("3YDVy",(function(t,n){e(t.exports,"getImageThroughProxy",(function(){return l})),e(t.exports,"getScaledImageURI",(function(){return c})),e(t.exports,"getScaledImageURIExt",(function(){return d}));var s,r,i=o("jF6Pg");(r=s||(s={})).NonFungible="NonFungible",r.SemiFungible="SemiFungible",r.Fungible="Fungible",r.NonFungibleEdition="NonFungibleEdition",r.ProgrammableNonFungible="ProgrammableNonFungible";const a=e=>(0,i.getDevicePixelRatio)()*e,l=(e,t=!1)=>`https://api.phantom.app/image-proxy/?image=${encodeURIComponent(e)}${t?"&anim=false":""}`,c=(e,t,n,s=!1)=>{const r=a(n);return`${l(e)}&fit=scale-down&${t}=${r}${s?"&anim=false":""}`},d=(e,t,n,s=!1)=>{const r=a(t),o=a(n);return`${l(e)}&fit=cover&width=${r}&height=${o}${s?"&anim=false":""}`}})),o.register("jF6Pg",(function(t,n){e(t.exports,"getDevicePixelRatio",(function(){return s}));const s=()=>(null===window||void 0===window?void 0:window.devicePixelRatio)||1})),o.register("hiI91",(function(t,n){e(t.exports,"SkeletonLoader",(function(){return i}));var s=o("gkfw3");const r=s.keyframes`
  0% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
  100% {
    opacity: 1;
  }
`,i=s.default.div`
  display: flex;
  aspect-ratio: ${({aspectRatio:e})=>e};
  flex-direction: ${({flexDirection:e})=>e};
  flex-wrap: ${({flexWrap:e})=>e};
  align-items: ${({align:e})=>e};
  justify-content: ${({justify:e})=>e};
  width: ${({width:e})=>e};
  height: ${({height:e})=>e};
  margin: ${({margin:e})=>e};
  margin-bottom: ${({marginBottom:e})=>e};
  padding: ${({padding:e})=>e};
  border-radius: ${({borderRadius:e})=>e};
  background-color: ${e=>e.backgroundColor||e.theme.skeletonLight};
  animation: ${r} 2s ease-in-out infinite;
`})),o.register("91Dw6",(function(t,n){e(t.exports,"WARNING_COLOR",(function(){return s})),e(t.exports,"DANGER_COLOR",(function(){return r})),e(t.exports,"ERROR_COLOR",(function(){return o}));const s="#FFDC62",r="#EB3742",o="#eb3742"})),o.register("bw7Ah",(function(n,s){e(n.exports,"PTrans",(function(){return c}),(function(e){return c=e}));var r=o("43063"),i=o("29o0l"),a=o("8Ub2g"),l=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]])}return n};const c=t(i).memo((e=>{const{children:n,i18nKey:s}=e,o=l(e,["children","i18nKey"]),{t:c}=(0,r.useTranslation)(),d=(0,i.useMemo)((()=>(s?`${c(s,Object.assign(Object.assign({},o),o.values))}`:"").replace(/<\/?[^>]+(>|$)/g,"")),[s,o,c]);return t(i).createElement(a.ErrorBoundary,{fallback:d},t(i).createElement(r.Trans,Object.assign({i18nKey:s},o),n))}))})),o.register("fxXaZ",(function(n,s){e(n.exports,"BackgroundConnectionProvider",(function(){return h}),(function(e){return h=e})),e(n.exports,"useIncomingBackgroundRequest",(function(){return g}),(function(e){return g=e})),e(n.exports,"usePostOutgoingBackgroundResponse",(function(){return f}),(function(e){return f=e}));var r=o("k8NWT"),i=o("29o0l"),a=o("9CoSy"),l=o("hulLf"),c=o("gcdBN"),d=function(e,t,n,s){return new(n||(n=Promise))((function(r,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((s=s.apply(e,t||[])).next())}))};const u={isConnected:!1,lastMessage:null,postMessage:a.NOOP},p=t(i).createContext(u),h=({children:e})=>{const[n,s,o]=function(){const[e,t]=(0,i.useState)(null),[n,s]=(0,i.useState)(null);(0,i.useEffect)((()=>{let e;return(()=>d(this,void 0,void 0,(function*(){const n=`notification/${(yield(0,c.getCurrentWindowAsync)()).id}`;e=l.browser.runtime.connect({name:n}),t(e),e.onMessage.addListener((e=>{const t=r.parse(e);!(t&&"string"==typeof t.origin&&t.origin&&t.req&&"string"==typeof t.req.method&&t.req.method)||s(t)})),e.onDisconnect.addListener((()=>{t(null)}))})))(),()=>{null==e||e.disconnect()}}),[]);const o=(0,i.useCallback)((t=>{e&&e.postMessage(r.stringify(t))}),[e]);return[!!e,n,o]}();return t(i).createElement(p.Provider,{value:{isConnected:n,lastMessage:s,postMessage:o}},e)};function m(){const e=(0,i.useContext)(p);if(!e)throw new Error("Missing background connection context");return e}function g(){const{lastMessage:e}=m();return e}function f(){const e=g(),{postMessage:t}=m();return(0,i.useCallback)((n=>{if(!e)throw new Error("No request received from the background yet");if(e.req.id!==n.id)throw new Error(`Request id: ${e.req.id} does not match response id: ${n.id}`);t(n)}),[e,t])}})),o.register("3mrWC",(function(n,s){e(n.exports,"IconHeaderStyle",(function(){return b}),(function(e){return b=e})),e(n.exports,"IconHeader",(function(){return A}),(function(e){return A=e})),e(n.exports,"TabIconHeader",(function(){return S}),(function(e){return S=e}));var r=o("29o0l"),i=o("gkfw3"),a=o("eWzmJ"),l=o("91Dw6"),c=o("j81qC"),d=o("izu1Y"),u=o("27SDj"),p=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]])}return n};const h=i.default.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`,m=i.keyframes`
  0% {
    top: 15px;
    opacity: 0;
  };
  100% {
    top: 0px;
    opacity: 1;
  };
`,g=i.default.div`
  animation-name: ${e=>e.animateText?m:"none"};
  animation-duration: ${e=>e.animateText?".5s":"0s"};
  position: relative;
`,f=(0,i.default)(u.Text)`
  margin: ${e=>e.margin};
`;f.defaultProps={margin:"20px auto 0 auto"};const y=(0,i.default)(u.Text)`
  margin: ${e=>e.margin};
`;y.defaultProps={margin:"15px 0px 0px 0px"};const x=i.default.div`
  position: relative;
  left: 38px;
  bottom: 22px;
`;var b,w;(w=b||(b={})).Medium="medium",w.Large="large",w.Small="small";const E={[b.Large]:30,[b.Medium]:28,[b.Small]:24},v={[b.Large]:34,[b.Medium]:34,[b.Small]:29},T={[b.Large]:18,[b.Medium]:16,[b.Small]:14},A=({className:e,icon:n,primaryText:s,secondaryText:o,headerStyle:i,showWarning:a=!1,showError:d=!1,animateText:u=!1})=>{i=null!=i?i:b.Medium;const p=E[i],m=v[i],w=T[i],A={[b.Large]:22,[b.Medium]:19,[b.Small]:17}[i],I="small"===i?"16px 0 0 0":void 0,k=d?l.ERROR_COLOR:"#777777";return t(r).createElement(h,{className:e},null!=n?n:t(r).createElement(c.IconUnknownOrigin,null),a?t(r).createElement(x,null,t(r).createElement(c.IconExclamationMarkCircle,null)):t(r).createElement(t(r).Fragment,null),t(r).createElement(g,{animateText:u},s&&t(r).createElement(f,{margin:I,weight:500,size:p,lineHeight:m,maxWidth:"320px"},s),o&&t(r).createElement(y,{margin:I,wordBreak:"break-word",size:w,lineHeight:A,color:k},o)))};A.defaultProps={headerStyle:b.Medium};const I=i.css`
  border-radius: 20px;
  width: 90px;
  height: 90px;
`,k=(0,i.default)(d.PImage)`
  ${I}
  object-fit: scale-down;
  filter: ${e=>e.showError?"grayscale(1)":"none"};
`,C=i.default.div`
  ${I}
`,S=e=>{var{tabId:n,iconUrl:s}=e,o=p(e,["tabId","iconUrl"]);const i=(0,a.useTabMeta)(n);let l=null==i?void 0:i.iconUrl;return s&&(l=s),t(r).createElement(A,Object.assign({icon:l?t(r).createElement(k,{showError:o.showError,src:l,fallback:t(r).createElement(c.IconUnknownOrigin,null),loader:t(r).createElement(C,null)}):t(r).createElement(C,null),primaryText:null==i?void 0:i.title},o))}})),o.register("eWzmJ",(function(t,n){e(t.exports,"useTabMeta",(function(){return l}),(function(e){return l=e}));var s=o("lofhi"),r=o("hulLf"),i=o("gcdBN"),a=function(e,t,n,s){return new(n||(n=Promise))((function(r,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((s=s.apply(e,t||[])).next())}))};const l=e=>{const{value:t}=(0,s.default)((()=>a(void 0,void 0,void 0,(function*(){var t,n;if(void 0===e)return;const s=yield r.browser.tabs.get(e),o=yield(0,i.getTabMarkupMeta)(e);return{iconUrl:null!==(t=null==o?void 0:o.iconUrl)&&void 0!==t?t:null==s?void 0:s.favIconUrl,title:null!==(n=null==o?void 0:o.title)&&void 0!==n?n:null==s?void 0:s.title}}))),[e]);return null!=t?t:{}}})),o.register("lofhi",(function(t,n){e(t.exports,"default",(function(){return i}));var s=o("29o0l"),r=o("d6194");function i(e,t){void 0===t&&(t=[]);var n=(0,r.default)(e,t,{loading:!0}),o=n[0],i=n[1];return(0,s.useEffect)((function(){i()}),[i]),o}})),o.register("d6194",(function(t,n){e(t.exports,"default",(function(){return a}));var s=o("YZf6l"),r=o("29o0l"),i=o("3Y2rr");function a(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={loading:!1});var o=(0,r.useRef)(0),a=(0,i.default)(),l=(0,r.useState)(n),c=l[0],d=l[1],u=(0,r.useCallback)((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=++o.current;return c.loading||d((function(e){return(0,s.__assign)((0,s.__assign)({},e),{loading:!0})})),e.apply(void 0,t).then((function(e){return a()&&r===o.current&&d({value:e,loading:!1}),e}),(function(e){return a()&&r===o.current&&d({error:e,loading:!1}),e}))}),t);return[c,u]}})),o.register("3Y2rr",(function(t,n){e(t.exports,"default",(function(){return r}));var s=o("29o0l");function r(){var e=(0,s.useRef)(!1),t=(0,s.useCallback)((function(){return e.current}),[]);return(0,s.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),t}})),o.register("izu1Y",(function(n,s){e(n.exports,"PImage",(function(){return d}),(function(e){return d=e}));var r=o("29o0l"),i=o("3YDVy"),a=o("gkfw3"),l=o("hiI91"),c=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]])}return n};const d=e=>{var{src:n,fallback:s,loader:o,onLoad:a,onError:l,loaderEnabled:d}=e,p=c(e,["src","fallback","loader","onLoad","onError","loaderEnabled"]);const[h,m]=(0,r.useState)("init"),[g,f]=(0,r.useState)(!1),y=(0,r.useMemo)((()=>function(e,t,n){if(e)return e.startsWith("data://")?e:"string"==typeof t||"string"==typeof n?(0,i.getImageThroughProxy)(e):t&&n?(0,i.getScaledImageURIExt)(e,t,n):t?(0,i.getScaledImageURI)(e,"width",t):n?(0,i.getScaledImageURI)(e,"height",n):(0,i.getImageThroughProxy)(e)}(n,p.width,p.height)),[p.height,p.width,n]),x=(0,r.useMemo)((()=>g?n:y),[n,y,g]),b=(0,r.useCallback)((e=>{g?(m("error"),null==l||l(e)):(m("retrying"),f(!0))}),[g,m,l,f]);return"error"!==h&&n?t(r).createElement(t(r).Fragment,null,t(r).createElement("img",Object.assign({src:x,onLoad:a,onError:b},p)),"loading"===h&&d&&t(r).createElement(t(r).Fragment,null,o||t(r).createElement(u,null))):t(r).createElement(t(r).Fragment,null,null!=s?s:null)},u=(0,a.default)(l.SkeletonLoader)`
  width: 100%;
  height: 100%;
`})),o.register("fvTH5",(function(e,t){e.exports=function(){this.grammarObject="grammarObject",this.rules=[],this.rules[0]={name:"ALPHA",lower:"alpha",index:0,isBkr:!1},this.rules[1]={name:"BIT",lower:"bit",index:1,isBkr:!1},this.rules[2]={name:"CHAR",lower:"char",index:2,isBkr:!1},this.rules[3]={name:"CR",lower:"cr",index:3,isBkr:!1},this.rules[4]={name:"CRLF",lower:"crlf",index:4,isBkr:!1},this.rules[5]={name:"CTL",lower:"ctl",index:5,isBkr:!1},this.rules[6]={name:"DIGIT",lower:"digit",index:6,isBkr:!1},this.rules[7]={name:"DQUOTE",lower:"dquote",index:7,isBkr:!1},this.rules[8]={name:"HEXDIG",lower:"hexdig",index:8,isBkr:!1},this.rules[9]={name:"HTAB",lower:"htab",index:9,isBkr:!1},this.rules[10]={name:"LF",lower:"lf",index:10,isBkr:!1},this.rules[11]={name:"LWSP",lower:"lwsp",index:11,isBkr:!1},this.rules[12]={name:"OCTET",lower:"octet",index:12,isBkr:!1},this.rules[13]={name:"SP",lower:"sp",index:13,isBkr:!1},this.rules[14]={name:"VCHAR",lower:"vchar",index:14,isBkr:!1},this.rules[15]={name:"WSP",lower:"wsp",index:15,isBkr:!1},this.rules[16]={name:"date-fullyear",lower:"date-fullyear",index:16,isBkr:!1},this.rules[17]={name:"date-month",lower:"date-month",index:17,isBkr:!1},this.rules[18]={name:"date-mday",lower:"date-mday",index:18,isBkr:!1},this.rules[19]={name:"time-hour",lower:"time-hour",index:19,isBkr:!1},this.rules[20]={name:"time-minute",lower:"time-minute",index:20,isBkr:!1},this.rules[21]={name:"time-second",lower:"time-second",index:21,isBkr:!1},this.rules[22]={name:"time-secfrac",lower:"time-secfrac",index:22,isBkr:!1},this.rules[23]={name:"time-numoffset",lower:"time-numoffset",index:23,isBkr:!1},this.rules[24]={name:"time-offset",lower:"time-offset",index:24,isBkr:!1},this.rules[25]={name:"partial-time",lower:"partial-time",index:25,isBkr:!1},this.rules[26]={name:"full-date",lower:"full-date",index:26,isBkr:!1},this.rules[27]={name:"full-time",lower:"full-time",index:27,isBkr:!1},this.rules[28]={name:"date-time",lower:"date-time",index:28,isBkr:!1},this.rules[29]={name:"URI",lower:"uri",index:29,isBkr:!1},this.rules[30]={name:"hier-part",lower:"hier-part",index:30,isBkr:!1},this.rules[31]={name:"URI-reference",lower:"uri-reference",index:31,isBkr:!1},this.rules[32]={name:"absolute-URI",lower:"absolute-uri",index:32,isBkr:!1},this.rules[33]={name:"relative-ref",lower:"relative-ref",index:33,isBkr:!1},this.rules[34]={name:"relative-part",lower:"relative-part",index:34,isBkr:!1},this.rules[35]={name:"scheme",lower:"scheme",index:35,isBkr:!1},this.rules[36]={name:"authority",lower:"authority",index:36,isBkr:!1},this.rules[37]={name:"userinfo",lower:"userinfo",index:37,isBkr:!1},this.rules[38]={name:"host",lower:"host",index:38,isBkr:!1},this.rules[39]={name:"port",lower:"port",index:39,isBkr:!1},this.rules[40]={name:"IP-literal",lower:"ip-literal",index:40,isBkr:!1},this.rules[41]={name:"IPvFuture",lower:"ipvfuture",index:41,isBkr:!1},this.rules[42]={name:"IPv6address",lower:"ipv6address",index:42,isBkr:!1},this.rules[43]={name:"h16",lower:"h16",index:43,isBkr:!1},this.rules[44]={name:"ls32",lower:"ls32",index:44,isBkr:!1},this.rules[45]={name:"IPv4address",lower:"ipv4address",index:45,isBkr:!1},this.rules[46]={name:"dec-octet",lower:"dec-octet",index:46,isBkr:!1},this.rules[47]={name:"reg-name",lower:"reg-name",index:47,isBkr:!1},this.rules[48]={name:"path",lower:"path",index:48,isBkr:!1},this.rules[49]={name:"path-abempty",lower:"path-abempty",index:49,isBkr:!1},this.rules[50]={name:"path-absolute",lower:"path-absolute",index:50,isBkr:!1},this.rules[51]={name:"path-noscheme",lower:"path-noscheme",index:51,isBkr:!1},this.rules[52]={name:"path-rootless",lower:"path-rootless",index:52,isBkr:!1},this.rules[53]={name:"path-empty",lower:"path-empty",index:53,isBkr:!1},this.rules[54]={name:"segment",lower:"segment",index:54,isBkr:!1},this.rules[55]={name:"segment-nz",lower:"segment-nz",index:55,isBkr:!1},this.rules[56]={name:"segment-nz-nc",lower:"segment-nz-nc",index:56,isBkr:!1},this.rules[57]={name:"pchar",lower:"pchar",index:57,isBkr:!1},this.rules[58]={name:"query",lower:"query",index:58,isBkr:!1},this.rules[59]={name:"fragment",lower:"fragment",index:59,isBkr:!1},this.rules[60]={name:"pct-encoded",lower:"pct-encoded",index:60,isBkr:!1},this.rules[61]={name:"unreserved",lower:"unreserved",index:61,isBkr:!1},this.rules[62]={name:"reserved",lower:"reserved",index:62,isBkr:!1},this.rules[63]={name:"gen-delims",lower:"gen-delims",index:63,isBkr:!1},this.rules[64]={name:"sub-delims",lower:"sub-delims",index:64,isBkr:!1},this.rules[65]={name:"sign-in-with-ethereum",lower:"sign-in-with-ethereum",index:65,isBkr:!1},this.rules[66]={name:"message-domain",lower:"message-domain",index:66,isBkr:!1},this.rules[67]={name:"message-address",lower:"message-address",index:67,isBkr:!1},this.rules[68]={name:"message-statement",lower:"message-statement",index:68,isBkr:!1},this.rules[69]={name:"message-uri",lower:"message-uri",index:69,isBkr:!1},this.rules[70]={name:"message-version",lower:"message-version",index:70,isBkr:!1},this.rules[71]={name:"message-chain-id",lower:"message-chain-id",index:71,isBkr:!1},this.rules[72]={name:"message-nonce",lower:"message-nonce",index:72,isBkr:!1},this.rules[73]={name:"message-issued-at",lower:"message-issued-at",index:73,isBkr:!1},this.rules[74]={name:"message-expiration-time",lower:"message-expiration-time",index:74,isBkr:!1},this.rules[75]={name:"message-not-before",lower:"message-not-before",index:75,isBkr:!1},this.rules[76]={name:"message-request-id",lower:"message-request-id",index:76,isBkr:!1},this.rules[77]={name:"message-resources",lower:"message-resources",index:77,isBkr:!1},this.udts=[],this.rules[0].opcodes=[],this.rules[0].opcodes[0]={type:1,children:[1,2]},this.rules[0].opcodes[1]={type:5,min:65,max:90},this.rules[0].opcodes[2]={type:5,min:97,max:122},this.rules[1].opcodes=[],this.rules[1].opcodes[0]={type:1,children:[1,2]},this.rules[1].opcodes[1]={type:7,string:[48]},this.rules[1].opcodes[2]={type:7,string:[49]},this.rules[2].opcodes=[],this.rules[2].opcodes[0]={type:5,min:1,max:127},this.rules[3].opcodes=[],this.rules[3].opcodes[0]={type:6,string:[13]},this.rules[4].opcodes=[],this.rules[4].opcodes[0]={type:2,children:[1,2]},this.rules[4].opcodes[1]={type:4,index:3},this.rules[4].opcodes[2]={type:4,index:10},this.rules[5].opcodes=[],this.rules[5].opcodes[0]={type:1,children:[1,2]},this.rules[5].opcodes[1]={type:5,min:0,max:31},this.rules[5].opcodes[2]={type:6,string:[127]},this.rules[6].opcodes=[],this.rules[6].opcodes[0]={type:5,min:48,max:57},this.rules[7].opcodes=[],this.rules[7].opcodes[0]={type:6,string:[34]},this.rules[8].opcodes=[],this.rules[8].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},this.rules[8].opcodes[1]={type:4,index:6},this.rules[8].opcodes[2]={type:7,string:[97]},this.rules[8].opcodes[3]={type:7,string:[98]},this.rules[8].opcodes[4]={type:7,string:[99]},this.rules[8].opcodes[5]={type:7,string:[100]},this.rules[8].opcodes[6]={type:7,string:[101]},this.rules[8].opcodes[7]={type:7,string:[102]},this.rules[9].opcodes=[],this.rules[9].opcodes[0]={type:6,string:[9]},this.rules[10].opcodes=[],this.rules[10].opcodes[0]={type:6,string:[10]},this.rules[11].opcodes=[],this.rules[11].opcodes[0]={type:3,min:0,max:1/0},this.rules[11].opcodes[1]={type:1,children:[2,3]},this.rules[11].opcodes[2]={type:4,index:15},this.rules[11].opcodes[3]={type:2,children:[4,5]},this.rules[11].opcodes[4]={type:4,index:4},this.rules[11].opcodes[5]={type:4,index:15},this.rules[12].opcodes=[],this.rules[12].opcodes[0]={type:5,min:0,max:255},this.rules[13].opcodes=[],this.rules[13].opcodes[0]={type:6,string:[32]},this.rules[14].opcodes=[],this.rules[14].opcodes[0]={type:5,min:33,max:126},this.rules[15].opcodes=[],this.rules[15].opcodes[0]={type:1,children:[1,2]},this.rules[15].opcodes[1]={type:4,index:13},this.rules[15].opcodes[2]={type:4,index:9},this.rules[16].opcodes=[],this.rules[16].opcodes[0]={type:3,min:4,max:4},this.rules[16].opcodes[1]={type:4,index:6},this.rules[17].opcodes=[],this.rules[17].opcodes[0]={type:3,min:2,max:2},this.rules[17].opcodes[1]={type:4,index:6},this.rules[18].opcodes=[],this.rules[18].opcodes[0]={type:3,min:2,max:2},this.rules[18].opcodes[1]={type:4,index:6},this.rules[19].opcodes=[],this.rules[19].opcodes[0]={type:3,min:2,max:2},this.rules[19].opcodes[1]={type:4,index:6},this.rules[20].opcodes=[],this.rules[20].opcodes[0]={type:3,min:2,max:2},this.rules[20].opcodes[1]={type:4,index:6},this.rules[21].opcodes=[],this.rules[21].opcodes[0]={type:3,min:2,max:2},this.rules[21].opcodes[1]={type:4,index:6},this.rules[22].opcodes=[],this.rules[22].opcodes[0]={type:2,children:[1,2]},this.rules[22].opcodes[1]={type:7,string:[46]},this.rules[22].opcodes[2]={type:3,min:1,max:1/0},this.rules[22].opcodes[3]={type:4,index:6},this.rules[23].opcodes=[],this.rules[23].opcodes[0]={type:2,children:[1,4,5,6]},this.rules[23].opcodes[1]={type:1,children:[2,3]},this.rules[23].opcodes[2]={type:7,string:[43]},this.rules[23].opcodes[3]={type:7,string:[45]},this.rules[23].opcodes[4]={type:4,index:19},this.rules[23].opcodes[5]={type:7,string:[58]},this.rules[23].opcodes[6]={type:4,index:20},this.rules[24].opcodes=[],this.rules[24].opcodes[0]={type:1,children:[1,2]},this.rules[24].opcodes[1]={type:7,string:[122]},this.rules[24].opcodes[2]={type:4,index:23},this.rules[25].opcodes=[],this.rules[25].opcodes[0]={type:2,children:[1,2,3,4,5,6]},this.rules[25].opcodes[1]={type:4,index:19},this.rules[25].opcodes[2]={type:7,string:[58]},this.rules[25].opcodes[3]={type:4,index:20},this.rules[25].opcodes[4]={type:7,string:[58]},this.rules[25].opcodes[5]={type:4,index:21},this.rules[25].opcodes[6]={type:3,min:0,max:1},this.rules[25].opcodes[7]={type:4,index:22},this.rules[26].opcodes=[],this.rules[26].opcodes[0]={type:2,children:[1,2,3,4,5]},this.rules[26].opcodes[1]={type:4,index:16},this.rules[26].opcodes[2]={type:7,string:[45]},this.rules[26].opcodes[3]={type:4,index:17},this.rules[26].opcodes[4]={type:7,string:[45]},this.rules[26].opcodes[5]={type:4,index:18},this.rules[27].opcodes=[],this.rules[27].opcodes[0]={type:2,children:[1,2]},this.rules[27].opcodes[1]={type:4,index:25},this.rules[27].opcodes[2]={type:4,index:24},this.rules[28].opcodes=[],this.rules[28].opcodes[0]={type:2,children:[1,2,3]},this.rules[28].opcodes[1]={type:4,index:26},this.rules[28].opcodes[2]={type:7,string:[116]},this.rules[28].opcodes[3]={type:4,index:27},this.rules[29].opcodes=[],this.rules[29].opcodes[0]={type:2,children:[1,2,3,4,8]},this.rules[29].opcodes[1]={type:4,index:35},this.rules[29].opcodes[2]={type:7,string:[58]},this.rules[29].opcodes[3]={type:4,index:30},this.rules[29].opcodes[4]={type:3,min:0,max:1},this.rules[29].opcodes[5]={type:2,children:[6,7]},this.rules[29].opcodes[6]={type:7,string:[63]},this.rules[29].opcodes[7]={type:4,index:58},this.rules[29].opcodes[8]={type:3,min:0,max:1},this.rules[29].opcodes[9]={type:2,children:[10,11]},this.rules[29].opcodes[10]={type:7,string:[35]},this.rules[29].opcodes[11]={type:4,index:59},this.rules[30].opcodes=[],this.rules[30].opcodes[0]={type:1,children:[1,5,6,7]},this.rules[30].opcodes[1]={type:2,children:[2,3,4]},this.rules[30].opcodes[2]={type:7,string:[47,47]},this.rules[30].opcodes[3]={type:4,index:36},this.rules[30].opcodes[4]={type:4,index:49},this.rules[30].opcodes[5]={type:4,index:50},this.rules[30].opcodes[6]={type:4,index:52},this.rules[30].opcodes[7]={type:4,index:53},this.rules[31].opcodes=[],this.rules[31].opcodes[0]={type:1,children:[1,2]},this.rules[31].opcodes[1]={type:4,index:29},this.rules[31].opcodes[2]={type:4,index:33},this.rules[32].opcodes=[],this.rules[32].opcodes[0]={type:2,children:[1,2,3,4]},this.rules[32].opcodes[1]={type:4,index:35},this.rules[32].opcodes[2]={type:7,string:[58]},this.rules[32].opcodes[3]={type:4,index:30},this.rules[32].opcodes[4]={type:3,min:0,max:1},this.rules[32].opcodes[5]={type:2,children:[6,7]},this.rules[32].opcodes[6]={type:7,string:[63]},this.rules[32].opcodes[7]={type:4,index:58},this.rules[33].opcodes=[],this.rules[33].opcodes[0]={type:2,children:[1,2,6]},this.rules[33].opcodes[1]={type:4,index:34},this.rules[33].opcodes[2]={type:3,min:0,max:1},this.rules[33].opcodes[3]={type:2,children:[4,5]},this.rules[33].opcodes[4]={type:7,string:[63]},this.rules[33].opcodes[5]={type:4,index:58},this.rules[33].opcodes[6]={type:3,min:0,max:1},this.rules[33].opcodes[7]={type:2,children:[8,9]},this.rules[33].opcodes[8]={type:7,string:[35]},this.rules[33].opcodes[9]={type:4,index:59},this.rules[34].opcodes=[],this.rules[34].opcodes[0]={type:1,children:[1,5,6,7]},this.rules[34].opcodes[1]={type:2,children:[2,3,4]},this.rules[34].opcodes[2]={type:7,string:[47,47]},this.rules[34].opcodes[3]={type:4,index:36},this.rules[34].opcodes[4]={type:4,index:49},this.rules[34].opcodes[5]={type:4,index:50},this.rules[34].opcodes[6]={type:4,index:51},this.rules[34].opcodes[7]={type:4,index:53},this.rules[35].opcodes=[],this.rules[35].opcodes[0]={type:2,children:[1,2]},this.rules[35].opcodes[1]={type:4,index:0},this.rules[35].opcodes[2]={type:3,min:0,max:1/0},this.rules[35].opcodes[3]={type:1,children:[4,5,6,7,8]},this.rules[35].opcodes[4]={type:4,index:0},this.rules[35].opcodes[5]={type:4,index:6},this.rules[35].opcodes[6]={type:7,string:[43]},this.rules[35].opcodes[7]={type:7,string:[45]},this.rules[35].opcodes[8]={type:7,string:[46]},this.rules[36].opcodes=[],this.rules[36].opcodes[0]={type:2,children:[1,5,6]},this.rules[36].opcodes[1]={type:3,min:0,max:1},this.rules[36].opcodes[2]={type:2,children:[3,4]},this.rules[36].opcodes[3]={type:4,index:37},this.rules[36].opcodes[4]={type:7,string:[64]},this.rules[36].opcodes[5]={type:4,index:38},this.rules[36].opcodes[6]={type:3,min:0,max:1},this.rules[36].opcodes[7]={type:2,children:[8,9]},this.rules[36].opcodes[8]={type:7,string:[58]},this.rules[36].opcodes[9]={type:4,index:39},this.rules[37].opcodes=[],this.rules[37].opcodes[0]={type:3,min:0,max:1/0},this.rules[37].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[37].opcodes[2]={type:4,index:61},this.rules[37].opcodes[3]={type:4,index:60},this.rules[37].opcodes[4]={type:4,index:64},this.rules[37].opcodes[5]={type:7,string:[58]},this.rules[38].opcodes=[],this.rules[38].opcodes[0]={type:1,children:[1,2,3]},this.rules[38].opcodes[1]={type:4,index:40},this.rules[38].opcodes[2]={type:4,index:45},this.rules[38].opcodes[3]={type:4,index:47},this.rules[39].opcodes=[],this.rules[39].opcodes[0]={type:3,min:0,max:1/0},this.rules[39].opcodes[1]={type:4,index:6},this.rules[40].opcodes=[],this.rules[40].opcodes[0]={type:2,children:[1,2,5]},this.rules[40].opcodes[1]={type:7,string:[91]},this.rules[40].opcodes[2]={type:1,children:[3,4]},this.rules[40].opcodes[3]={type:4,index:42},this.rules[40].opcodes[4]={type:4,index:41},this.rules[40].opcodes[5]={type:7,string:[93]},this.rules[41].opcodes=[],this.rules[41].opcodes[0]={type:2,children:[1,2,4,5]},this.rules[41].opcodes[1]={type:7,string:[118]},this.rules[41].opcodes[2]={type:3,min:1,max:1/0},this.rules[41].opcodes[3]={type:4,index:8},this.rules[41].opcodes[4]={type:7,string:[46]},this.rules[41].opcodes[5]={type:3,min:1,max:1/0},this.rules[41].opcodes[6]={type:1,children:[7,8,9]},this.rules[41].opcodes[7]={type:4,index:61},this.rules[41].opcodes[8]={type:4,index:64},this.rules[41].opcodes[9]={type:7,string:[58]},this.rules[42].opcodes=[],this.rules[42].opcodes[0]={type:1,children:[1,7,14,23,37,51,63,73,83]},this.rules[42].opcodes[1]={type:2,children:[2,6]},this.rules[42].opcodes[2]={type:3,min:6,max:6},this.rules[42].opcodes[3]={type:2,children:[4,5]},this.rules[42].opcodes[4]={type:4,index:43},this.rules[42].opcodes[5]={type:7,string:[58]},this.rules[42].opcodes[6]={type:4,index:44},this.rules[42].opcodes[7]={type:2,children:[8,9,13]},this.rules[42].opcodes[8]={type:7,string:[58,58]},this.rules[42].opcodes[9]={type:3,min:5,max:5},this.rules[42].opcodes[10]={type:2,children:[11,12]},this.rules[42].opcodes[11]={type:4,index:43},this.rules[42].opcodes[12]={type:7,string:[58]},this.rules[42].opcodes[13]={type:4,index:44},this.rules[42].opcodes[14]={type:2,children:[15,17,18,22]},this.rules[42].opcodes[15]={type:3,min:0,max:1},this.rules[42].opcodes[16]={type:4,index:43},this.rules[42].opcodes[17]={type:7,string:[58,58]},this.rules[42].opcodes[18]={type:3,min:4,max:4},this.rules[42].opcodes[19]={type:2,children:[20,21]},this.rules[42].opcodes[20]={type:4,index:43},this.rules[42].opcodes[21]={type:7,string:[58]},this.rules[42].opcodes[22]={type:4,index:44},this.rules[42].opcodes[23]={type:2,children:[24,31,32,36]},this.rules[42].opcodes[24]={type:3,min:0,max:1},this.rules[42].opcodes[25]={type:2,children:[26,30]},this.rules[42].opcodes[26]={type:3,min:0,max:1},this.rules[42].opcodes[27]={type:2,children:[28,29]},this.rules[42].opcodes[28]={type:4,index:43},this.rules[42].opcodes[29]={type:7,string:[58]},this.rules[42].opcodes[30]={type:4,index:43},this.rules[42].opcodes[31]={type:7,string:[58,58]},this.rules[42].opcodes[32]={type:3,min:3,max:3},this.rules[42].opcodes[33]={type:2,children:[34,35]},this.rules[42].opcodes[34]={type:4,index:43},this.rules[42].opcodes[35]={type:7,string:[58]},this.rules[42].opcodes[36]={type:4,index:44},this.rules[42].opcodes[37]={type:2,children:[38,45,46,50]},this.rules[42].opcodes[38]={type:3,min:0,max:1},this.rules[42].opcodes[39]={type:2,children:[40,44]},this.rules[42].opcodes[40]={type:3,min:0,max:2},this.rules[42].opcodes[41]={type:2,children:[42,43]},this.rules[42].opcodes[42]={type:4,index:43},this.rules[42].opcodes[43]={type:7,string:[58]},this.rules[42].opcodes[44]={type:4,index:43},this.rules[42].opcodes[45]={type:7,string:[58,58]},this.rules[42].opcodes[46]={type:3,min:2,max:2},this.rules[42].opcodes[47]={type:2,children:[48,49]},this.rules[42].opcodes[48]={type:4,index:43},this.rules[42].opcodes[49]={type:7,string:[58]},this.rules[42].opcodes[50]={type:4,index:44},this.rules[42].opcodes[51]={type:2,children:[52,59,60,61,62]},this.rules[42].opcodes[52]={type:3,min:0,max:1},this.rules[42].opcodes[53]={type:2,children:[54,58]},this.rules[42].opcodes[54]={type:3,min:0,max:3},this.rules[42].opcodes[55]={type:2,children:[56,57]},this.rules[42].opcodes[56]={type:4,index:43},this.rules[42].opcodes[57]={type:7,string:[58]},this.rules[42].opcodes[58]={type:4,index:43},this.rules[42].opcodes[59]={type:7,string:[58,58]},this.rules[42].opcodes[60]={type:4,index:43},this.rules[42].opcodes[61]={type:7,string:[58]},this.rules[42].opcodes[62]={type:4,index:44},this.rules[42].opcodes[63]={type:2,children:[64,71,72]},this.rules[42].opcodes[64]={type:3,min:0,max:1},this.rules[42].opcodes[65]={type:2,children:[66,70]},this.rules[42].opcodes[66]={type:3,min:0,max:4},this.rules[42].opcodes[67]={type:2,children:[68,69]},this.rules[42].opcodes[68]={type:4,index:43},this.rules[42].opcodes[69]={type:7,string:[58]},this.rules[42].opcodes[70]={type:4,index:43},this.rules[42].opcodes[71]={type:7,string:[58,58]},this.rules[42].opcodes[72]={type:4,index:44},this.rules[42].opcodes[73]={type:2,children:[74,81,82]},this.rules[42].opcodes[74]={type:3,min:0,max:1},this.rules[42].opcodes[75]={type:2,children:[76,80]},this.rules[42].opcodes[76]={type:3,min:0,max:5},this.rules[42].opcodes[77]={type:2,children:[78,79]},this.rules[42].opcodes[78]={type:4,index:43},this.rules[42].opcodes[79]={type:7,string:[58]},this.rules[42].opcodes[80]={type:4,index:43},this.rules[42].opcodes[81]={type:7,string:[58,58]},this.rules[42].opcodes[82]={type:4,index:43},this.rules[42].opcodes[83]={type:2,children:[84,91]},this.rules[42].opcodes[84]={type:3,min:0,max:1},this.rules[42].opcodes[85]={type:2,children:[86,90]},this.rules[42].opcodes[86]={type:3,min:0,max:6},this.rules[42].opcodes[87]={type:2,children:[88,89]},this.rules[42].opcodes[88]={type:4,index:43},this.rules[42].opcodes[89]={type:7,string:[58]},this.rules[42].opcodes[90]={type:4,index:43},this.rules[42].opcodes[91]={type:7,string:[58,58]},this.rules[43].opcodes=[],this.rules[43].opcodes[0]={type:3,min:1,max:4},this.rules[43].opcodes[1]={type:4,index:8},this.rules[44].opcodes=[],this.rules[44].opcodes[0]={type:1,children:[1,5]},this.rules[44].opcodes[1]={type:2,children:[2,3,4]},this.rules[44].opcodes[2]={type:4,index:43},this.rules[44].opcodes[3]={type:7,string:[58]},this.rules[44].opcodes[4]={type:4,index:43},this.rules[44].opcodes[5]={type:4,index:45},this.rules[45].opcodes=[],this.rules[45].opcodes[0]={type:2,children:[1,2,3,4,5,6,7]},this.rules[45].opcodes[1]={type:4,index:46},this.rules[45].opcodes[2]={type:7,string:[46]},this.rules[45].opcodes[3]={type:4,index:46},this.rules[45].opcodes[4]={type:7,string:[46]},this.rules[45].opcodes[5]={type:4,index:46},this.rules[45].opcodes[6]={type:7,string:[46]},this.rules[45].opcodes[7]={type:4,index:46},this.rules[46].opcodes=[],this.rules[46].opcodes[0]={type:1,children:[1,2,5,9,13]},this.rules[46].opcodes[1]={type:4,index:6},this.rules[46].opcodes[2]={type:2,children:[3,4]},this.rules[46].opcodes[3]={type:5,min:49,max:57},this.rules[46].opcodes[4]={type:4,index:6},this.rules[46].opcodes[5]={type:2,children:[6,7]},this.rules[46].opcodes[6]={type:7,string:[49]},this.rules[46].opcodes[7]={type:3,min:2,max:2},this.rules[46].opcodes[8]={type:4,index:6},this.rules[46].opcodes[9]={type:2,children:[10,11,12]},this.rules[46].opcodes[10]={type:7,string:[50]},this.rules[46].opcodes[11]={type:5,min:48,max:52},this.rules[46].opcodes[12]={type:4,index:6},this.rules[46].opcodes[13]={type:2,children:[14,15]},this.rules[46].opcodes[14]={type:7,string:[50,53]},this.rules[46].opcodes[15]={type:5,min:48,max:53},this.rules[47].opcodes=[],this.rules[47].opcodes[0]={type:3,min:0,max:1/0},this.rules[47].opcodes[1]={type:1,children:[2,3,4]},this.rules[47].opcodes[2]={type:4,index:61},this.rules[47].opcodes[3]={type:4,index:60},this.rules[47].opcodes[4]={type:4,index:64},this.rules[48].opcodes=[],this.rules[48].opcodes[0]={type:1,children:[1,2,3,4,5]},this.rules[48].opcodes[1]={type:4,index:49},this.rules[48].opcodes[2]={type:4,index:50},this.rules[48].opcodes[3]={type:4,index:51},this.rules[48].opcodes[4]={type:4,index:52},this.rules[48].opcodes[5]={type:4,index:53},this.rules[49].opcodes=[],this.rules[49].opcodes[0]={type:3,min:0,max:1/0},this.rules[49].opcodes[1]={type:2,children:[2,3]},this.rules[49].opcodes[2]={type:7,string:[47]},this.rules[49].opcodes[3]={type:4,index:54},this.rules[50].opcodes=[],this.rules[50].opcodes[0]={type:2,children:[1,2]},this.rules[50].opcodes[1]={type:7,string:[47]},this.rules[50].opcodes[2]={type:3,min:0,max:1},this.rules[50].opcodes[3]={type:2,children:[4,5]},this.rules[50].opcodes[4]={type:4,index:55},this.rules[50].opcodes[5]={type:3,min:0,max:1/0},this.rules[50].opcodes[6]={type:2,children:[7,8]},this.rules[50].opcodes[7]={type:7,string:[47]},this.rules[50].opcodes[8]={type:4,index:54},this.rules[51].opcodes=[],this.rules[51].opcodes[0]={type:2,children:[1,2]},this.rules[51].opcodes[1]={type:4,index:56},this.rules[51].opcodes[2]={type:3,min:0,max:1/0},this.rules[51].opcodes[3]={type:2,children:[4,5]},this.rules[51].opcodes[4]={type:7,string:[47]},this.rules[51].opcodes[5]={type:4,index:54},this.rules[52].opcodes=[],this.rules[52].opcodes[0]={type:2,children:[1,2]},this.rules[52].opcodes[1]={type:4,index:55},this.rules[52].opcodes[2]={type:3,min:0,max:1/0},this.rules[52].opcodes[3]={type:2,children:[4,5]},this.rules[52].opcodes[4]={type:7,string:[47]},this.rules[52].opcodes[5]={type:4,index:54},this.rules[53].opcodes=[],this.rules[53].opcodes[0]={type:3,min:0,max:0},this.rules[53].opcodes[1]={type:4,index:57},this.rules[54].opcodes=[],this.rules[54].opcodes[0]={type:3,min:0,max:1/0},this.rules[54].opcodes[1]={type:4,index:57},this.rules[55].opcodes=[],this.rules[55].opcodes[0]={type:3,min:1,max:1/0},this.rules[55].opcodes[1]={type:4,index:57},this.rules[56].opcodes=[],this.rules[56].opcodes[0]={type:3,min:1,max:1/0},this.rules[56].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[56].opcodes[2]={type:4,index:61},this.rules[56].opcodes[3]={type:4,index:60},this.rules[56].opcodes[4]={type:4,index:64},this.rules[56].opcodes[5]={type:7,string:[64]},this.rules[57].opcodes=[],this.rules[57].opcodes[0]={type:1,children:[1,2,3,4,5]},this.rules[57].opcodes[1]={type:4,index:61},this.rules[57].opcodes[2]={type:4,index:60},this.rules[57].opcodes[3]={type:4,index:64},this.rules[57].opcodes[4]={type:7,string:[58]},this.rules[57].opcodes[5]={type:7,string:[64]},this.rules[58].opcodes=[],this.rules[58].opcodes[0]={type:3,min:0,max:1/0},this.rules[58].opcodes[1]={type:1,children:[2,3,4]},this.rules[58].opcodes[2]={type:4,index:57},this.rules[58].opcodes[3]={type:7,string:[47]},this.rules[58].opcodes[4]={type:7,string:[63]},this.rules[59].opcodes=[],this.rules[59].opcodes[0]={type:3,min:0,max:1/0},this.rules[59].opcodes[1]={type:1,children:[2,3,4]},this.rules[59].opcodes[2]={type:4,index:57},this.rules[59].opcodes[3]={type:7,string:[47]},this.rules[59].opcodes[4]={type:7,string:[63]},this.rules[60].opcodes=[],this.rules[60].opcodes[0]={type:2,children:[1,2,3]},this.rules[60].opcodes[1]={type:7,string:[37]},this.rules[60].opcodes[2]={type:4,index:8},this.rules[60].opcodes[3]={type:4,index:8},this.rules[61].opcodes=[],this.rules[61].opcodes[0]={type:1,children:[1,2,3,4,5,6]},this.rules[61].opcodes[1]={type:4,index:0},this.rules[61].opcodes[2]={type:4,index:6},this.rules[61].opcodes[3]={type:7,string:[45]},this.rules[61].opcodes[4]={type:7,string:[46]},this.rules[61].opcodes[5]={type:7,string:[95]},this.rules[61].opcodes[6]={type:7,string:[126]},this.rules[62].opcodes=[],this.rules[62].opcodes[0]={type:1,children:[1,2]},this.rules[62].opcodes[1]={type:4,index:63},this.rules[62].opcodes[2]={type:4,index:64},this.rules[63].opcodes=[],this.rules[63].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},this.rules[63].opcodes[1]={type:7,string:[58]},this.rules[63].opcodes[2]={type:7,string:[47]},this.rules[63].opcodes[3]={type:7,string:[63]},this.rules[63].opcodes[4]={type:7,string:[35]},this.rules[63].opcodes[5]={type:7,string:[91]},this.rules[63].opcodes[6]={type:7,string:[93]},this.rules[63].opcodes[7]={type:7,string:[64]},this.rules[64].opcodes=[],this.rules[64].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10,11]},this.rules[64].opcodes[1]={type:7,string:[33]},this.rules[64].opcodes[2]={type:7,string:[36]},this.rules[64].opcodes[3]={type:7,string:[38]},this.rules[64].opcodes[4]={type:7,string:[39]},this.rules[64].opcodes[5]={type:7,string:[40]},this.rules[64].opcodes[6]={type:7,string:[41]},this.rules[64].opcodes[7]={type:7,string:[42]},this.rules[64].opcodes[8]={type:7,string:[43]},this.rules[64].opcodes[9]={type:7,string:[44]},this.rules[64].opcodes[10]={type:7,string:[59]},this.rules[64].opcodes[11]={type:7,string:[61]},this.rules[65].opcodes=[],this.rules[65].opcodes[0]={type:2,children:[1,2,3,4,5,6,7,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,31,36,41]},this.rules[65].opcodes[1]={type:4,index:66},this.rules[65].opcodes[2]={type:6,string:[32,119,97,110,116,115,32,121,111,117,32,116,111,32,115,105,103,110,32,105,110,32,119,105,116,104,32,121,111,117,114,32,69,116,104,101,114,101,117,109,32,97,99,99,111,117,110,116,58]},this.rules[65].opcodes[3]={type:4,index:10},this.rules[65].opcodes[4]={type:4,index:67},this.rules[65].opcodes[5]={type:4,index:10},this.rules[65].opcodes[6]={type:4,index:10},this.rules[65].opcodes[7]={type:3,min:0,max:1},this.rules[65].opcodes[8]={type:2,children:[9,10]},this.rules[65].opcodes[9]={type:4,index:68},this.rules[65].opcodes[10]={type:4,index:10},this.rules[65].opcodes[11]={type:4,index:10},this.rules[65].opcodes[12]={type:6,string:[85,82,73,58,32]},this.rules[65].opcodes[13]={type:4,index:69},this.rules[65].opcodes[14]={type:4,index:10},this.rules[65].opcodes[15]={type:6,string:[86,101,114,115,105,111,110,58,32]},this.rules[65].opcodes[16]={type:4,index:70},this.rules[65].opcodes[17]={type:4,index:10},this.rules[65].opcodes[18]={type:6,string:[67,104,97,105,110,32,73,68,58,32]},this.rules[65].opcodes[19]={type:4,index:71},this.rules[65].opcodes[20]={type:4,index:10},this.rules[65].opcodes[21]={type:6,string:[78,111,110,99,101,58,32]},this.rules[65].opcodes[22]={type:4,index:72},this.rules[65].opcodes[23]={type:4,index:10},this.rules[65].opcodes[24]={type:6,string:[73,115,115,117,101,100,32,65,116,58,32]},this.rules[65].opcodes[25]={type:4,index:73},this.rules[65].opcodes[26]={type:3,min:0,max:1},this.rules[65].opcodes[27]={type:2,children:[28,29,30]},this.rules[65].opcodes[28]={type:4,index:10},this.rules[65].opcodes[29]={type:6,string:[69,120,112,105,114,97,116,105,111,110,32,84,105,109,101,58,32]},this.rules[65].opcodes[30]={type:4,index:74},this.rules[65].opcodes[31]={type:3,min:0,max:1},this.rules[65].opcodes[32]={type:2,children:[33,34,35]},this.rules[65].opcodes[33]={type:4,index:10},this.rules[65].opcodes[34]={type:6,string:[78,111,116,32,66,101,102,111,114,101,58,32]},this.rules[65].opcodes[35]={type:4,index:75},this.rules[65].opcodes[36]={type:3,min:0,max:1},this.rules[65].opcodes[37]={type:2,children:[38,39,40]},this.rules[65].opcodes[38]={type:4,index:10},this.rules[65].opcodes[39]={type:6,string:[82,101,113,117,101,115,116,32,73,68,58,32]},this.rules[65].opcodes[40]={type:4,index:76},this.rules[65].opcodes[41]={type:3,min:0,max:1},this.rules[65].opcodes[42]={type:2,children:[43,44,45]},this.rules[65].opcodes[43]={type:4,index:10},this.rules[65].opcodes[44]={type:6,string:[82,101,115,111,117,114,99,101,115,58]},this.rules[65].opcodes[45]={type:4,index:77},this.rules[66].opcodes=[],this.rules[66].opcodes[0]={type:4,index:36},this.rules[67].opcodes=[],this.rules[67].opcodes[0]={type:2,children:[1,2]},this.rules[67].opcodes[1]={type:7,string:[48,120]},this.rules[67].opcodes[2]={type:3,min:40,max:40},this.rules[67].opcodes[3]={type:4,index:8},this.rules[68].opcodes=[],this.rules[68].opcodes[0]={type:3,min:1,max:1/0},this.rules[68].opcodes[1]={type:1,children:[2,3,4]},this.rules[68].opcodes[2]={type:4,index:62},this.rules[68].opcodes[3]={type:4,index:61},this.rules[68].opcodes[4]={type:7,string:[32]},this.rules[69].opcodes=[],this.rules[69].opcodes[0]={type:4,index:29},this.rules[70].opcodes=[],this.rules[70].opcodes[0]={type:7,string:[49]},this.rules[71].opcodes=[],this.rules[71].opcodes[0]={type:3,min:1,max:1/0},this.rules[71].opcodes[1]={type:4,index:6},this.rules[72].opcodes=[],this.rules[72].opcodes[0]={type:3,min:8,max:1/0},this.rules[72].opcodes[1]={type:1,children:[2,3]},this.rules[72].opcodes[2]={type:4,index:0},this.rules[72].opcodes[3]={type:4,index:6},this.rules[73].opcodes=[],this.rules[73].opcodes[0]={type:4,index:28},this.rules[74].opcodes=[],this.rules[74].opcodes[0]={type:4,index:28},this.rules[75].opcodes=[],this.rules[75].opcodes[0]={type:4,index:28},this.rules[76].opcodes=[],this.rules[76].opcodes[0]={type:3,min:0,max:1/0},this.rules[76].opcodes[1]={type:4,index:57},this.rules[77].opcodes=[],this.rules[77].opcodes[0]={type:3,min:0,max:1/0},this.rules[77].opcodes[1]={type:2,children:[2,3,4]},this.rules[77].opcodes[2]={type:4,index:10},this.rules[77].opcodes[3]={type:7,string:[45,32]},this.rules[77].opcodes[4]={type:4,index:29},this.toString=function(){let e="";return e+="; ==============================================================================\n",e+="; Core rules for ABNF (RFC 5234)\n",e+="; ==============================================================================\n",e+=";\n",e+="; References:\n",e+="; - https://www.rfc-editor.org/rfc/rfc5234#appendix-B.1\n",e+="\n",e+="ALPHA          =  %x41-5A / %x61-7A\n",e+="               ; A-Z / a-z\n",e+="\n",e+='BIT            =  "0" / "1"\n',e+="\n",e+="CHAR           =  %x01-7F\n",e+="               ; any 7-bit US-ASCII character,\n",e+="               ;  excluding NUL\n",e+="\n",e+="CR             =  %x0D\n",e+="               ; carriage return\n",e+="\n",e+="CRLF           =  CR LF\n",e+="               ; Internet standard newline\n",e+="\n",e+="CTL            =  %x00-1F / %x7F\n",e+="               ; controls\n",e+="\n",e+="DIGIT          =  %x30-39\n",e+="               ; 0-9\n",e+="\n",e+="DQUOTE         =  %x22\n",e+='               ; " (Double Quote)\n',e+="\n",e+='HEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"\n',e+="\n",e+="HTAB           =  %x09\n",e+="               ; horizontal tab\n",e+="\n",e+="LF             =  %x0A\n",e+="               ; linefeed\n",e+="\n",e+="LWSP           =  *(WSP / CRLF WSP)\n",e+="               ; Use of this linear-white-space rule\n",e+="               ;  permits lines containing only white\n",e+="               ;  space that are no longer legal in\n",e+="               ;  mail headers and have caused\n",e+="               ;  interoperability problems in other\n",e+="               ;  contexts.\n",e+="               ; Do not use when defining mail\n",e+="               ;  headers and use with caution in\n",e+="               ;  other contexts.\n",e+="\n",e+="OCTET          =  %x00-FF\n",e+="               ; 8 bits of data\n",e+="\n",e+="SP             =  %x20\n",e+="\n",e+="VCHAR          =  %x21-7E\n",e+="               ; visible (printing) characters\n",e+="\n",e+="WSP            =  SP / HTAB\n",e+="               ; white space\n",e+="; ==============================================================================\n",e+="; Internet Date/Time Format (RFC 3339)\n",e+="; ==============================================================================\n",e+=";\n",e+="; Requires:\n",e+="; - core.bnf\n",e+=";\n",e+="; References:\n",e+="; - https://www.rfc-editor.org/rfc/rfc3339#section-5.6\n",e+="\n",e+="date-fullyear   = 4DIGIT\n",e+="\n",e+="date-month      = 2DIGIT  ; 01-12\n",e+="\n",e+="date-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on\n",e+="                          ; month/year\n",e+="\n",e+="time-hour       = 2DIGIT  ; 00-23\n",e+="\n",e+="time-minute     = 2DIGIT  ; 00-59\n",e+="\n",e+="time-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second\n",e+="                          ; rules\n",e+="\n",e+='time-secfrac    = "." 1*DIGIT\n',e+="\n",e+='time-numoffset  = ("+" / "-") time-hour ":" time-minute\n',e+="\n",e+='time-offset     = "Z" / time-numoffset\n',e+="\n",e+='partial-time    = time-hour ":" time-minute ":" time-second\n',e+="                  [time-secfrac]\n",e+="\n",e+='full-date       = date-fullyear "-" date-month "-" date-mday\n',e+="\n",e+="full-time       = partial-time time-offset\n",e+="\n",e+='date-time       = full-date "T" full-time\n',e+="; ==============================================================================\n",e+="; Uniform Resource Identifier (RFC 3986)\n",e+="; ==============================================================================\n",e+=";\n",e+="; Requires:\n",e+="; - core.bnf\n",e+=";\n",e+="; References:\n",e+="; - https://www.rfc-editor.org/rfc/rfc3986#appendix-A\n",e+="\n",e+='URI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]\n',e+="\n",e+='hier-part     = "//" authority path-abempty\n',e+="              / path-absolute\n",e+="              / path-rootless\n",e+="              / path-empty\n",e+="\n",e+="URI-reference = URI / relative-ref\n",e+="\n",e+='absolute-URI  = scheme ":" hier-part [ "?" query ]\n',e+="\n",e+='relative-ref  = relative-part [ "?" query ] [ "#" fragment ]\n',e+="\n",e+='relative-part = "//" authority path-abempty\n',e+="              / path-absolute\n",e+="              / path-noscheme\n",e+="              / path-empty\n",e+="\n",e+='scheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )\n',e+="\n",e+='authority     = [ userinfo "@" ] host [ ":" port ]\n',e+='userinfo      = *( unreserved / pct-encoded / sub-delims / ":" )\n',e+="host          = IP-literal / IPv4address / reg-name\n",e+="port          = *DIGIT\n",e+="\n",e+='IP-literal    = "[" ( IPv6address / IPvFuture  ) "]"\n',e+="\n",e+='IPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )\n',e+="\n",e+='IPv6address   =                            6( h16 ":" ) ls32\n',e+='              /                       "::" 5( h16 ":" ) ls32\n',e+='              / [               h16 ] "::" 4( h16 ":" ) ls32\n',e+='              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32\n',e+='              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32\n',e+='              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32\n',e+='              / [ *4( h16 ":" ) h16 ] "::"              ls32\n',e+='              / [ *5( h16 ":" ) h16 ] "::"              h16\n',e+='              / [ *6( h16 ":" ) h16 ] "::"\n',e+="\n",e+="h16           = 1*4HEXDIG\n",e+='ls32          = ( h16 ":" h16 ) / IPv4address\n',e+='IPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet\n',e+="dec-octet     = DIGIT                 ; 0-9\n",e+="              / %x31-39 DIGIT         ; 10-99\n",e+='              / "1" 2DIGIT            ; 100-199\n',e+='              / "2" %x30-34 DIGIT     ; 200-249\n',e+='              / "25" %x30-35          ; 250-255\n',e+="\n",e+="reg-name      = *( unreserved / pct-encoded / sub-delims )\n",e+="\n",e+='path          = path-abempty    ; begins with "/" or is empty\n',e+='              / path-absolute   ; begins with "/" but not "//"\n',e+="              / path-noscheme   ; begins with a non-colon segment\n",e+="              / path-rootless   ; begins with a segment\n",e+="              / path-empty      ; zero characters\n",e+="\n",e+='path-abempty  = *( "/" segment )\n',e+='path-absolute = "/" [ segment-nz *( "/" segment ) ]\n',e+='path-noscheme = segment-nz-nc *( "/" segment )\n',e+='path-rootless = segment-nz *( "/" segment )\n',e+="path-empty    = 0pchar\n",e+="\n",e+="segment       = *pchar\n",e+="segment-nz    = 1*pchar\n",e+='segment-nz-nc = 1*( unreserved / pct-encoded / sub-delims / "@" )\n',e+='; non-zero-length segment without any colon ":"\n',e+="\n",e+='pchar         = unreserved / pct-encoded / sub-delims / ":" / "@"\n',e+="\n",e+='query         = *( pchar / "/" / "?" )\n',e+="\n",e+='fragment      = *( pchar / "/" / "?" )\n',e+="\n",e+='pct-encoded   = "%" HEXDIG HEXDIG\n',e+="\n",e+='unreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"\n',e+="reserved      = gen-delims / sub-delims\n",e+='gen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"\n',e+='sub-delims    = "!" / "$" / "&" / "\'" / "(" / ")"\n',e+='              / "*" / "+" / "," / ";" / "="\n',e+="; ==============================================================================\n",e+="; Sign in with Ethereum (EIP-4361)\n",e+="; ==============================================================================\n",e+=";\n",e+="; Requires:\n",e+="; - core.bnf\n",e+="; - datetime.bnf\n",e+="; - uri.bnf\n",e+=";\n",e+="; References:\n",e+="; - https://eips.ethereum.org/EIPS/eip-4361\n",e+="\n",e+="sign-in-with-ethereum =\n",e+='  message-domain %s" wants you to sign in with your Ethereum account:" LF\n',e+="  message-address LF\n",e+="  LF\n",e+="  [ message-statement LF ]\n",e+="  LF\n",e+='  %s"URI: " message-uri LF\n',e+='  %s"Version: " message-version LF\n',e+='  %s"Chain ID: " message-chain-id LF\n',e+='  %s"Nonce: " message-nonce LF\n',e+='  %s"Issued At: " message-issued-at\n',e+='  [ LF %s"Expiration Time: " message-expiration-time ]\n',e+='  [ LF %s"Not Before: " message-not-before ]\n',e+='  [ LF %s"Request ID: " message-request-id ]\n',e+='  [ LF %s"Resources:" message-resources ]\n',e+="\n",e+="message-domain          = authority\n",e+='message-address         = "0x" 40*40HEXDIG\n',e+='message-statement       = 1*( reserved / unreserved / " " )\n',e+="message-uri             = URI\n",e+='message-version         = "1"\n',e+="message-chain-id        = 1*DIGIT\n",e+="message-nonce           = 8*( ALPHA / DIGIT )\n",e+="message-issued-at       = date-time\n",e+="message-expiration-time = date-time\n",e+="message-not-before      = date-time\n",e+="message-request-id      = *pchar\n",e+='message-resources       = *( LF "- " URI )\n','; ==============================================================================\n; Core rules for ABNF (RFC 5234)\n; ==============================================================================\n;\n; References:\n; - https://www.rfc-editor.org/rfc/rfc5234#appendix-B.1\n\nALPHA          =  %x41-5A / %x61-7A\n               ; A-Z / a-z\n\nBIT            =  "0" / "1"\n\nCHAR           =  %x01-7F\n               ; any 7-bit US-ASCII character,\n               ;  excluding NUL\n\nCR             =  %x0D\n               ; carriage return\n\nCRLF           =  CR LF\n               ; Internet standard newline\n\nCTL            =  %x00-1F / %x7F\n               ; controls\n\nDIGIT          =  %x30-39\n               ; 0-9\n\nDQUOTE         =  %x22\n               ; " (Double Quote)\n\nHEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"\n\nHTAB           =  %x09\n               ; horizontal tab\n\nLF             =  %x0A\n               ; linefeed\n\nLWSP           =  *(WSP / CRLF WSP)\n               ; Use of this linear-white-space rule\n               ;  permits lines containing only white\n               ;  space that are no longer legal in\n               ;  mail headers and have caused\n               ;  interoperability problems in other\n               ;  contexts.\n               ; Do not use when defining mail\n               ;  headers and use with caution in\n               ;  other contexts.\n\nOCTET          =  %x00-FF\n               ; 8 bits of data\n\nSP             =  %x20\n\nVCHAR          =  %x21-7E\n               ; visible (printing) characters\n\nWSP            =  SP / HTAB\n               ; white space\n; ==============================================================================\n; Internet Date/Time Format (RFC 3339)\n; ==============================================================================\n;\n; Requires:\n; - core.bnf\n;\n; References:\n; - https://www.rfc-editor.org/rfc/rfc3339#section-5.6\n\ndate-fullyear   = 4DIGIT\n\ndate-month      = 2DIGIT  ; 01-12\n\ndate-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on\n                          ; month/year\n\ntime-hour       = 2DIGIT  ; 00-23\n\ntime-minute     = 2DIGIT  ; 00-59\n\ntime-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second\n                          ; rules\n\ntime-secfrac    = "." 1*DIGIT\n\ntime-numoffset  = ("+" / "-") time-hour ":" time-minute\n\ntime-offset     = "Z" / time-numoffset\n\npartial-time    = time-hour ":" time-minute ":" time-second\n                  [time-secfrac]\n\nfull-date       = date-fullyear "-" date-month "-" date-mday\n\nfull-time       = partial-time time-offset\n\ndate-time       = full-date "T" full-time\n; ==============================================================================\n; Uniform Resource Identifier (RFC 3986)\n; ==============================================================================\n;\n; Requires:\n; - core.bnf\n;\n; References:\n; - https://www.rfc-editor.org/rfc/rfc3986#appendix-A\n\nURI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]\n\nhier-part     = "//" authority path-abempty\n              / path-absolute\n              / path-rootless\n              / path-empty\n\nURI-reference = URI / relative-ref\n\nabsolute-URI  = scheme ":" hier-part [ "?" query ]\n\nrelative-ref  = relative-part [ "?" query ] [ "#" fragment ]\n\nrelative-part = "//" authority path-abempty\n              / path-absolute\n              / path-noscheme\n              / path-empty\n\nscheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )\n\nauthority     = [ userinfo "@" ] host [ ":" port ]\nuserinfo      = *( unreserved / pct-encoded / sub-delims / ":" )\nhost          = IP-literal / IPv4address / reg-name\nport          = *DIGIT\n\nIP-literal    = "[" ( IPv6address / IPvFuture  ) "]"\n\nIPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )\n\nIPv6address   =                            6( h16 ":" ) ls32\n              /                       "::" 5( h16 ":" ) ls32\n              / [               h16 ] "::" 4( h16 ":" ) ls32\n              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32\n              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32\n              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32\n              / [ *4( h16 ":" ) h16 ] "::"              ls32\n              / [ *5( h16 ":" ) h16 ] "::"              h16\n              / [ *6( h16 ":" ) h16 ] "::"\n\nh16           = 1*4HEXDIG\nls32          = ( h16 ":" h16 ) / IPv4address\nIPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet\ndec-octet     = DIGIT                 ; 0-9\n              / %x31-39 DIGIT         ; 10-99\n              / "1" 2DIGIT            ; 100-199\n              / "2" %x30-34 DIGIT     ; 200-249\n              / "25" %x30-35          ; 250-255\n\nreg-name      = *( unreserved / pct-encoded / sub-delims )\n\npath          = path-abempty    ; begins with "/" or is empty\n              / path-absolute   ; begins with "/" but not "//"\n              / path-noscheme   ; begins with a non-colon segment\n              / path-rootless   ; begins with a segment\n              / path-empty      ; zero characters\n\npath-abempty  = *( "/" segment )\npath-absolute = "/" [ segment-nz *( "/" segment ) ]\npath-noscheme = segment-nz-nc *( "/" segment )\npath-rootless = segment-nz *( "/" segment )\npath-empty    = 0pchar\n\nsegment       = *pchar\nsegment-nz    = 1*pchar\nsegment-nz-nc = 1*( unreserved / pct-encoded / sub-delims / "@" )\n; non-zero-length segment without any colon ":"\n\npchar         = unreserved / pct-encoded / sub-delims / ":" / "@"\n\nquery         = *( pchar / "/" / "?" )\n\nfragment      = *( pchar / "/" / "?" )\n\npct-encoded   = "%" HEXDIG HEXDIG\n\nunreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"\nreserved      = gen-delims / sub-delims\ngen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"\nsub-delims    = "!" / "$" / "&" / "\'" / "(" / ")"\n              / "*" / "+" / "," / ";" / "="\n; ==============================================================================\n; Sign in with Ethereum (EIP-4361)\n; ==============================================================================\n;\n; Requires:\n; - core.bnf\n; - datetime.bnf\n; - uri.bnf\n;\n; References:\n; - https://eips.ethereum.org/EIPS/eip-4361\n\nsign-in-with-ethereum =\n  message-domain %s" wants you to sign in with your Ethereum account:" LF\n  message-address LF\n  LF\n  [ message-statement LF ]\n  LF\n  %s"URI: " message-uri LF\n  %s"Version: " message-version LF\n  %s"Chain ID: " message-chain-id LF\n  %s"Nonce: " message-nonce LF\n  %s"Issued At: " message-issued-at\n  [ LF %s"Expiration Time: " message-expiration-time ]\n  [ LF %s"Not Before: " message-not-before ]\n  [ LF %s"Request ID: " message-request-id ]\n  [ LF %s"Resources:" message-resources ]\n\nmessage-domain          = authority\nmessage-address         = "0x" 40*40HEXDIG\nmessage-statement       = 1*( reserved / unreserved / " " )\nmessage-uri             = URI\nmessage-version         = "1"\nmessage-chain-id        = 1*DIGIT\nmessage-nonce           = 8*( ALPHA / DIGIT )\nmessage-issued-at       = date-time\nmessage-expiration-time = date-time\nmessage-not-before      = date-time\nmessage-request-id      = *pchar\nmessage-resources       = *( LF "- " URI )\n'}}})),o.register("iEXqR",(function(e,t){e.exports=function(){this.grammarObject="grammarObject",this.rules=[],this.rules[0]={name:"ALPHA",lower:"alpha",index:0,isBkr:!1},this.rules[1]={name:"BIT",lower:"bit",index:1,isBkr:!1},this.rules[2]={name:"CHAR",lower:"char",index:2,isBkr:!1},this.rules[3]={name:"CR",lower:"cr",index:3,isBkr:!1},this.rules[4]={name:"CRLF",lower:"crlf",index:4,isBkr:!1},this.rules[5]={name:"CTL",lower:"ctl",index:5,isBkr:!1},this.rules[6]={name:"DIGIT",lower:"digit",index:6,isBkr:!1},this.rules[7]={name:"DQUOTE",lower:"dquote",index:7,isBkr:!1},this.rules[8]={name:"HEXDIG",lower:"hexdig",index:8,isBkr:!1},this.rules[9]={name:"HTAB",lower:"htab",index:9,isBkr:!1},this.rules[10]={name:"LF",lower:"lf",index:10,isBkr:!1},this.rules[11]={name:"LWSP",lower:"lwsp",index:11,isBkr:!1},this.rules[12]={name:"OCTET",lower:"octet",index:12,isBkr:!1},this.rules[13]={name:"SP",lower:"sp",index:13,isBkr:!1},this.rules[14]={name:"VCHAR",lower:"vchar",index:14,isBkr:!1},this.rules[15]={name:"WSP",lower:"wsp",index:15,isBkr:!1},this.rules[16]={name:"date-fullyear",lower:"date-fullyear",index:16,isBkr:!1},this.rules[17]={name:"date-month",lower:"date-month",index:17,isBkr:!1},this.rules[18]={name:"date-mday",lower:"date-mday",index:18,isBkr:!1},this.rules[19]={name:"time-hour",lower:"time-hour",index:19,isBkr:!1},this.rules[20]={name:"time-minute",lower:"time-minute",index:20,isBkr:!1},this.rules[21]={name:"time-second",lower:"time-second",index:21,isBkr:!1},this.rules[22]={name:"time-secfrac",lower:"time-secfrac",index:22,isBkr:!1},this.rules[23]={name:"time-numoffset",lower:"time-numoffset",index:23,isBkr:!1},this.rules[24]={name:"time-offset",lower:"time-offset",index:24,isBkr:!1},this.rules[25]={name:"partial-time",lower:"partial-time",index:25,isBkr:!1},this.rules[26]={name:"full-date",lower:"full-date",index:26,isBkr:!1},this.rules[27]={name:"full-time",lower:"full-time",index:27,isBkr:!1},this.rules[28]={name:"date-time",lower:"date-time",index:28,isBkr:!1},this.rules[29]={name:"URI",lower:"uri",index:29,isBkr:!1},this.rules[30]={name:"hier-part",lower:"hier-part",index:30,isBkr:!1},this.rules[31]={name:"URI-reference",lower:"uri-reference",index:31,isBkr:!1},this.rules[32]={name:"absolute-URI",lower:"absolute-uri",index:32,isBkr:!1},this.rules[33]={name:"relative-ref",lower:"relative-ref",index:33,isBkr:!1},this.rules[34]={name:"relative-part",lower:"relative-part",index:34,isBkr:!1},this.rules[35]={name:"scheme",lower:"scheme",index:35,isBkr:!1},this.rules[36]={name:"authority",lower:"authority",index:36,isBkr:!1},this.rules[37]={name:"userinfo",lower:"userinfo",index:37,isBkr:!1},this.rules[38]={name:"host",lower:"host",index:38,isBkr:!1},this.rules[39]={name:"port",lower:"port",index:39,isBkr:!1},this.rules[40]={name:"IP-literal",lower:"ip-literal",index:40,isBkr:!1},this.rules[41]={name:"IPvFuture",lower:"ipvfuture",index:41,isBkr:!1},this.rules[42]={name:"IPv6address",lower:"ipv6address",index:42,isBkr:!1},this.rules[43]={name:"h16",lower:"h16",index:43,isBkr:!1},this.rules[44]={name:"ls32",lower:"ls32",index:44,isBkr:!1},this.rules[45]={name:"IPv4address",lower:"ipv4address",index:45,isBkr:!1},this.rules[46]={name:"dec-octet",lower:"dec-octet",index:46,isBkr:!1},this.rules[47]={name:"reg-name",lower:"reg-name",index:47,isBkr:!1},this.rules[48]={name:"path",lower:"path",index:48,isBkr:!1},this.rules[49]={name:"path-abempty",lower:"path-abempty",index:49,isBkr:!1},this.rules[50]={name:"path-absolute",lower:"path-absolute",index:50,isBkr:!1},this.rules[51]={name:"path-noscheme",lower:"path-noscheme",index:51,isBkr:!1},this.rules[52]={name:"path-rootless",lower:"path-rootless",index:52,isBkr:!1},this.rules[53]={name:"path-empty",lower:"path-empty",index:53,isBkr:!1},this.rules[54]={name:"segment",lower:"segment",index:54,isBkr:!1},this.rules[55]={name:"segment-nz",lower:"segment-nz",index:55,isBkr:!1},this.rules[56]={name:"segment-nz-nc",lower:"segment-nz-nc",index:56,isBkr:!1},this.rules[57]={name:"pchar",lower:"pchar",index:57,isBkr:!1},this.rules[58]={name:"query",lower:"query",index:58,isBkr:!1},this.rules[59]={name:"fragment",lower:"fragment",index:59,isBkr:!1},this.rules[60]={name:"pct-encoded",lower:"pct-encoded",index:60,isBkr:!1},this.rules[61]={name:"unreserved",lower:"unreserved",index:61,isBkr:!1},this.rules[62]={name:"reserved",lower:"reserved",index:62,isBkr:!1},this.rules[63]={name:"gen-delims",lower:"gen-delims",index:63,isBkr:!1},this.rules[64]={name:"sub-delims",lower:"sub-delims",index:64,isBkr:!1},this.rules[65]={name:"sign-in-with-solana",lower:"sign-in-with-solana",index:65,isBkr:!1},this.rules[66]={name:"advanced-fields",lower:"advanced-fields",index:66,isBkr:!1},this.rules[67]={name:"message-domain",lower:"message-domain",index:67,isBkr:!1},this.rules[68]={name:"message-address",lower:"message-address",index:68,isBkr:!1},this.rules[69]={name:"message-statement",lower:"message-statement",index:69,isBkr:!1},this.rules[70]={name:"message-uri",lower:"message-uri",index:70,isBkr:!1},this.rules[71]={name:"message-version",lower:"message-version",index:71,isBkr:!1},this.rules[72]={name:"message-chain-id",lower:"message-chain-id",index:72,isBkr:!1},this.rules[73]={name:"message-nonce",lower:"message-nonce",index:73,isBkr:!1},this.rules[74]={name:"message-issued-at",lower:"message-issued-at",index:74,isBkr:!1},this.rules[75]={name:"message-expiration-time",lower:"message-expiration-time",index:75,isBkr:!1},this.rules[76]={name:"message-not-before",lower:"message-not-before",index:76,isBkr:!1},this.rules[77]={name:"message-request-id",lower:"message-request-id",index:77,isBkr:!1},this.rules[78]={name:"message-resources",lower:"message-resources",index:78,isBkr:!1},this.udts=[],this.rules[0].opcodes=[],this.rules[0].opcodes[0]={type:1,children:[1,2]},this.rules[0].opcodes[1]={type:5,min:65,max:90},this.rules[0].opcodes[2]={type:5,min:97,max:122},this.rules[1].opcodes=[],this.rules[1].opcodes[0]={type:1,children:[1,2]},this.rules[1].opcodes[1]={type:7,string:[48]},this.rules[1].opcodes[2]={type:7,string:[49]},this.rules[2].opcodes=[],this.rules[2].opcodes[0]={type:5,min:1,max:127},this.rules[3].opcodes=[],this.rules[3].opcodes[0]={type:6,string:[13]},this.rules[4].opcodes=[],this.rules[4].opcodes[0]={type:2,children:[1,2]},this.rules[4].opcodes[1]={type:4,index:3},this.rules[4].opcodes[2]={type:4,index:10},this.rules[5].opcodes=[],this.rules[5].opcodes[0]={type:1,children:[1,2]},this.rules[5].opcodes[1]={type:5,min:0,max:31},this.rules[5].opcodes[2]={type:6,string:[127]},this.rules[6].opcodes=[],this.rules[6].opcodes[0]={type:5,min:48,max:57},this.rules[7].opcodes=[],this.rules[7].opcodes[0]={type:6,string:[34]},this.rules[8].opcodes=[],this.rules[8].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},this.rules[8].opcodes[1]={type:4,index:6},this.rules[8].opcodes[2]={type:7,string:[97]},this.rules[8].opcodes[3]={type:7,string:[98]},this.rules[8].opcodes[4]={type:7,string:[99]},this.rules[8].opcodes[5]={type:7,string:[100]},this.rules[8].opcodes[6]={type:7,string:[101]},this.rules[8].opcodes[7]={type:7,string:[102]},this.rules[9].opcodes=[],this.rules[9].opcodes[0]={type:6,string:[9]},this.rules[10].opcodes=[],this.rules[10].opcodes[0]={type:6,string:[10]},this.rules[11].opcodes=[],this.rules[11].opcodes[0]={type:3,min:0,max:1/0},this.rules[11].opcodes[1]={type:1,children:[2,3]},this.rules[11].opcodes[2]={type:4,index:15},this.rules[11].opcodes[3]={type:2,children:[4,5]},this.rules[11].opcodes[4]={type:4,index:4},this.rules[11].opcodes[5]={type:4,index:15},this.rules[12].opcodes=[],this.rules[12].opcodes[0]={type:5,min:0,max:255},this.rules[13].opcodes=[],this.rules[13].opcodes[0]={type:6,string:[32]},this.rules[14].opcodes=[],this.rules[14].opcodes[0]={type:5,min:33,max:126},this.rules[15].opcodes=[],this.rules[15].opcodes[0]={type:1,children:[1,2]},this.rules[15].opcodes[1]={type:4,index:13},this.rules[15].opcodes[2]={type:4,index:9},this.rules[16].opcodes=[],this.rules[16].opcodes[0]={type:3,min:4,max:4},this.rules[16].opcodes[1]={type:4,index:6},this.rules[17].opcodes=[],this.rules[17].opcodes[0]={type:3,min:2,max:2},this.rules[17].opcodes[1]={type:4,index:6},this.rules[18].opcodes=[],this.rules[18].opcodes[0]={type:3,min:2,max:2},this.rules[18].opcodes[1]={type:4,index:6},this.rules[19].opcodes=[],this.rules[19].opcodes[0]={type:3,min:2,max:2},this.rules[19].opcodes[1]={type:4,index:6},this.rules[20].opcodes=[],this.rules[20].opcodes[0]={type:3,min:2,max:2},this.rules[20].opcodes[1]={type:4,index:6},this.rules[21].opcodes=[],this.rules[21].opcodes[0]={type:3,min:2,max:2},this.rules[21].opcodes[1]={type:4,index:6},this.rules[22].opcodes=[],this.rules[22].opcodes[0]={type:2,children:[1,2]},this.rules[22].opcodes[1]={type:7,string:[46]},this.rules[22].opcodes[2]={type:3,min:1,max:1/0},this.rules[22].opcodes[3]={type:4,index:6},this.rules[23].opcodes=[],this.rules[23].opcodes[0]={type:2,children:[1,4,5,6]},this.rules[23].opcodes[1]={type:1,children:[2,3]},this.rules[23].opcodes[2]={type:7,string:[43]},this.rules[23].opcodes[3]={type:7,string:[45]},this.rules[23].opcodes[4]={type:4,index:19},this.rules[23].opcodes[5]={type:7,string:[58]},this.rules[23].opcodes[6]={type:4,index:20},this.rules[24].opcodes=[],this.rules[24].opcodes[0]={type:1,children:[1,2]},this.rules[24].opcodes[1]={type:7,string:[122]},this.rules[24].opcodes[2]={type:4,index:23},this.rules[25].opcodes=[],this.rules[25].opcodes[0]={type:2,children:[1,2,3,4,5,6]},this.rules[25].opcodes[1]={type:4,index:19},this.rules[25].opcodes[2]={type:7,string:[58]},this.rules[25].opcodes[3]={type:4,index:20},this.rules[25].opcodes[4]={type:7,string:[58]},this.rules[25].opcodes[5]={type:4,index:21},this.rules[25].opcodes[6]={type:3,min:0,max:1},this.rules[25].opcodes[7]={type:4,index:22},this.rules[26].opcodes=[],this.rules[26].opcodes[0]={type:2,children:[1,2,3,4,5]},this.rules[26].opcodes[1]={type:4,index:16},this.rules[26].opcodes[2]={type:7,string:[45]},this.rules[26].opcodes[3]={type:4,index:17},this.rules[26].opcodes[4]={type:7,string:[45]},this.rules[26].opcodes[5]={type:4,index:18},this.rules[27].opcodes=[],this.rules[27].opcodes[0]={type:2,children:[1,2]},this.rules[27].opcodes[1]={type:4,index:25},this.rules[27].opcodes[2]={type:4,index:24},this.rules[28].opcodes=[],this.rules[28].opcodes[0]={type:2,children:[1,2,3]},this.rules[28].opcodes[1]={type:4,index:26},this.rules[28].opcodes[2]={type:7,string:[116]},this.rules[28].opcodes[3]={type:4,index:27},this.rules[29].opcodes=[],this.rules[29].opcodes[0]={type:2,children:[1,2,3,4,8]},this.rules[29].opcodes[1]={type:4,index:35},this.rules[29].opcodes[2]={type:7,string:[58]},this.rules[29].opcodes[3]={type:4,index:30},this.rules[29].opcodes[4]={type:3,min:0,max:1},this.rules[29].opcodes[5]={type:2,children:[6,7]},this.rules[29].opcodes[6]={type:7,string:[63]},this.rules[29].opcodes[7]={type:4,index:58},this.rules[29].opcodes[8]={type:3,min:0,max:1},this.rules[29].opcodes[9]={type:2,children:[10,11]},this.rules[29].opcodes[10]={type:7,string:[35]},this.rules[29].opcodes[11]={type:4,index:59},this.rules[30].opcodes=[],this.rules[30].opcodes[0]={type:1,children:[1,5,6,7]},this.rules[30].opcodes[1]={type:2,children:[2,3,4]},this.rules[30].opcodes[2]={type:7,string:[47,47]},this.rules[30].opcodes[3]={type:4,index:36},this.rules[30].opcodes[4]={type:4,index:49},this.rules[30].opcodes[5]={type:4,index:50},this.rules[30].opcodes[6]={type:4,index:52},this.rules[30].opcodes[7]={type:4,index:53},this.rules[31].opcodes=[],this.rules[31].opcodes[0]={type:1,children:[1,2]},this.rules[31].opcodes[1]={type:4,index:29},this.rules[31].opcodes[2]={type:4,index:33},this.rules[32].opcodes=[],this.rules[32].opcodes[0]={type:2,children:[1,2,3,4]},this.rules[32].opcodes[1]={type:4,index:35},this.rules[32].opcodes[2]={type:7,string:[58]},this.rules[32].opcodes[3]={type:4,index:30},this.rules[32].opcodes[4]={type:3,min:0,max:1},this.rules[32].opcodes[5]={type:2,children:[6,7]},this.rules[32].opcodes[6]={type:7,string:[63]},this.rules[32].opcodes[7]={type:4,index:58},this.rules[33].opcodes=[],this.rules[33].opcodes[0]={type:2,children:[1,2,6]},this.rules[33].opcodes[1]={type:4,index:34},this.rules[33].opcodes[2]={type:3,min:0,max:1},this.rules[33].opcodes[3]={type:2,children:[4,5]},this.rules[33].opcodes[4]={type:7,string:[63]},this.rules[33].opcodes[5]={type:4,index:58},this.rules[33].opcodes[6]={type:3,min:0,max:1},this.rules[33].opcodes[7]={type:2,children:[8,9]},this.rules[33].opcodes[8]={type:7,string:[35]},this.rules[33].opcodes[9]={type:4,index:59},this.rules[34].opcodes=[],this.rules[34].opcodes[0]={type:1,children:[1,5,6,7]},this.rules[34].opcodes[1]={type:2,children:[2,3,4]},this.rules[34].opcodes[2]={type:7,string:[47,47]},this.rules[34].opcodes[3]={type:4,index:36},this.rules[34].opcodes[4]={type:4,index:49},this.rules[34].opcodes[5]={type:4,index:50},this.rules[34].opcodes[6]={type:4,index:51},this.rules[34].opcodes[7]={type:4,index:53},this.rules[35].opcodes=[],this.rules[35].opcodes[0]={type:2,children:[1,2]},this.rules[35].opcodes[1]={type:4,index:0},this.rules[35].opcodes[2]={type:3,min:0,max:1/0},this.rules[35].opcodes[3]={type:1,children:[4,5,6,7,8]},this.rules[35].opcodes[4]={type:4,index:0},this.rules[35].opcodes[5]={type:4,index:6},this.rules[35].opcodes[6]={type:7,string:[43]},this.rules[35].opcodes[7]={type:7,string:[45]},this.rules[35].opcodes[8]={type:7,string:[46]},this.rules[36].opcodes=[],this.rules[36].opcodes[0]={type:2,children:[1,5,6]},this.rules[36].opcodes[1]={type:3,min:0,max:1},this.rules[36].opcodes[2]={type:2,children:[3,4]},this.rules[36].opcodes[3]={type:4,index:37},this.rules[36].opcodes[4]={type:7,string:[64]},this.rules[36].opcodes[5]={type:4,index:38},this.rules[36].opcodes[6]={type:3,min:0,max:1},this.rules[36].opcodes[7]={type:2,children:[8,9]},this.rules[36].opcodes[8]={type:7,string:[58]},this.rules[36].opcodes[9]={type:4,index:39},this.rules[37].opcodes=[],this.rules[37].opcodes[0]={type:3,min:0,max:1/0},this.rules[37].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[37].opcodes[2]={type:4,index:61},this.rules[37].opcodes[3]={type:4,index:60},this.rules[37].opcodes[4]={type:4,index:64},this.rules[37].opcodes[5]={type:7,string:[58]},this.rules[38].opcodes=[],this.rules[38].opcodes[0]={type:1,children:[1,2,3]},this.rules[38].opcodes[1]={type:4,index:40},this.rules[38].opcodes[2]={type:4,index:45},this.rules[38].opcodes[3]={type:4,index:47},this.rules[39].opcodes=[],this.rules[39].opcodes[0]={type:3,min:0,max:1/0},this.rules[39].opcodes[1]={type:4,index:6},this.rules[40].opcodes=[],this.rules[40].opcodes[0]={type:2,children:[1,2,5]},this.rules[40].opcodes[1]={type:7,string:[91]},this.rules[40].opcodes[2]={type:1,children:[3,4]},this.rules[40].opcodes[3]={type:4,index:42},this.rules[40].opcodes[4]={type:4,index:41},this.rules[40].opcodes[5]={type:7,string:[93]},this.rules[41].opcodes=[],this.rules[41].opcodes[0]={type:2,children:[1,2,4,5]},this.rules[41].opcodes[1]={type:7,string:[118]},this.rules[41].opcodes[2]={type:3,min:1,max:1/0},this.rules[41].opcodes[3]={type:4,index:8},this.rules[41].opcodes[4]={type:7,string:[46]},this.rules[41].opcodes[5]={type:3,min:1,max:1/0},this.rules[41].opcodes[6]={type:1,children:[7,8,9]},this.rules[41].opcodes[7]={type:4,index:61},this.rules[41].opcodes[8]={type:4,index:64},this.rules[41].opcodes[9]={type:7,string:[58]},this.rules[42].opcodes=[],this.rules[42].opcodes[0]={type:1,children:[1,7,14,23,37,51,63,73,83]},this.rules[42].opcodes[1]={type:2,children:[2,6]},this.rules[42].opcodes[2]={type:3,min:6,max:6},this.rules[42].opcodes[3]={type:2,children:[4,5]},this.rules[42].opcodes[4]={type:4,index:43},this.rules[42].opcodes[5]={type:7,string:[58]},this.rules[42].opcodes[6]={type:4,index:44},this.rules[42].opcodes[7]={type:2,children:[8,9,13]},this.rules[42].opcodes[8]={type:7,string:[58,58]},this.rules[42].opcodes[9]={type:3,min:5,max:5},this.rules[42].opcodes[10]={type:2,children:[11,12]},this.rules[42].opcodes[11]={type:4,index:43},this.rules[42].opcodes[12]={type:7,string:[58]},this.rules[42].opcodes[13]={type:4,index:44},this.rules[42].opcodes[14]={type:2,children:[15,17,18,22]},this.rules[42].opcodes[15]={type:3,min:0,max:1},this.rules[42].opcodes[16]={type:4,index:43},this.rules[42].opcodes[17]={type:7,string:[58,58]},this.rules[42].opcodes[18]={type:3,min:4,max:4},this.rules[42].opcodes[19]={type:2,children:[20,21]},this.rules[42].opcodes[20]={type:4,index:43},this.rules[42].opcodes[21]={type:7,string:[58]},this.rules[42].opcodes[22]={type:4,index:44},this.rules[42].opcodes[23]={type:2,children:[24,31,32,36]},this.rules[42].opcodes[24]={type:3,min:0,max:1},this.rules[42].opcodes[25]={type:2,children:[26,30]},this.rules[42].opcodes[26]={type:3,min:0,max:1},this.rules[42].opcodes[27]={type:2,children:[28,29]},this.rules[42].opcodes[28]={type:4,index:43},this.rules[42].opcodes[29]={type:7,string:[58]},this.rules[42].opcodes[30]={type:4,index:43},this.rules[42].opcodes[31]={type:7,string:[58,58]},this.rules[42].opcodes[32]={type:3,min:3,max:3},this.rules[42].opcodes[33]={type:2,children:[34,35]},this.rules[42].opcodes[34]={type:4,index:43},this.rules[42].opcodes[35]={type:7,string:[58]},this.rules[42].opcodes[36]={type:4,index:44},this.rules[42].opcodes[37]={type:2,children:[38,45,46,50]},this.rules[42].opcodes[38]={type:3,min:0,max:1},this.rules[42].opcodes[39]={type:2,children:[40,44]},this.rules[42].opcodes[40]={type:3,min:0,max:2},this.rules[42].opcodes[41]={type:2,children:[42,43]},this.rules[42].opcodes[42]={type:4,index:43},this.rules[42].opcodes[43]={type:7,string:[58]},this.rules[42].opcodes[44]={type:4,index:43},this.rules[42].opcodes[45]={type:7,string:[58,58]},this.rules[42].opcodes[46]={type:3,min:2,max:2},this.rules[42].opcodes[47]={type:2,children:[48,49]},this.rules[42].opcodes[48]={type:4,index:43},this.rules[42].opcodes[49]={type:7,string:[58]},this.rules[42].opcodes[50]={type:4,index:44},this.rules[42].opcodes[51]={type:2,children:[52,59,60,61,62]},this.rules[42].opcodes[52]={type:3,min:0,max:1},this.rules[42].opcodes[53]={type:2,children:[54,58]},this.rules[42].opcodes[54]={type:3,min:0,max:3},this.rules[42].opcodes[55]={type:2,children:[56,57]},this.rules[42].opcodes[56]={type:4,index:43},this.rules[42].opcodes[57]={type:7,string:[58]},this.rules[42].opcodes[58]={type:4,index:43},this.rules[42].opcodes[59]={type:7,string:[58,58]},this.rules[42].opcodes[60]={type:4,index:43},this.rules[42].opcodes[61]={type:7,string:[58]},this.rules[42].opcodes[62]={type:4,index:44},this.rules[42].opcodes[63]={type:2,children:[64,71,72]},this.rules[42].opcodes[64]={type:3,min:0,max:1},this.rules[42].opcodes[65]={type:2,children:[66,70]},this.rules[42].opcodes[66]={type:3,min:0,max:4},this.rules[42].opcodes[67]={type:2,children:[68,69]},this.rules[42].opcodes[68]={type:4,index:43},this.rules[42].opcodes[69]={type:7,string:[58]},this.rules[42].opcodes[70]={type:4,index:43},this.rules[42].opcodes[71]={type:7,string:[58,58]},this.rules[42].opcodes[72]={type:4,index:44},this.rules[42].opcodes[73]={type:2,children:[74,81,82]},this.rules[42].opcodes[74]={type:3,min:0,max:1},this.rules[42].opcodes[75]={type:2,children:[76,80]},this.rules[42].opcodes[76]={type:3,min:0,max:5},this.rules[42].opcodes[77]={type:2,children:[78,79]},this.rules[42].opcodes[78]={type:4,index:43},this.rules[42].opcodes[79]={type:7,string:[58]},this.rules[42].opcodes[80]={type:4,index:43},this.rules[42].opcodes[81]={type:7,string:[58,58]},this.rules[42].opcodes[82]={type:4,index:43},this.rules[42].opcodes[83]={type:2,children:[84,91]},this.rules[42].opcodes[84]={type:3,min:0,max:1},this.rules[42].opcodes[85]={type:2,children:[86,90]},this.rules[42].opcodes[86]={type:3,min:0,max:6},this.rules[42].opcodes[87]={type:2,children:[88,89]},this.rules[42].opcodes[88]={type:4,index:43},this.rules[42].opcodes[89]={type:7,string:[58]},this.rules[42].opcodes[90]={type:4,index:43},this.rules[42].opcodes[91]={type:7,string:[58,58]},this.rules[43].opcodes=[],this.rules[43].opcodes[0]={type:3,min:1,max:4},this.rules[43].opcodes[1]={type:4,index:8},this.rules[44].opcodes=[],this.rules[44].opcodes[0]={type:1,children:[1,5]},this.rules[44].opcodes[1]={type:2,children:[2,3,4]},this.rules[44].opcodes[2]={type:4,index:43},this.rules[44].opcodes[3]={type:7,string:[58]},this.rules[44].opcodes[4]={type:4,index:43},this.rules[44].opcodes[5]={type:4,index:45},this.rules[45].opcodes=[],this.rules[45].opcodes[0]={type:2,children:[1,2,3,4,5,6,7]},this.rules[45].opcodes[1]={type:4,index:46},this.rules[45].opcodes[2]={type:7,string:[46]},this.rules[45].opcodes[3]={type:4,index:46},this.rules[45].opcodes[4]={type:7,string:[46]},this.rules[45].opcodes[5]={type:4,index:46},this.rules[45].opcodes[6]={type:7,string:[46]},this.rules[45].opcodes[7]={type:4,index:46},this.rules[46].opcodes=[],this.rules[46].opcodes[0]={type:1,children:[1,2,5,9,13]},this.rules[46].opcodes[1]={type:4,index:6},this.rules[46].opcodes[2]={type:2,children:[3,4]},this.rules[46].opcodes[3]={type:5,min:49,max:57},this.rules[46].opcodes[4]={type:4,index:6},this.rules[46].opcodes[5]={type:2,children:[6,7]},this.rules[46].opcodes[6]={type:7,string:[49]},this.rules[46].opcodes[7]={type:3,min:2,max:2},this.rules[46].opcodes[8]={type:4,index:6},this.rules[46].opcodes[9]={type:2,children:[10,11,12]},this.rules[46].opcodes[10]={type:7,string:[50]},this.rules[46].opcodes[11]={type:5,min:48,max:52},this.rules[46].opcodes[12]={type:4,index:6},this.rules[46].opcodes[13]={type:2,children:[14,15]},this.rules[46].opcodes[14]={type:7,string:[50,53]},this.rules[46].opcodes[15]={type:5,min:48,max:53},this.rules[47].opcodes=[],this.rules[47].opcodes[0]={type:3,min:0,max:1/0},this.rules[47].opcodes[1]={type:1,children:[2,3,4]},this.rules[47].opcodes[2]={type:4,index:61},this.rules[47].opcodes[3]={type:4,index:60},this.rules[47].opcodes[4]={type:4,index:64},this.rules[48].opcodes=[],this.rules[48].opcodes[0]={type:1,children:[1,2,3,4,5]},this.rules[48].opcodes[1]={type:4,index:49},this.rules[48].opcodes[2]={type:4,index:50},this.rules[48].opcodes[3]={type:4,index:51},this.rules[48].opcodes[4]={type:4,index:52},this.rules[48].opcodes[5]={type:4,index:53},this.rules[49].opcodes=[],this.rules[49].opcodes[0]={type:3,min:0,max:1/0},this.rules[49].opcodes[1]={type:2,children:[2,3]},this.rules[49].opcodes[2]={type:7,string:[47]},this.rules[49].opcodes[3]={type:4,index:54},this.rules[50].opcodes=[],this.rules[50].opcodes[0]={type:2,children:[1,2]},this.rules[50].opcodes[1]={type:7,string:[47]},this.rules[50].opcodes[2]={type:3,min:0,max:1},this.rules[50].opcodes[3]={type:2,children:[4,5]},this.rules[50].opcodes[4]={type:4,index:55},this.rules[50].opcodes[5]={type:3,min:0,max:1/0},this.rules[50].opcodes[6]={type:2,children:[7,8]},this.rules[50].opcodes[7]={type:7,string:[47]},this.rules[50].opcodes[8]={type:4,index:54},this.rules[51].opcodes=[],this.rules[51].opcodes[0]={type:2,children:[1,2]},this.rules[51].opcodes[1]={type:4,index:56},this.rules[51].opcodes[2]={type:3,min:0,max:1/0},this.rules[51].opcodes[3]={type:2,children:[4,5]},this.rules[51].opcodes[4]={type:7,string:[47]},this.rules[51].opcodes[5]={type:4,index:54},this.rules[52].opcodes=[],this.rules[52].opcodes[0]={type:2,children:[1,2]},this.rules[52].opcodes[1]={type:4,index:55},this.rules[52].opcodes[2]={type:3,min:0,max:1/0},this.rules[52].opcodes[3]={type:2,children:[4,5]},this.rules[52].opcodes[4]={type:7,string:[47]},this.rules[52].opcodes[5]={type:4,index:54},this.rules[53].opcodes=[],this.rules[53].opcodes[0]={type:3,min:0,max:0},this.rules[53].opcodes[1]={type:4,index:57},this.rules[54].opcodes=[],this.rules[54].opcodes[0]={type:3,min:0,max:1/0},this.rules[54].opcodes[1]={type:4,index:57},this.rules[55].opcodes=[],this.rules[55].opcodes[0]={type:3,min:1,max:1/0},this.rules[55].opcodes[1]={type:4,index:57},this.rules[56].opcodes=[],this.rules[56].opcodes[0]={type:3,min:1,max:1/0},this.rules[56].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[56].opcodes[2]={type:4,index:61},this.rules[56].opcodes[3]={type:4,index:60},this.rules[56].opcodes[4]={type:4,index:64},this.rules[56].opcodes[5]={type:7,string:[64]},this.rules[57].opcodes=[],this.rules[57].opcodes[0]={type:1,children:[1,2,3,4,5]},this.rules[57].opcodes[1]={type:4,index:61},this.rules[57].opcodes[2]={type:4,index:60},this.rules[57].opcodes[3]={type:4,index:64},this.rules[57].opcodes[4]={type:7,string:[58]},this.rules[57].opcodes[5]={type:7,string:[64]},this.rules[58].opcodes=[],this.rules[58].opcodes[0]={type:3,min:0,max:1/0},this.rules[58].opcodes[1]={type:1,children:[2,3,4]},this.rules[58].opcodes[2]={type:4,index:57},this.rules[58].opcodes[3]={type:7,string:[47]},this.rules[58].opcodes[4]={type:7,string:[63]},this.rules[59].opcodes=[],this.rules[59].opcodes[0]={type:3,min:0,max:1/0},this.rules[59].opcodes[1]={type:1,children:[2,3,4]},this.rules[59].opcodes[2]={type:4,index:57},this.rules[59].opcodes[3]={type:7,string:[47]},this.rules[59].opcodes[4]={type:7,string:[63]},this.rules[60].opcodes=[],this.rules[60].opcodes[0]={type:2,children:[1,2,3]},this.rules[60].opcodes[1]={type:7,string:[37]},this.rules[60].opcodes[2]={type:4,index:8},this.rules[60].opcodes[3]={type:4,index:8},this.rules[61].opcodes=[],this.rules[61].opcodes[0]={type:1,children:[1,2,3,4,5,6]},this.rules[61].opcodes[1]={type:4,index:0},this.rules[61].opcodes[2]={type:4,index:6},this.rules[61].opcodes[3]={type:7,string:[45]},this.rules[61].opcodes[4]={type:7,string:[46]},this.rules[61].opcodes[5]={type:7,string:[95]},this.rules[61].opcodes[6]={type:7,string:[126]},this.rules[62].opcodes=[],this.rules[62].opcodes[0]={type:1,children:[1,2]},this.rules[62].opcodes[1]={type:4,index:63},this.rules[62].opcodes[2]={type:4,index:64},this.rules[63].opcodes=[],this.rules[63].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},this.rules[63].opcodes[1]={type:7,string:[58]},this.rules[63].opcodes[2]={type:7,string:[47]},this.rules[63].opcodes[3]={type:7,string:[63]},this.rules[63].opcodes[4]={type:7,string:[35]},this.rules[63].opcodes[5]={type:7,string:[91]},this.rules[63].opcodes[6]={type:7,string:[93]},this.rules[63].opcodes[7]={type:7,string:[64]},this.rules[64].opcodes=[],this.rules[64].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10,11]},this.rules[64].opcodes[1]={type:7,string:[33]},this.rules[64].opcodes[2]={type:7,string:[36]},this.rules[64].opcodes[3]={type:7,string:[38]},this.rules[64].opcodes[4]={type:7,string:[39]},this.rules[64].opcodes[5]={type:7,string:[40]},this.rules[64].opcodes[6]={type:7,string:[41]},this.rules[64].opcodes[7]={type:7,string:[42]},this.rules[64].opcodes[8]={type:7,string:[43]},this.rules[64].opcodes[9]={type:7,string:[44]},this.rules[64].opcodes[10]={type:7,string:[59]},this.rules[64].opcodes[11]={type:7,string:[61]},this.rules[65].opcodes=[],this.rules[65].opcodes[0]={type:2,children:[1,2,3,4,5,10]},this.rules[65].opcodes[1]={type:4,index:67},this.rules[65].opcodes[2]={type:6,string:[32,119,97,110,116,115,32,121,111,117,32,116,111,32,115,105,103,110,32,105,110,32,119,105,116,104,32,121,111,117,114,32,83,111,108,97,110,97,32,97,99,99,111,117,110,116,58]},this.rules[65].opcodes[3]={type:4,index:10},this.rules[65].opcodes[4]={type:4,index:68},this.rules[65].opcodes[5]={type:3,min:0,max:1},this.rules[65].opcodes[6]={type:2,children:[7,8,9]},this.rules[65].opcodes[7]={type:4,index:10},this.rules[65].opcodes[8]={type:4,index:10},this.rules[65].opcodes[9]={type:4,index:69},this.rules[65].opcodes[10]={type:3,min:0,max:1},this.rules[65].opcodes[11]={type:2,children:[12,13]},this.rules[65].opcodes[12]={type:4,index:10},this.rules[65].opcodes[13]={type:4,index:66},this.rules[66].opcodes=[],this.rules[66].opcodes[0]={type:2,children:[1,6,11,16,21,26,31,36,41]},this.rules[66].opcodes[1]={type:3,min:0,max:1},this.rules[66].opcodes[2]={type:2,children:[3,4,5]},this.rules[66].opcodes[3]={type:4,index:10},this.rules[66].opcodes[4]={type:6,string:[85,82,73,58,32]},this.rules[66].opcodes[5]={type:4,index:70},this.rules[66].opcodes[6]={type:3,min:0,max:1},this.rules[66].opcodes[7]={type:2,children:[8,9,10]},this.rules[66].opcodes[8]={type:4,index:10},this.rules[66].opcodes[9]={type:6,string:[86,101,114,115,105,111,110,58,32]},this.rules[66].opcodes[10]={type:4,index:71},this.rules[66].opcodes[11]={type:3,min:0,max:1},this.rules[66].opcodes[12]={type:2,children:[13,14,15]},this.rules[66].opcodes[13]={type:4,index:10},this.rules[66].opcodes[14]={type:6,string:[67,104,97,105,110,32,73,68,58,32]},this.rules[66].opcodes[15]={type:4,index:72},this.rules[66].opcodes[16]={type:3,min:0,max:1},this.rules[66].opcodes[17]={type:2,children:[18,19,20]},this.rules[66].opcodes[18]={type:4,index:10},this.rules[66].opcodes[19]={type:6,string:[78,111,110,99,101,58,32]},this.rules[66].opcodes[20]={type:4,index:73},this.rules[66].opcodes[21]={type:3,min:0,max:1},this.rules[66].opcodes[22]={type:2,children:[23,24,25]},this.rules[66].opcodes[23]={type:4,index:10},this.rules[66].opcodes[24]={type:6,string:[73,115,115,117,101,100,32,65,116,58,32]},this.rules[66].opcodes[25]={type:4,index:74},this.rules[66].opcodes[26]={type:3,min:0,max:1},this.rules[66].opcodes[27]={type:2,children:[28,29,30]},this.rules[66].opcodes[28]={type:4,index:10},this.rules[66].opcodes[29]={type:6,string:[69,120,112,105,114,97,116,105,111,110,32,84,105,109,101,58,32]},this.rules[66].opcodes[30]={type:4,index:75},this.rules[66].opcodes[31]={type:3,min:0,max:1},this.rules[66].opcodes[32]={type:2,children:[33,34,35]},this.rules[66].opcodes[33]={type:4,index:10},this.rules[66].opcodes[34]={type:6,string:[78,111,116,32,66,101,102,111,114,101,58,32]},this.rules[66].opcodes[35]={type:4,index:76},this.rules[66].opcodes[36]={type:3,min:0,max:1},this.rules[66].opcodes[37]={type:2,children:[38,39,40]},this.rules[66].opcodes[38]={type:4,index:10},this.rules[66].opcodes[39]={type:6,string:[82,101,113,117,101,115,116,32,73,68,58,32]},this.rules[66].opcodes[40]={type:4,index:77},this.rules[66].opcodes[41]={type:3,min:0,max:1},this.rules[66].opcodes[42]={type:2,children:[43,44,45]},this.rules[66].opcodes[43]={type:4,index:10},this.rules[66].opcodes[44]={type:6,string:[82,101,115,111,117,114,99,101,115,58]},this.rules[66].opcodes[45]={type:4,index:78},this.rules[67].opcodes=[],this.rules[67].opcodes[0]={type:4,index:36},this.rules[68].opcodes=[],this.rules[68].opcodes[0]={type:3,min:32,max:44},this.rules[68].opcodes[1]={type:1,children:[2,3,4,5,6,7]},this.rules[68].opcodes[2]={type:5,min:49,max:57},this.rules[68].opcodes[3]={type:5,min:65,max:72},this.rules[68].opcodes[4]={type:5,min:74,max:78},this.rules[68].opcodes[5]={type:5,min:80,max:90},this.rules[68].opcodes[6]={type:5,min:97,max:107},this.rules[68].opcodes[7]={type:5,min:109,max:122},this.rules[69].opcodes=[],this.rules[69].opcodes[0]={type:3,min:1,max:1/0},this.rules[69].opcodes[1]={type:1,children:[2,3,4]},this.rules[69].opcodes[2]={type:4,index:62},this.rules[69].opcodes[3]={type:4,index:61},this.rules[69].opcodes[4]={type:7,string:[32]},this.rules[70].opcodes=[],this.rules[70].opcodes[0]={type:4,index:29},this.rules[71].opcodes=[],this.rules[71].opcodes[0]={type:7,string:[49]},this.rules[72].opcodes=[],this.rules[72].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},this.rules[72].opcodes[1]={type:6,string:[109,97,105,110,110,101,116]},this.rules[72].opcodes[2]={type:6,string:[116,101,115,116,110,101,116]},this.rules[72].opcodes[3]={type:6,string:[100,101,118,110,101,116]},this.rules[72].opcodes[4]={type:6,string:[108,111,99,97,108,110,101,116]},this.rules[72].opcodes[5]={type:6,string:[115,111,108,97,110,97,58,109,97,105,110,110,101,116]},this.rules[72].opcodes[6]={type:6,string:[115,111,108,97,110,97,58,116,101,115,116,110,101,116]},this.rules[72].opcodes[7]={type:6,string:[115,111,108,97,110,97,58,100,101,118,110,101,116]},this.rules[73].opcodes=[],this.rules[73].opcodes[0]={type:3,min:8,max:1/0},this.rules[73].opcodes[1]={type:1,children:[2,3]},this.rules[73].opcodes[2]={type:4,index:0},this.rules[73].opcodes[3]={type:4,index:6},this.rules[74].opcodes=[],this.rules[74].opcodes[0]={type:4,index:28},this.rules[75].opcodes=[],this.rules[75].opcodes[0]={type:4,index:28},this.rules[76].opcodes=[],this.rules[76].opcodes[0]={type:4,index:28},this.rules[77].opcodes=[],this.rules[77].opcodes[0]={type:3,min:0,max:1/0},this.rules[77].opcodes[1]={type:4,index:57},this.rules[78].opcodes=[],this.rules[78].opcodes[0]={type:3,min:0,max:1/0},this.rules[78].opcodes[1]={type:2,children:[2,3,4]},this.rules[78].opcodes[2]={type:4,index:10},this.rules[78].opcodes[3]={type:7,string:[45,32]},this.rules[78].opcodes[4]={type:4,index:29},this.toString=function(){let e="";return e+="; ==============================================================================\n",e+="; Core rules for ABNF (RFC 5234)\n",e+="; ==============================================================================\n",e+=";\n",e+="; References:\n",e+="; - https://www.rfc-editor.org/rfc/rfc5234#appendix-B.1\n",e+="\n",e+="ALPHA          =  %x41-5A / %x61-7A\n",e+="               ; A-Z / a-z\n",e+="\n",e+='BIT            =  "0" / "1"\n',e+="\n",e+="CHAR           =  %x01-7F\n",e+="               ; any 7-bit US-ASCII character,\n",e+="               ;  excluding NUL\n",e+="\n",e+="CR             =  %x0D\n",e+="               ; carriage return\n",e+="\n",e+="CRLF           =  CR LF\n",e+="               ; Internet standard newline\n",e+="\n",e+="CTL            =  %x00-1F / %x7F\n",e+="               ; controls\n",e+="\n",e+="DIGIT          =  %x30-39\n",e+="               ; 0-9\n",e+="\n",e+="DQUOTE         =  %x22\n",e+='               ; " (Double Quote)\n',e+="\n",e+='HEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"\n',e+="\n",e+="HTAB           =  %x09\n",e+="               ; horizontal tab\n",e+="\n",e+="LF             =  %x0A\n",e+="               ; linefeed\n",e+="\n",e+="LWSP           =  *(WSP / CRLF WSP)\n",e+="               ; Use of this linear-white-space rule\n",e+="               ;  permits lines containing only white\n",e+="               ;  space that are no longer legal in\n",e+="               ;  mail headers and have caused\n",e+="               ;  interoperability problems in other\n",e+="               ;  contexts.\n",e+="               ; Do not use when defining mail\n",e+="               ;  headers and use with caution in\n",e+="               ;  other contexts.\n",e+="\n",e+="OCTET          =  %x00-FF\n",e+="               ; 8 bits of data\n",e+="\n",e+="SP             =  %x20\n",e+="\n",e+="VCHAR          =  %x21-7E\n",e+="               ; visible (printing) characters\n",e+="\n",e+="WSP            =  SP / HTAB\n",e+="               ; white space\n",e+="; ==============================================================================\n",e+="; Internet Date/Time Format (RFC 3339)\n",e+="; ==============================================================================\n",e+=";\n",e+="; Requires:\n",e+="; - core.bnf\n",e+=";\n",e+="; References:\n",e+="; - https://www.rfc-editor.org/rfc/rfc3339#section-5.6\n",e+="\n",e+="date-fullyear   = 4DIGIT\n",e+="\n",e+="date-month      = 2DIGIT  ; 01-12\n",e+="\n",e+="date-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on\n",e+="                          ; month/year\n",e+="\n",e+="time-hour       = 2DIGIT  ; 00-23\n",e+="\n",e+="time-minute     = 2DIGIT  ; 00-59\n",e+="\n",e+="time-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second\n",e+="                          ; rules\n",e+="\n",e+='time-secfrac    = "." 1*DIGIT\n',e+="\n",e+='time-numoffset  = ("+" / "-") time-hour ":" time-minute\n',e+="\n",e+='time-offset     = "Z" / time-numoffset\n',e+="\n",e+='partial-time    = time-hour ":" time-minute ":" time-second\n',e+="                  [time-secfrac]\n",e+="\n",e+='full-date       = date-fullyear "-" date-month "-" date-mday\n',e+="\n",e+="full-time       = partial-time time-offset\n",e+="\n",e+='date-time       = full-date "T" full-time\n',e+="; ==============================================================================\n",e+="; Uniform Resource Identifier (RFC 3986)\n",e+="; ==============================================================================\n",e+=";\n",e+="; Requires:\n",e+="; - core.bnf\n",e+=";\n",e+="; References:\n",e+="; - https://www.rfc-editor.org/rfc/rfc3986#appendix-A\n",e+="\n",e+='URI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]\n',e+="\n",e+='hier-part     = "//" authority path-abempty\n',e+="              / path-absolute\n",e+="              / path-rootless\n",e+="              / path-empty\n",e+="\n",e+="URI-reference = URI / relative-ref\n",e+="\n",e+='absolute-URI  = scheme ":" hier-part [ "?" query ]\n',e+="\n",e+='relative-ref  = relative-part [ "?" query ] [ "#" fragment ]\n',e+="\n",e+='relative-part = "//" authority path-abempty\n',e+="              / path-absolute\n",e+="              / path-noscheme\n",e+="              / path-empty\n",e+="\n",e+='scheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )\n',e+="\n",e+='authority     = [ userinfo "@" ] host [ ":" port ]\n',e+='userinfo      = *( unreserved / pct-encoded / sub-delims / ":" )\n',e+="host          = IP-literal / IPv4address / reg-name\n",e+="port          = *DIGIT\n",e+="\n",e+='IP-literal    = "[" ( IPv6address / IPvFuture  ) "]"\n',e+="\n",e+='IPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )\n',e+="\n",e+='IPv6address   =                            6( h16 ":" ) ls32\n',e+='              /                       "::" 5( h16 ":" ) ls32\n',e+='              / [               h16 ] "::" 4( h16 ":" ) ls32\n',e+='              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32\n',e+='              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32\n',e+='              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32\n',e+='              / [ *4( h16 ":" ) h16 ] "::"              ls32\n',e+='              / [ *5( h16 ":" ) h16 ] "::"              h16\n',e+='              / [ *6( h16 ":" ) h16 ] "::"\n',e+="\n",e+="h16           = 1*4HEXDIG\n",e+='ls32          = ( h16 ":" h16 ) / IPv4address\n',e+='IPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet\n',e+="dec-octet     = DIGIT                 ; 0-9\n",e+="              / %x31-39 DIGIT         ; 10-99\n",e+='              / "1" 2DIGIT            ; 100-199\n',e+='              / "2" %x30-34 DIGIT     ; 200-249\n',e+='              / "25" %x30-35          ; 250-255\n',e+="\n",e+="reg-name      = *( unreserved / pct-encoded / sub-delims )\n",e+="\n",e+='path          = path-abempty    ; begins with "/" or is empty\n',e+='              / path-absolute   ; begins with "/" but not "//"\n',e+="              / path-noscheme   ; begins with a non-colon segment\n",e+="              / path-rootless   ; begins with a segment\n",e+="              / path-empty      ; zero characters\n",e+="\n",e+='path-abempty  = *( "/" segment )\n',e+='path-absolute = "/" [ segment-nz *( "/" segment ) ]\n',e+='path-noscheme = segment-nz-nc *( "/" segment )\n',e+='path-rootless = segment-nz *( "/" segment )\n',e+="path-empty    = 0pchar\n",e+="\n",e+="segment       = *pchar\n",e+="segment-nz    = 1*pchar\n",e+='segment-nz-nc = 1*( unreserved / pct-encoded / sub-delims / "@" )\n',e+='; non-zero-length segment without any colon ":"\n',e+="\n",e+='pchar         = unreserved / pct-encoded / sub-delims / ":" / "@"\n',e+="\n",e+='query         = *( pchar / "/" / "?" )\n',e+="\n",e+='fragment      = *( pchar / "/" / "?" )\n',e+="\n",e+='pct-encoded   = "%" HEXDIG HEXDIG\n',e+="\n",e+='unreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"\n',e+="reserved      = gen-delims / sub-delims\n",e+='gen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"\n',e+='sub-delims    = "!" / "$" / "&" / "\'" / "(" / ")"\n',e+='              / "*" / "+" / "," / ";" / "="\n',e+="; ==============================================================================\n",e+="; Sign in with Solana\n",e+="; ==============================================================================\n",e+=";\n",e+="; Requires:\n",e+="; - core.bnf\n",e+="; - datetime.bnf\n",e+="; - uri.bnf\n",e+="; - dns.bnf\n",e+=";\n",e+="; References:\n",e+="; - https://eips.ethereum.org/EIPS/eip-4361\n",e+=" \n",e+="sign-in-with-solana =\n",e+='  message-domain %s" wants you to sign in with your Solana account:" LF\n',e+="  message-address\n",e+="  [ LF LF message-statement ]\n",e+="  [ LF advanced-fields ]\n",e+="\n",e+="advanced-fields =\n",e+='  [ LF %s"URI: " message-uri ]\n',e+='  [ LF %s"Version: " message-version ]\n',e+='  [ LF %s"Chain ID: " message-chain-id ]\n',e+='  [ LF %s"Nonce: " message-nonce ]\n',e+='  [ LF %s"Issued At: " message-issued-at ]\n',e+='  [ LF %s"Expiration Time: " message-expiration-time ]\n',e+='  [ LF %s"Not Before: " message-not-before ]\n',e+='  [ LF %s"Request ID: " message-request-id ]\n',e+='  [ LF %s"Resources:" message-resources ]\n',e+="\n",e+="message-domain          = authority\n",e+="message-address         = 32*44( %x31-39 / %x41-48 / %x4A-4E / %x50-5A / %x61-6B / %x6D-7A )\n",e+='message-statement       = 1*( reserved / unreserved / " " )\n',e+="message-uri             = URI\n",e+='message-version         = "1"\n',e+='message-chain-id        = %s"mainnet" / %s"testnet" / %s"devnet" / %s"localnet" / %s"solana:mainnet" / %s"solana:testnet" / %s"solana:devnet"\n',e+="message-nonce           = 8*( ALPHA / DIGIT )\n",e+="message-issued-at       = date-time\n",e+="message-expiration-time = date-time\n",e+="message-not-before      = date-time\n",e+="message-request-id      = *pchar\n",e+='message-resources       = *( LF "- " URI )\n','; ==============================================================================\n; Core rules for ABNF (RFC 5234)\n; ==============================================================================\n;\n; References:\n; - https://www.rfc-editor.org/rfc/rfc5234#appendix-B.1\n\nALPHA          =  %x41-5A / %x61-7A\n               ; A-Z / a-z\n\nBIT            =  "0" / "1"\n\nCHAR           =  %x01-7F\n               ; any 7-bit US-ASCII character,\n               ;  excluding NUL\n\nCR             =  %x0D\n               ; carriage return\n\nCRLF           =  CR LF\n               ; Internet standard newline\n\nCTL            =  %x00-1F / %x7F\n               ; controls\n\nDIGIT          =  %x30-39\n               ; 0-9\n\nDQUOTE         =  %x22\n               ; " (Double Quote)\n\nHEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"\n\nHTAB           =  %x09\n               ; horizontal tab\n\nLF             =  %x0A\n               ; linefeed\n\nLWSP           =  *(WSP / CRLF WSP)\n               ; Use of this linear-white-space rule\n               ;  permits lines containing only white\n               ;  space that are no longer legal in\n               ;  mail headers and have caused\n               ;  interoperability problems in other\n               ;  contexts.\n               ; Do not use when defining mail\n               ;  headers and use with caution in\n               ;  other contexts.\n\nOCTET          =  %x00-FF\n               ; 8 bits of data\n\nSP             =  %x20\n\nVCHAR          =  %x21-7E\n               ; visible (printing) characters\n\nWSP            =  SP / HTAB\n               ; white space\n; ==============================================================================\n; Internet Date/Time Format (RFC 3339)\n; ==============================================================================\n;\n; Requires:\n; - core.bnf\n;\n; References:\n; - https://www.rfc-editor.org/rfc/rfc3339#section-5.6\n\ndate-fullyear   = 4DIGIT\n\ndate-month      = 2DIGIT  ; 01-12\n\ndate-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on\n                          ; month/year\n\ntime-hour       = 2DIGIT  ; 00-23\n\ntime-minute     = 2DIGIT  ; 00-59\n\ntime-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second\n                          ; rules\n\ntime-secfrac    = "." 1*DIGIT\n\ntime-numoffset  = ("+" / "-") time-hour ":" time-minute\n\ntime-offset     = "Z" / time-numoffset\n\npartial-time    = time-hour ":" time-minute ":" time-second\n                  [time-secfrac]\n\nfull-date       = date-fullyear "-" date-month "-" date-mday\n\nfull-time       = partial-time time-offset\n\ndate-time       = full-date "T" full-time\n; ==============================================================================\n; Uniform Resource Identifier (RFC 3986)\n; ==============================================================================\n;\n; Requires:\n; - core.bnf\n;\n; References:\n; - https://www.rfc-editor.org/rfc/rfc3986#appendix-A\n\nURI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]\n\nhier-part     = "//" authority path-abempty\n              / path-absolute\n              / path-rootless\n              / path-empty\n\nURI-reference = URI / relative-ref\n\nabsolute-URI  = scheme ":" hier-part [ "?" query ]\n\nrelative-ref  = relative-part [ "?" query ] [ "#" fragment ]\n\nrelative-part = "//" authority path-abempty\n              / path-absolute\n              / path-noscheme\n              / path-empty\n\nscheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )\n\nauthority     = [ userinfo "@" ] host [ ":" port ]\nuserinfo      = *( unreserved / pct-encoded / sub-delims / ":" )\nhost          = IP-literal / IPv4address / reg-name\nport          = *DIGIT\n\nIP-literal    = "[" ( IPv6address / IPvFuture  ) "]"\n\nIPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )\n\nIPv6address   =                            6( h16 ":" ) ls32\n              /                       "::" 5( h16 ":" ) ls32\n              / [               h16 ] "::" 4( h16 ":" ) ls32\n              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32\n              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32\n              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32\n              / [ *4( h16 ":" ) h16 ] "::"              ls32\n              / [ *5( h16 ":" ) h16 ] "::"              h16\n              / [ *6( h16 ":" ) h16 ] "::"\n\nh16           = 1*4HEXDIG\nls32          = ( h16 ":" h16 ) / IPv4address\nIPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet\ndec-octet     = DIGIT                 ; 0-9\n              / %x31-39 DIGIT         ; 10-99\n              / "1" 2DIGIT            ; 100-199\n              / "2" %x30-34 DIGIT     ; 200-249\n              / "25" %x30-35          ; 250-255\n\nreg-name      = *( unreserved / pct-encoded / sub-delims )\n\npath          = path-abempty    ; begins with "/" or is empty\n              / path-absolute   ; begins with "/" but not "//"\n              / path-noscheme   ; begins with a non-colon segment\n              / path-rootless   ; begins with a segment\n              / path-empty      ; zero characters\n\npath-abempty  = *( "/" segment )\npath-absolute = "/" [ segment-nz *( "/" segment ) ]\npath-noscheme = segment-nz-nc *( "/" segment )\npath-rootless = segment-nz *( "/" segment )\npath-empty    = 0pchar\n\nsegment       = *pchar\nsegment-nz    = 1*pchar\nsegment-nz-nc = 1*( unreserved / pct-encoded / sub-delims / "@" )\n; non-zero-length segment without any colon ":"\n\npchar         = unreserved / pct-encoded / sub-delims / ":" / "@"\n\nquery         = *( pchar / "/" / "?" )\n\nfragment      = *( pchar / "/" / "?" )\n\npct-encoded   = "%" HEXDIG HEXDIG\n\nunreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"\nreserved      = gen-delims / sub-delims\ngen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"\nsub-delims    = "!" / "$" / "&" / "\'" / "(" / ")"\n              / "*" / "+" / "," / ";" / "="\n; ==============================================================================\n; Sign in with Solana\n; ==============================================================================\n;\n; Requires:\n; - core.bnf\n; - datetime.bnf\n; - uri.bnf\n; - dns.bnf\n;\n; References:\n; - https://eips.ethereum.org/EIPS/eip-4361\n \nsign-in-with-solana =\n  message-domain %s" wants you to sign in with your Solana account:" LF\n  message-address\n  [ LF LF message-statement ]\n  [ LF advanced-fields ]\n\nadvanced-fields =\n  [ LF %s"URI: " message-uri ]\n  [ LF %s"Version: " message-version ]\n  [ LF %s"Chain ID: " message-chain-id ]\n  [ LF %s"Nonce: " message-nonce ]\n  [ LF %s"Issued At: " message-issued-at ]\n  [ LF %s"Expiration Time: " message-expiration-time ]\n  [ LF %s"Not Before: " message-not-before ]\n  [ LF %s"Request ID: " message-request-id ]\n  [ LF %s"Resources:" message-resources ]\n\nmessage-domain          = authority\nmessage-address         = 32*44( %x31-39 / %x41-48 / %x4A-4E / %x50-5A / %x61-6B / %x6D-7A )\nmessage-statement       = 1*( reserved / unreserved / " " )\nmessage-uri             = URI\nmessage-version         = "1"\nmessage-chain-id        = %s"mainnet" / %s"testnet" / %s"devnet" / %s"localnet" / %s"solana:mainnet" / %s"solana:testnet" / %s"solana:devnet"\nmessage-nonce           = 8*( ALPHA / DIGIT )\nmessage-issued-at       = date-time\nmessage-expiration-time = date-time\nmessage-not-before      = date-time\nmessage-request-id      = *pchar\nmessage-resources       = *( LF "- " URI )\n'}}})),o.register("1NBW0",(function(e,t){e.exports=function(){this.grammarObject="grammarObject",this.rules=[],this.rules[0]={name:"ALPHA",lower:"alpha",index:0,isBkr:!1},this.rules[1]={name:"BIT",lower:"bit",index:1,isBkr:!1},this.rules[2]={name:"CHAR",lower:"char",index:2,isBkr:!1},this.rules[3]={name:"CR",lower:"cr",index:3,isBkr:!1},this.rules[4]={name:"CRLF",lower:"crlf",index:4,isBkr:!1},this.rules[5]={name:"CTL",lower:"ctl",index:5,isBkr:!1},this.rules[6]={name:"DIGIT",lower:"digit",index:6,isBkr:!1},this.rules[7]={name:"DQUOTE",lower:"dquote",index:7,isBkr:!1},this.rules[8]={name:"HEXDIG",lower:"hexdig",index:8,isBkr:!1},this.rules[9]={name:"HTAB",lower:"htab",index:9,isBkr:!1},this.rules[10]={name:"LF",lower:"lf",index:10,isBkr:!1},this.rules[11]={name:"LWSP",lower:"lwsp",index:11,isBkr:!1},this.rules[12]={name:"OCTET",lower:"octet",index:12,isBkr:!1},this.rules[13]={name:"SP",lower:"sp",index:13,isBkr:!1},this.rules[14]={name:"VCHAR",lower:"vchar",index:14,isBkr:!1},this.rules[15]={name:"WSP",lower:"wsp",index:15,isBkr:!1},this.rules[16]={name:"date-fullyear",lower:"date-fullyear",index:16,isBkr:!1},this.rules[17]={name:"date-month",lower:"date-month",index:17,isBkr:!1},this.rules[18]={name:"date-mday",lower:"date-mday",index:18,isBkr:!1},this.rules[19]={name:"time-hour",lower:"time-hour",index:19,isBkr:!1},this.rules[20]={name:"time-minute",lower:"time-minute",index:20,isBkr:!1},this.rules[21]={name:"time-second",lower:"time-second",index:21,isBkr:!1},this.rules[22]={name:"time-secfrac",lower:"time-secfrac",index:22,isBkr:!1},this.rules[23]={name:"time-numoffset",lower:"time-numoffset",index:23,isBkr:!1},this.rules[24]={name:"time-offset",lower:"time-offset",index:24,isBkr:!1},this.rules[25]={name:"partial-time",lower:"partial-time",index:25,isBkr:!1},this.rules[26]={name:"full-date",lower:"full-date",index:26,isBkr:!1},this.rules[27]={name:"full-time",lower:"full-time",index:27,isBkr:!1},this.rules[28]={name:"date-time",lower:"date-time",index:28,isBkr:!1},this.rules[29]={name:"URI",lower:"uri",index:29,isBkr:!1},this.rules[30]={name:"hier-part",lower:"hier-part",index:30,isBkr:!1},this.rules[31]={name:"URI-reference",lower:"uri-reference",index:31,isBkr:!1},this.rules[32]={name:"absolute-URI",lower:"absolute-uri",index:32,isBkr:!1},this.rules[33]={name:"relative-ref",lower:"relative-ref",index:33,isBkr:!1},this.rules[34]={name:"relative-part",lower:"relative-part",index:34,isBkr:!1},this.rules[35]={name:"scheme",lower:"scheme",index:35,isBkr:!1},this.rules[36]={name:"authority",lower:"authority",index:36,isBkr:!1},this.rules[37]={name:"userinfo",lower:"userinfo",index:37,isBkr:!1},this.rules[38]={name:"host",lower:"host",index:38,isBkr:!1},this.rules[39]={name:"port",lower:"port",index:39,isBkr:!1},this.rules[40]={name:"IP-literal",lower:"ip-literal",index:40,isBkr:!1},this.rules[41]={name:"IPvFuture",lower:"ipvfuture",index:41,isBkr:!1},this.rules[42]={name:"IPv6address",lower:"ipv6address",index:42,isBkr:!1},this.rules[43]={name:"h16",lower:"h16",index:43,isBkr:!1},this.rules[44]={name:"ls32",lower:"ls32",index:44,isBkr:!1},this.rules[45]={name:"IPv4address",lower:"ipv4address",index:45,isBkr:!1},this.rules[46]={name:"dec-octet",lower:"dec-octet",index:46,isBkr:!1},this.rules[47]={name:"reg-name",lower:"reg-name",index:47,isBkr:!1},this.rules[48]={name:"path",lower:"path",index:48,isBkr:!1},this.rules[49]={name:"path-abempty",lower:"path-abempty",index:49,isBkr:!1},this.rules[50]={name:"path-absolute",lower:"path-absolute",index:50,isBkr:!1},this.rules[51]={name:"path-noscheme",lower:"path-noscheme",index:51,isBkr:!1},this.rules[52]={name:"path-rootless",lower:"path-rootless",index:52,isBkr:!1},this.rules[53]={name:"path-empty",lower:"path-empty",index:53,isBkr:!1},this.rules[54]={name:"segment",lower:"segment",index:54,isBkr:!1},this.rules[55]={name:"segment-nz",lower:"segment-nz",index:55,isBkr:!1},this.rules[56]={name:"segment-nz-nc",lower:"segment-nz-nc",index:56,isBkr:!1},this.rules[57]={name:"pchar",lower:"pchar",index:57,isBkr:!1},this.rules[58]={name:"query",lower:"query",index:58,isBkr:!1},this.rules[59]={name:"fragment",lower:"fragment",index:59,isBkr:!1},this.rules[60]={name:"pct-encoded",lower:"pct-encoded",index:60,isBkr:!1},this.rules[61]={name:"unreserved",lower:"unreserved",index:61,isBkr:!1},this.rules[62]={name:"reserved",lower:"reserved",index:62,isBkr:!1},this.rules[63]={name:"gen-delims",lower:"gen-delims",index:63,isBkr:!1},this.rules[64]={name:"sub-delims",lower:"sub-delims",index:64,isBkr:!1},this.rules[65]={name:"dnsurl",lower:"dnsurl",index:65,isBkr:!1},this.rules[66]={name:"dnsauthority",lower:"dnsauthority",index:66,isBkr:!1},this.rules[67]={name:"dnsname",lower:"dnsname",index:67,isBkr:!1},this.rules[68]={name:"dnsquery",lower:"dnsquery",index:68,isBkr:!1},this.rules[69]={name:"dnsqueryelement",lower:"dnsqueryelement",index:69,isBkr:!1},this.rules[70]={name:"dnsclassval",lower:"dnsclassval",index:70,isBkr:!1},this.rules[71]={name:"dnstypeval",lower:"dnstypeval",index:71,isBkr:!1},this.rules[72]={name:"chain-id",lower:"chain-id",index:72,isBkr:!1},this.rules[73]={name:"eth-namespace",lower:"eth-namespace",index:73,isBkr:!1},this.rules[74]={name:"eth-network-id",lower:"eth-network-id",index:74,isBkr:!1},this.rules[75]={name:"eth-chain-id",lower:"eth-chain-id",index:75,isBkr:!1},this.rules[76]={name:"sol-namespace",lower:"sol-namespace",index:76,isBkr:!1},this.rules[77]={name:"sol-network-id",lower:"sol-network-id",index:77,isBkr:!1},this.rules[78]={name:"sol-chain-id",lower:"sol-chain-id",index:78,isBkr:!1},this.rules[79]={name:"account-id",lower:"account-id",index:79,isBkr:!1},this.rules[80]={name:"eth-address",lower:"eth-address",index:80,isBkr:!1},this.rules[81]={name:"eth-account-id",lower:"eth-account-id",index:81,isBkr:!1},this.rules[82]={name:"sol-address",lower:"sol-address",index:82,isBkr:!1},this.rules[83]={name:"sol-account-id",lower:"sol-account-id",index:83,isBkr:!1},this.rules[84]={name:"sign-in-with-x",lower:"sign-in-with-x",index:84,isBkr:!1},this.rules[85]={name:"sign-in-with-eth",lower:"sign-in-with-eth",index:85,isBkr:!1},this.rules[86]={name:"sign-in-with-sol",lower:"sign-in-with-sol",index:86,isBkr:!1},this.rules[87]={name:"message-domain",lower:"message-domain",index:87,isBkr:!1},this.rules[88]={name:"message-address",lower:"message-address",index:88,isBkr:!1},this.rules[89]={name:"message-statement",lower:"message-statement",index:89,isBkr:!1},this.rules[90]={name:"message-uri",lower:"message-uri",index:90,isBkr:!1},this.rules[91]={name:"message-version",lower:"message-version",index:91,isBkr:!1},this.rules[92]={name:"message-chain-id",lower:"message-chain-id",index:92,isBkr:!1},this.rules[93]={name:"message-nonce",lower:"message-nonce",index:93,isBkr:!1},this.rules[94]={name:"message-issued-at",lower:"message-issued-at",index:94,isBkr:!1},this.rules[95]={name:"message-expiration-time",lower:"message-expiration-time",index:95,isBkr:!1},this.rules[96]={name:"message-not-before",lower:"message-not-before",index:96,isBkr:!1},this.rules[97]={name:"message-request-id",lower:"message-request-id",index:97,isBkr:!1},this.rules[98]={name:"message-resources",lower:"message-resources",index:98,isBkr:!1},this.udts=[],this.rules[0].opcodes=[],this.rules[0].opcodes[0]={type:1,children:[1,2]},this.rules[0].opcodes[1]={type:5,min:65,max:90},this.rules[0].opcodes[2]={type:5,min:97,max:122},this.rules[1].opcodes=[],this.rules[1].opcodes[0]={type:1,children:[1,2]},this.rules[1].opcodes[1]={type:7,string:[48]},this.rules[1].opcodes[2]={type:7,string:[49]},this.rules[2].opcodes=[],this.rules[2].opcodes[0]={type:5,min:1,max:127},this.rules[3].opcodes=[],this.rules[3].opcodes[0]={type:6,string:[13]},this.rules[4].opcodes=[],this.rules[4].opcodes[0]={type:2,children:[1,2]},this.rules[4].opcodes[1]={type:4,index:3},this.rules[4].opcodes[2]={type:4,index:10},this.rules[5].opcodes=[],this.rules[5].opcodes[0]={type:1,children:[1,2]},this.rules[5].opcodes[1]={type:5,min:0,max:31},this.rules[5].opcodes[2]={type:6,string:[127]},this.rules[6].opcodes=[],this.rules[6].opcodes[0]={type:5,min:48,max:57},this.rules[7].opcodes=[],this.rules[7].opcodes[0]={type:6,string:[34]},this.rules[8].opcodes=[],this.rules[8].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},this.rules[8].opcodes[1]={type:4,index:6},this.rules[8].opcodes[2]={type:7,string:[97]},this.rules[8].opcodes[3]={type:7,string:[98]},this.rules[8].opcodes[4]={type:7,string:[99]},this.rules[8].opcodes[5]={type:7,string:[100]},this.rules[8].opcodes[6]={type:7,string:[101]},this.rules[8].opcodes[7]={type:7,string:[102]},this.rules[9].opcodes=[],this.rules[9].opcodes[0]={type:6,string:[9]},this.rules[10].opcodes=[],this.rules[10].opcodes[0]={type:6,string:[10]},this.rules[11].opcodes=[],this.rules[11].opcodes[0]={type:3,min:0,max:1/0},this.rules[11].opcodes[1]={type:1,children:[2,3]},this.rules[11].opcodes[2]={type:4,index:15},this.rules[11].opcodes[3]={type:2,children:[4,5]},this.rules[11].opcodes[4]={type:4,index:4},this.rules[11].opcodes[5]={type:4,index:15},this.rules[12].opcodes=[],this.rules[12].opcodes[0]={type:5,min:0,max:255},this.rules[13].opcodes=[],this.rules[13].opcodes[0]={type:6,string:[32]},this.rules[14].opcodes=[],this.rules[14].opcodes[0]={type:5,min:33,max:126},this.rules[15].opcodes=[],this.rules[15].opcodes[0]={type:1,children:[1,2]},this.rules[15].opcodes[1]={type:4,index:13},this.rules[15].opcodes[2]={type:4,index:9},this.rules[16].opcodes=[],this.rules[16].opcodes[0]={type:3,min:4,max:4},this.rules[16].opcodes[1]={type:4,index:6},this.rules[17].opcodes=[],this.rules[17].opcodes[0]={type:3,min:2,max:2},this.rules[17].opcodes[1]={type:4,index:6},this.rules[18].opcodes=[],this.rules[18].opcodes[0]={type:3,min:2,max:2},this.rules[18].opcodes[1]={type:4,index:6},this.rules[19].opcodes=[],this.rules[19].opcodes[0]={type:3,min:2,max:2},this.rules[19].opcodes[1]={type:4,index:6},this.rules[20].opcodes=[],this.rules[20].opcodes[0]={type:3,min:2,max:2},this.rules[20].opcodes[1]={type:4,index:6},this.rules[21].opcodes=[],this.rules[21].opcodes[0]={type:3,min:2,max:2},this.rules[21].opcodes[1]={type:4,index:6},this.rules[22].opcodes=[],this.rules[22].opcodes[0]={type:2,children:[1,2]},this.rules[22].opcodes[1]={type:7,string:[46]},this.rules[22].opcodes[2]={type:3,min:1,max:1/0},this.rules[22].opcodes[3]={type:4,index:6},this.rules[23].opcodes=[],this.rules[23].opcodes[0]={type:2,children:[1,4,5,6]},this.rules[23].opcodes[1]={type:1,children:[2,3]},this.rules[23].opcodes[2]={type:7,string:[43]},this.rules[23].opcodes[3]={type:7,string:[45]},this.rules[23].opcodes[4]={type:4,index:19},this.rules[23].opcodes[5]={type:7,string:[58]},this.rules[23].opcodes[6]={type:4,index:20},this.rules[24].opcodes=[],this.rules[24].opcodes[0]={type:1,children:[1,2]},this.rules[24].opcodes[1]={type:7,string:[122]},this.rules[24].opcodes[2]={type:4,index:23},this.rules[25].opcodes=[],this.rules[25].opcodes[0]={type:2,children:[1,2,3,4,5,6]},this.rules[25].opcodes[1]={type:4,index:19},this.rules[25].opcodes[2]={type:7,string:[58]},this.rules[25].opcodes[3]={type:4,index:20},this.rules[25].opcodes[4]={type:7,string:[58]},this.rules[25].opcodes[5]={type:4,index:21},this.rules[25].opcodes[6]={type:3,min:0,max:1},this.rules[25].opcodes[7]={type:4,index:22},this.rules[26].opcodes=[],this.rules[26].opcodes[0]={type:2,children:[1,2,3,4,5]},this.rules[26].opcodes[1]={type:4,index:16},this.rules[26].opcodes[2]={type:7,string:[45]},this.rules[26].opcodes[3]={type:4,index:17},this.rules[26].opcodes[4]={type:7,string:[45]},this.rules[26].opcodes[5]={type:4,index:18},this.rules[27].opcodes=[],this.rules[27].opcodes[0]={type:2,children:[1,2]},this.rules[27].opcodes[1]={type:4,index:25},this.rules[27].opcodes[2]={type:4,index:24},this.rules[28].opcodes=[],this.rules[28].opcodes[0]={type:2,children:[1,2,3]},this.rules[28].opcodes[1]={type:4,index:26},this.rules[28].opcodes[2]={type:7,string:[116]},this.rules[28].opcodes[3]={type:4,index:27},this.rules[29].opcodes=[],this.rules[29].opcodes[0]={type:2,children:[1,2,3,4,8]},this.rules[29].opcodes[1]={type:4,index:35},this.rules[29].opcodes[2]={type:7,string:[58]},this.rules[29].opcodes[3]={type:4,index:30},this.rules[29].opcodes[4]={type:3,min:0,max:1},this.rules[29].opcodes[5]={type:2,children:[6,7]},this.rules[29].opcodes[6]={type:7,string:[63]},this.rules[29].opcodes[7]={type:4,index:58},this.rules[29].opcodes[8]={type:3,min:0,max:1},this.rules[29].opcodes[9]={type:2,children:[10,11]},this.rules[29].opcodes[10]={type:7,string:[35]},this.rules[29].opcodes[11]={type:4,index:59},this.rules[30].opcodes=[],this.rules[30].opcodes[0]={type:1,children:[1,5,6,7]},this.rules[30].opcodes[1]={type:2,children:[2,3,4]},this.rules[30].opcodes[2]={type:7,string:[47,47]},this.rules[30].opcodes[3]={type:4,index:36},this.rules[30].opcodes[4]={type:4,index:49},this.rules[30].opcodes[5]={type:4,index:50},this.rules[30].opcodes[6]={type:4,index:52},this.rules[30].opcodes[7]={type:4,index:53},this.rules[31].opcodes=[],this.rules[31].opcodes[0]={type:1,children:[1,2]},this.rules[31].opcodes[1]={type:4,index:29},this.rules[31].opcodes[2]={type:4,index:33},this.rules[32].opcodes=[],this.rules[32].opcodes[0]={type:2,children:[1,2,3,4]},this.rules[32].opcodes[1]={type:4,index:35},this.rules[32].opcodes[2]={type:7,string:[58]},this.rules[32].opcodes[3]={type:4,index:30},this.rules[32].opcodes[4]={type:3,min:0,max:1},this.rules[32].opcodes[5]={type:2,children:[6,7]},this.rules[32].opcodes[6]={type:7,string:[63]},this.rules[32].opcodes[7]={type:4,index:58},this.rules[33].opcodes=[],this.rules[33].opcodes[0]={type:2,children:[1,2,6]},this.rules[33].opcodes[1]={type:4,index:34},this.rules[33].opcodes[2]={type:3,min:0,max:1},this.rules[33].opcodes[3]={type:2,children:[4,5]},this.rules[33].opcodes[4]={type:7,string:[63]},this.rules[33].opcodes[5]={type:4,index:58},this.rules[33].opcodes[6]={type:3,min:0,max:1},this.rules[33].opcodes[7]={type:2,children:[8,9]},this.rules[33].opcodes[8]={type:7,string:[35]},this.rules[33].opcodes[9]={type:4,index:59},this.rules[34].opcodes=[],this.rules[34].opcodes[0]={type:1,children:[1,5,6,7]},this.rules[34].opcodes[1]={type:2,children:[2,3,4]},this.rules[34].opcodes[2]={type:7,string:[47,47]},this.rules[34].opcodes[3]={type:4,index:36},this.rules[34].opcodes[4]={type:4,index:49},this.rules[34].opcodes[5]={type:4,index:50},this.rules[34].opcodes[6]={type:4,index:51},this.rules[34].opcodes[7]={type:4,index:53},this.rules[35].opcodes=[],this.rules[35].opcodes[0]={type:2,children:[1,2]},this.rules[35].opcodes[1]={type:4,index:0},this.rules[35].opcodes[2]={type:3,min:0,max:1/0},this.rules[35].opcodes[3]={type:1,children:[4,5,6,7,8]},this.rules[35].opcodes[4]={type:4,index:0},this.rules[35].opcodes[5]={type:4,index:6},this.rules[35].opcodes[6]={type:7,string:[43]},this.rules[35].opcodes[7]={type:7,string:[45]},this.rules[35].opcodes[8]={type:7,string:[46]},this.rules[36].opcodes=[],this.rules[36].opcodes[0]={type:2,children:[1,5,6]},this.rules[36].opcodes[1]={type:3,min:0,max:1},this.rules[36].opcodes[2]={type:2,children:[3,4]},this.rules[36].opcodes[3]={type:4,index:37},this.rules[36].opcodes[4]={type:7,string:[64]},this.rules[36].opcodes[5]={type:4,index:38},this.rules[36].opcodes[6]={type:3,min:0,max:1},this.rules[36].opcodes[7]={type:2,children:[8,9]},this.rules[36].opcodes[8]={type:7,string:[58]},this.rules[36].opcodes[9]={type:4,index:39},this.rules[37].opcodes=[],this.rules[37].opcodes[0]={type:3,min:0,max:1/0},this.rules[37].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[37].opcodes[2]={type:4,index:61},this.rules[37].opcodes[3]={type:4,index:60},this.rules[37].opcodes[4]={type:4,index:64},this.rules[37].opcodes[5]={type:7,string:[58]},this.rules[38].opcodes=[],this.rules[38].opcodes[0]={type:1,children:[1,2,3]},this.rules[38].opcodes[1]={type:4,index:40},this.rules[38].opcodes[2]={type:4,index:45},this.rules[38].opcodes[3]={type:4,index:47},this.rules[39].opcodes=[],this.rules[39].opcodes[0]={type:3,min:0,max:1/0},this.rules[39].opcodes[1]={type:4,index:6},this.rules[40].opcodes=[],this.rules[40].opcodes[0]={type:2,children:[1,2,5]},this.rules[40].opcodes[1]={type:7,string:[91]},this.rules[40].opcodes[2]={type:1,children:[3,4]},this.rules[40].opcodes[3]={type:4,index:42},this.rules[40].opcodes[4]={type:4,index:41},this.rules[40].opcodes[5]={type:7,string:[93]},this.rules[41].opcodes=[],this.rules[41].opcodes[0]={type:2,children:[1,2,4,5]},this.rules[41].opcodes[1]={type:7,string:[118]},this.rules[41].opcodes[2]={type:3,min:1,max:1/0},this.rules[41].opcodes[3]={type:4,index:8},this.rules[41].opcodes[4]={type:7,string:[46]},this.rules[41].opcodes[5]={type:3,min:1,max:1/0},this.rules[41].opcodes[6]={type:1,children:[7,8,9]},this.rules[41].opcodes[7]={type:4,index:61},this.rules[41].opcodes[8]={type:4,index:64},this.rules[41].opcodes[9]={type:7,string:[58]},this.rules[42].opcodes=[],this.rules[42].opcodes[0]={type:1,children:[1,7,14,23,37,51,63,73,83]},this.rules[42].opcodes[1]={type:2,children:[2,6]},this.rules[42].opcodes[2]={type:3,min:6,max:6},this.rules[42].opcodes[3]={type:2,children:[4,5]},this.rules[42].opcodes[4]={type:4,index:43},this.rules[42].opcodes[5]={type:7,string:[58]},this.rules[42].opcodes[6]={type:4,index:44},this.rules[42].opcodes[7]={type:2,children:[8,9,13]},this.rules[42].opcodes[8]={type:7,string:[58,58]},this.rules[42].opcodes[9]={type:3,min:5,max:5},this.rules[42].opcodes[10]={type:2,children:[11,12]},this.rules[42].opcodes[11]={type:4,index:43},this.rules[42].opcodes[12]={type:7,string:[58]},this.rules[42].opcodes[13]={type:4,index:44},this.rules[42].opcodes[14]={type:2,children:[15,17,18,22]},this.rules[42].opcodes[15]={type:3,min:0,max:1},this.rules[42].opcodes[16]={type:4,index:43},this.rules[42].opcodes[17]={type:7,string:[58,58]},this.rules[42].opcodes[18]={type:3,min:4,max:4},this.rules[42].opcodes[19]={type:2,children:[20,21]},this.rules[42].opcodes[20]={type:4,index:43},this.rules[42].opcodes[21]={type:7,string:[58]},this.rules[42].opcodes[22]={type:4,index:44},this.rules[42].opcodes[23]={type:2,children:[24,31,32,36]},this.rules[42].opcodes[24]={type:3,min:0,max:1},this.rules[42].opcodes[25]={type:2,children:[26,30]},this.rules[42].opcodes[26]={type:3,min:0,max:1},this.rules[42].opcodes[27]={type:2,children:[28,29]},this.rules[42].opcodes[28]={type:4,index:43},this.rules[42].opcodes[29]={type:7,string:[58]},this.rules[42].opcodes[30]={type:4,index:43},this.rules[42].opcodes[31]={type:7,string:[58,58]},this.rules[42].opcodes[32]={type:3,min:3,max:3},this.rules[42].opcodes[33]={type:2,children:[34,35]},this.rules[42].opcodes[34]={type:4,index:43},this.rules[42].opcodes[35]={type:7,string:[58]},this.rules[42].opcodes[36]={type:4,index:44},this.rules[42].opcodes[37]={type:2,children:[38,45,46,50]},this.rules[42].opcodes[38]={type:3,min:0,max:1},this.rules[42].opcodes[39]={type:2,children:[40,44]},this.rules[42].opcodes[40]={type:3,min:0,max:2},this.rules[42].opcodes[41]={type:2,children:[42,43]},this.rules[42].opcodes[42]={type:4,index:43},this.rules[42].opcodes[43]={type:7,string:[58]},this.rules[42].opcodes[44]={type:4,index:43},this.rules[42].opcodes[45]={type:7,string:[58,58]},this.rules[42].opcodes[46]={type:3,min:2,max:2},this.rules[42].opcodes[47]={type:2,children:[48,49]},this.rules[42].opcodes[48]={type:4,index:43},this.rules[42].opcodes[49]={type:7,string:[58]},this.rules[42].opcodes[50]={type:4,index:44},this.rules[42].opcodes[51]={type:2,children:[52,59,60,61,62]},this.rules[42].opcodes[52]={type:3,min:0,max:1},this.rules[42].opcodes[53]={type:2,children:[54,58]},this.rules[42].opcodes[54]={type:3,min:0,max:3},this.rules[42].opcodes[55]={type:2,children:[56,57]},this.rules[42].opcodes[56]={type:4,index:43},this.rules[42].opcodes[57]={type:7,string:[58]},this.rules[42].opcodes[58]={type:4,index:43},this.rules[42].opcodes[59]={type:7,string:[58,58]},this.rules[42].opcodes[60]={type:4,index:43},this.rules[42].opcodes[61]={type:7,string:[58]},this.rules[42].opcodes[62]={type:4,index:44},this.rules[42].opcodes[63]={type:2,children:[64,71,72]},this.rules[42].opcodes[64]={type:3,min:0,max:1},this.rules[42].opcodes[65]={type:2,children:[66,70]},this.rules[42].opcodes[66]={type:3,min:0,max:4},this.rules[42].opcodes[67]={type:2,children:[68,69]},this.rules[42].opcodes[68]={type:4,index:43},this.rules[42].opcodes[69]={type:7,string:[58]},this.rules[42].opcodes[70]={type:4,index:43},this.rules[42].opcodes[71]={type:7,string:[58,58]},this.rules[42].opcodes[72]={type:4,index:44},this.rules[42].opcodes[73]={type:2,children:[74,81,82]},this.rules[42].opcodes[74]={type:3,min:0,max:1},this.rules[42].opcodes[75]={type:2,children:[76,80]},this.rules[42].opcodes[76]={type:3,min:0,max:5},this.rules[42].opcodes[77]={type:2,children:[78,79]},this.rules[42].opcodes[78]={type:4,index:43},this.rules[42].opcodes[79]={type:7,string:[58]},this.rules[42].opcodes[80]={type:4,index:43},this.rules[42].opcodes[81]={type:7,string:[58,58]},this.rules[42].opcodes[82]={type:4,index:43},this.rules[42].opcodes[83]={type:2,children:[84,91]},this.rules[42].opcodes[84]={type:3,min:0,max:1},this.rules[42].opcodes[85]={type:2,children:[86,90]},this.rules[42].opcodes[86]={type:3,min:0,max:6},this.rules[42].opcodes[87]={type:2,children:[88,89]},this.rules[42].opcodes[88]={type:4,index:43},this.rules[42].opcodes[89]={type:7,string:[58]},this.rules[42].opcodes[90]={type:4,index:43},this.rules[42].opcodes[91]={type:7,string:[58,58]},this.rules[43].opcodes=[],this.rules[43].opcodes[0]={type:3,min:1,max:4},this.rules[43].opcodes[1]={type:4,index:8},this.rules[44].opcodes=[],this.rules[44].opcodes[0]={type:1,children:[1,5]},this.rules[44].opcodes[1]={type:2,children:[2,3,4]},this.rules[44].opcodes[2]={type:4,index:43},this.rules[44].opcodes[3]={type:7,string:[58]},this.rules[44].opcodes[4]={type:4,index:43},this.rules[44].opcodes[5]={type:4,index:45},this.rules[45].opcodes=[],this.rules[45].opcodes[0]={type:2,children:[1,2,3,4,5,6,7]},this.rules[45].opcodes[1]={type:4,index:46},this.rules[45].opcodes[2]={type:7,string:[46]},this.rules[45].opcodes[3]={type:4,index:46},this.rules[45].opcodes[4]={type:7,string:[46]},this.rules[45].opcodes[5]={type:4,index:46},this.rules[45].opcodes[6]={type:7,string:[46]},this.rules[45].opcodes[7]={type:4,index:46},this.rules[46].opcodes=[],this.rules[46].opcodes[0]={type:1,children:[1,2,5,9,13]},this.rules[46].opcodes[1]={type:4,index:6},this.rules[46].opcodes[2]={type:2,children:[3,4]},this.rules[46].opcodes[3]={type:5,min:49,max:57},this.rules[46].opcodes[4]={type:4,index:6},this.rules[46].opcodes[5]={type:2,children:[6,7]},this.rules[46].opcodes[6]={type:7,string:[49]},this.rules[46].opcodes[7]={type:3,min:2,max:2},this.rules[46].opcodes[8]={type:4,index:6},this.rules[46].opcodes[9]={type:2,children:[10,11,12]},this.rules[46].opcodes[10]={type:7,string:[50]},this.rules[46].opcodes[11]={type:5,min:48,max:52},this.rules[46].opcodes[12]={type:4,index:6},this.rules[46].opcodes[13]={type:2,children:[14,15]},this.rules[46].opcodes[14]={type:7,string:[50,53]},this.rules[46].opcodes[15]={type:5,min:48,max:53},this.rules[47].opcodes=[],this.rules[47].opcodes[0]={type:3,min:0,max:1/0},this.rules[47].opcodes[1]={type:1,children:[2,3,4]},this.rules[47].opcodes[2]={type:4,index:61},this.rules[47].opcodes[3]={type:4,index:60},this.rules[47].opcodes[4]={type:4,index:64},this.rules[48].opcodes=[],this.rules[48].opcodes[0]={type:1,children:[1,2,3,4,5]},this.rules[48].opcodes[1]={type:4,index:49},this.rules[48].opcodes[2]={type:4,index:50},this.rules[48].opcodes[3]={type:4,index:51},this.rules[48].opcodes[4]={type:4,index:52},this.rules[48].opcodes[5]={type:4,index:53},this.rules[49].opcodes=[],this.rules[49].opcodes[0]={type:3,min:0,max:1/0},this.rules[49].opcodes[1]={type:2,children:[2,3]},this.rules[49].opcodes[2]={type:7,string:[47]},this.rules[49].opcodes[3]={type:4,index:54},this.rules[50].opcodes=[],this.rules[50].opcodes[0]={type:2,children:[1,2]},this.rules[50].opcodes[1]={type:7,string:[47]},this.rules[50].opcodes[2]={type:3,min:0,max:1},this.rules[50].opcodes[3]={type:2,children:[4,5]},this.rules[50].opcodes[4]={type:4,index:55},this.rules[50].opcodes[5]={type:3,min:0,max:1/0},this.rules[50].opcodes[6]={type:2,children:[7,8]},this.rules[50].opcodes[7]={type:7,string:[47]},this.rules[50].opcodes[8]={type:4,index:54},this.rules[51].opcodes=[],this.rules[51].opcodes[0]={type:2,children:[1,2]},this.rules[51].opcodes[1]={type:4,index:56},this.rules[51].opcodes[2]={type:3,min:0,max:1/0},this.rules[51].opcodes[3]={type:2,children:[4,5]},this.rules[51].opcodes[4]={type:7,string:[47]},this.rules[51].opcodes[5]={type:4,index:54},this.rules[52].opcodes=[],this.rules[52].opcodes[0]={type:2,children:[1,2]},this.rules[52].opcodes[1]={type:4,index:55},this.rules[52].opcodes[2]={type:3,min:0,max:1/0},this.rules[52].opcodes[3]={type:2,children:[4,5]},this.rules[52].opcodes[4]={type:7,string:[47]},this.rules[52].opcodes[5]={type:4,index:54},this.rules[53].opcodes=[],this.rules[53].opcodes[0]={type:3,min:0,max:0},this.rules[53].opcodes[1]={type:4,index:57},this.rules[54].opcodes=[],this.rules[54].opcodes[0]={type:3,min:0,max:1/0},this.rules[54].opcodes[1]={type:4,index:57},this.rules[55].opcodes=[],this.rules[55].opcodes[0]={type:3,min:1,max:1/0},this.rules[55].opcodes[1]={type:4,index:57},this.rules[56].opcodes=[],this.rules[56].opcodes[0]={type:3,min:1,max:1/0},this.rules[56].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[56].opcodes[2]={type:4,index:61},this.rules[56].opcodes[3]={type:4,index:60},this.rules[56].opcodes[4]={type:4,index:64},this.rules[56].opcodes[5]={type:7,string:[64]},this.rules[57].opcodes=[],this.rules[57].opcodes[0]={type:1,children:[1,2,3,4,5]},this.rules[57].opcodes[1]={type:4,index:61},this.rules[57].opcodes[2]={type:4,index:60},this.rules[57].opcodes[3]={type:4,index:64},this.rules[57].opcodes[4]={type:7,string:[58]},this.rules[57].opcodes[5]={type:7,string:[64]},this.rules[58].opcodes=[],this.rules[58].opcodes[0]={type:3,min:0,max:1/0},this.rules[58].opcodes[1]={type:1,children:[2,3,4]},this.rules[58].opcodes[2]={type:4,index:57},this.rules[58].opcodes[3]={type:7,string:[47]},this.rules[58].opcodes[4]={type:7,string:[63]},this.rules[59].opcodes=[],this.rules[59].opcodes[0]={type:3,min:0,max:1/0},this.rules[59].opcodes[1]={type:1,children:[2,3,4]},this.rules[59].opcodes[2]={type:4,index:57},this.rules[59].opcodes[3]={type:7,string:[47]},this.rules[59].opcodes[4]={type:7,string:[63]},this.rules[60].opcodes=[],this.rules[60].opcodes[0]={type:2,children:[1,2,3]},this.rules[60].opcodes[1]={type:7,string:[37]},this.rules[60].opcodes[2]={type:4,index:8},this.rules[60].opcodes[3]={type:4,index:8},this.rules[61].opcodes=[],this.rules[61].opcodes[0]={type:1,children:[1,2,3,4,5,6]},this.rules[61].opcodes[1]={type:4,index:0},this.rules[61].opcodes[2]={type:4,index:6},this.rules[61].opcodes[3]={type:7,string:[45]},this.rules[61].opcodes[4]={type:7,string:[46]},this.rules[61].opcodes[5]={type:7,string:[95]},this.rules[61].opcodes[6]={type:7,string:[126]},this.rules[62].opcodes=[],this.rules[62].opcodes[0]={type:1,children:[1,2]},this.rules[62].opcodes[1]={type:4,index:63},this.rules[62].opcodes[2]={type:4,index:64},this.rules[63].opcodes=[],this.rules[63].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},this.rules[63].opcodes[1]={type:7,string:[58]},this.rules[63].opcodes[2]={type:7,string:[47]},this.rules[63].opcodes[3]={type:7,string:[63]},this.rules[63].opcodes[4]={type:7,string:[35]},this.rules[63].opcodes[5]={type:7,string:[91]},this.rules[63].opcodes[6]={type:7,string:[93]},this.rules[63].opcodes[7]={type:7,string:[64]},this.rules[64].opcodes=[],this.rules[64].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10,11]},this.rules[64].opcodes[1]={type:7,string:[33]},this.rules[64].opcodes[2]={type:7,string:[36]},this.rules[64].opcodes[3]={type:7,string:[38]},this.rules[64].opcodes[4]={type:7,string:[39]},this.rules[64].opcodes[5]={type:7,string:[40]},this.rules[64].opcodes[6]={type:7,string:[41]},this.rules[64].opcodes[7]={type:7,string:[42]},this.rules[64].opcodes[8]={type:7,string:[43]},this.rules[64].opcodes[9]={type:7,string:[44]},this.rules[64].opcodes[10]={type:7,string:[59]},this.rules[64].opcodes[11]={type:7,string:[61]},this.rules[65].opcodes=[],this.rules[65].opcodes[0]={type:2,children:[1,2,7,8]},this.rules[65].opcodes[1]={type:7,string:[100,110,115,58]},this.rules[65].opcodes[2]={type:3,min:0,max:1},this.rules[65].opcodes[3]={type:2,children:[4,5,6]},this.rules[65].opcodes[4]={type:7,string:[47,47]},this.rules[65].opcodes[5]={type:4,index:66},this.rules[65].opcodes[6]={type:7,string:[47]},this.rules[65].opcodes[7]={type:4,index:67},this.rules[65].opcodes[8]={type:3,min:0,max:1},this.rules[65].opcodes[9]={type:2,children:[10,11]},this.rules[65].opcodes[10]={type:7,string:[63]},this.rules[65].opcodes[11]={type:4,index:68},this.rules[66].opcodes=[],this.rules[66].opcodes[0]={type:2,children:[1,2]},this.rules[66].opcodes[1]={type:4,index:38},this.rules[66].opcodes[2]={type:3,min:0,max:1},this.rules[66].opcodes[3]={type:2,children:[4,5]},this.rules[66].opcodes[4]={type:7,string:[58]},this.rules[66].opcodes[5]={type:4,index:39},this.rules[67].opcodes=[],this.rules[67].opcodes[0]={type:3,min:0,max:1/0},this.rules[67].opcodes[1]={type:4,index:57},this.rules[68].opcodes=[],this.rules[68].opcodes[0]={type:2,children:[1,2]},this.rules[68].opcodes[1]={type:4,index:69},this.rules[68].opcodes[2]={type:3,min:0,max:1},this.rules[68].opcodes[3]={type:2,children:[4,5]},this.rules[68].opcodes[4]={type:7,string:[59]},this.rules[68].opcodes[5]={type:4,index:68},this.rules[69].opcodes=[],this.rules[69].opcodes[0]={type:1,children:[1,4]},this.rules[69].opcodes[1]={type:2,children:[2,3]},this.rules[69].opcodes[2]={type:7,string:[99,108,97,115,115,61]},this.rules[69].opcodes[3]={type:4,index:70},this.rules[69].opcodes[4]={type:2,children:[5,6]},this.rules[69].opcodes[5]={type:7,string:[116,121,112,101,61]},this.rules[69].opcodes[6]={type:4,index:71},this.rules[70].opcodes=[],this.rules[70].opcodes[0]={type:1,children:[1,3,4]},this.rules[70].opcodes[1]={type:3,min:1,max:1/0},this.rules[70].opcodes[2]={type:4,index:6},this.rules[70].opcodes[3]={type:7,string:[105,110]},this.rules[70].opcodes[4]={type:7,string:[99,104]},this.rules[71].opcodes=[],this.rules[71].opcodes[0]={type:1,children:[1,3,4,5]},this.rules[71].opcodes[1]={type:3,min:1,max:1/0},this.rules[71].opcodes[2]={type:4,index:6},this.rules[71].opcodes[3]={type:7,string:[97]},this.rules[71].opcodes[4]={type:7,string:[110,115]},this.rules[71].opcodes[5]={type:7,string:[109,100]},this.rules[72].opcodes=[],this.rules[72].opcodes[0]={type:1,children:[1,2]},this.rules[72].opcodes[1]={type:4,index:75},this.rules[72].opcodes[2]={type:4,index:78},this.rules[73].opcodes=[],this.rules[73].opcodes[0]={type:6,string:[101,105,112,49,53,53]},this.rules[74].opcodes=[],this.rules[74].opcodes[0]={type:3,min:1,max:32},this.rules[74].opcodes[1]={type:4,index:6},this.rules[75].opcodes=[],this.rules[75].opcodes[0]={type:2,children:[1,2,3]},this.rules[75].opcodes[1]={type:4,index:73},this.rules[75].opcodes[2]={type:7,string:[58]},this.rules[75].opcodes[3]={type:4,index:74},this.rules[76].opcodes=[],this.rules[76].opcodes[0]={type:6,string:[115,111,108,97,110,97]},this.rules[77].opcodes=[],this.rules[77].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[77].opcodes[1]={type:6,string:[109,97,105,110,110,101,116]},this.rules[77].opcodes[2]={type:6,string:[116,101,115,116,110,101,116]},this.rules[77].opcodes[3]={type:6,string:[100,101,118,110,101,116]},this.rules[77].opcodes[4]={type:6,string:[108,111,99,97,108,110,101,116]},this.rules[78].opcodes=[],this.rules[78].opcodes[0]={type:2,children:[1,2,3]},this.rules[78].opcodes[1]={type:4,index:76},this.rules[78].opcodes[2]={type:7,string:[58]},this.rules[78].opcodes[3]={type:4,index:77},this.rules[79].opcodes=[],this.rules[79].opcodes[0]={type:1,children:[1,2]},this.rules[79].opcodes[1]={type:4,index:81},this.rules[79].opcodes[2]={type:4,index:83},this.rules[80].opcodes=[],this.rules[80].opcodes[0]={type:2,children:[1,2]},this.rules[80].opcodes[1]={type:7,string:[48,120]},this.rules[80].opcodes[2]={type:3,min:40,max:40},this.rules[80].opcodes[3]={type:4,index:8},this.rules[81].opcodes=[],this.rules[81].opcodes[0]={type:2,children:[1,2,3]},this.rules[81].opcodes[1]={type:4,index:75},this.rules[81].opcodes[2]={type:7,string:[58]},this.rules[81].opcodes[3]={type:4,index:80},this.rules[82].opcodes=[],this.rules[82].opcodes[0]={type:3,min:32,max:44},this.rules[82].opcodes[1]={type:1,children:[2,3,4,5,6,7]},this.rules[82].opcodes[2]={type:5,min:49,max:57},this.rules[82].opcodes[3]={type:5,min:65,max:72},this.rules[82].opcodes[4]={type:5,min:74,max:78},this.rules[82].opcodes[5]={type:5,min:80,max:90},this.rules[82].opcodes[6]={type:5,min:97,max:107},this.rules[82].opcodes[7]={type:5,min:109,max:122},this.rules[83].opcodes=[],this.rules[83].opcodes[0]={type:2,children:[1,2,3]},this.rules[83].opcodes[1]={type:4,index:78},this.rules[83].opcodes[2]={type:7,string:[58]},this.rules[83].opcodes[3]={type:4,index:82},this.rules[84].opcodes=[],this.rules[84].opcodes[0]={type:1,children:[1,2]},this.rules[84].opcodes[1]={type:4,index:85},this.rules[84].opcodes[2]={type:4,index:86},this.rules[85].opcodes=[],this.rules[85].opcodes[0]={type:2,children:[1,2,3,4,5,6,7,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,31,36,41]},this.rules[85].opcodes[1]={type:4,index:87},this.rules[85].opcodes[2]={type:6,string:[32,119,97,110,116,115,32,121,111,117,32,116,111,32,115,105,103,110,32,105,110,32,119,105,116,104,32,121,111,117,114,32,69,116,104,101,114,101,117,109,32,97,99,99,111,117,110,116,58]},this.rules[85].opcodes[3]={type:4,index:10},this.rules[85].opcodes[4]={type:4,index:81},this.rules[85].opcodes[5]={type:4,index:10},this.rules[85].opcodes[6]={type:4,index:10},this.rules[85].opcodes[7]={type:3,min:0,max:1},this.rules[85].opcodes[8]={type:2,children:[9,10]},this.rules[85].opcodes[9]={type:4,index:89},this.rules[85].opcodes[10]={type:4,index:10},this.rules[85].opcodes[11]={type:4,index:10},this.rules[85].opcodes[12]={type:6,string:[85,82,73,58,32]},this.rules[85].opcodes[13]={type:4,index:90},this.rules[85].opcodes[14]={type:4,index:10},this.rules[85].opcodes[15]={type:6,string:[86,101,114,115,105,111,110,58,32]},this.rules[85].opcodes[16]={type:4,index:91},this.rules[85].opcodes[17]={type:4,index:10},this.rules[85].opcodes[18]={type:6,string:[67,104,97,105,110,32,73,68,58,32]},this.rules[85].opcodes[19]={type:4,index:75},this.rules[85].opcodes[20]={type:4,index:10},this.rules[85].opcodes[21]={type:6,string:[78,111,110,99,101,58,32]},this.rules[85].opcodes[22]={type:4,index:93},this.rules[85].opcodes[23]={type:4,index:10},this.rules[85].opcodes[24]={type:6,string:[73,115,115,117,101,100,32,65,116,58,32]},this.rules[85].opcodes[25]={type:4,index:94},this.rules[85].opcodes[26]={type:3,min:0,max:1},this.rules[85].opcodes[27]={type:2,children:[28,29,30]},this.rules[85].opcodes[28]={type:4,index:10},this.rules[85].opcodes[29]={type:6,string:[69,120,112,105,114,97,116,105,111,110,32,84,105,109,101,58,32]},this.rules[85].opcodes[30]={type:4,index:95},this.rules[85].opcodes[31]={type:3,min:0,max:1},this.rules[85].opcodes[32]={type:2,children:[33,34,35]},this.rules[85].opcodes[33]={type:4,index:10},this.rules[85].opcodes[34]={type:6,string:[78,111,116,32,66,101,102,111,114,101,58,32]},this.rules[85].opcodes[35]={type:4,index:96},this.rules[85].opcodes[36]={type:3,min:0,max:1},this.rules[85].opcodes[37]={type:2,children:[38,39,40]},this.rules[85].opcodes[38]={type:4,index:10},this.rules[85].opcodes[39]={type:6,string:[82,101,113,117,101,115,116,32,73,68,58,32]},this.rules[85].opcodes[40]={type:4,index:97},this.rules[85].opcodes[41]={type:3,min:0,max:1},this.rules[85].opcodes[42]={type:2,children:[43,44,45]},this.rules[85].opcodes[43]={type:4,index:10},this.rules[85].opcodes[44]={type:6,string:[82,101,115,111,117,114,99,101,115,58]},this.rules[85].opcodes[45]={type:4,index:98},this.rules[86].opcodes=[],this.rules[86].opcodes[0]={type:2,children:[1,2,3,4,5,6,7,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,31,36,41]},this.rules[86].opcodes[1]={type:4,index:87},this.rules[86].opcodes[2]={type:6,string:[32,119,97,110,116,115,32,121,111,117,32,116,111,32,115,105,103,110,32,105,110,32,119,105,116,104,32,121,111,117,114,32,83,111,108,97,110,97,32,97,99,99,111,117,110,116,58]},this.rules[86].opcodes[3]={type:4,index:10},this.rules[86].opcodes[4]={type:4,index:83},this.rules[86].opcodes[5]={type:4,index:10},this.rules[86].opcodes[6]={type:4,index:10},this.rules[86].opcodes[7]={type:3,min:0,max:1},this.rules[86].opcodes[8]={type:2,children:[9,10]},this.rules[86].opcodes[9]={type:4,index:89},this.rules[86].opcodes[10]={type:4,index:10},this.rules[86].opcodes[11]={type:4,index:10},this.rules[86].opcodes[12]={type:6,string:[85,82,73,58,32]},this.rules[86].opcodes[13]={type:4,index:90},this.rules[86].opcodes[14]={type:4,index:10},this.rules[86].opcodes[15]={type:6,string:[86,101,114,115,105,111,110,58,32]},this.rules[86].opcodes[16]={type:4,index:91},this.rules[86].opcodes[17]={type:4,index:10},this.rules[86].opcodes[18]={type:6,string:[67,104,97,105,110,32,73,68,58,32]},this.rules[86].opcodes[19]={type:4,index:78},this.rules[86].opcodes[20]={type:4,index:10},this.rules[86].opcodes[21]={type:6,string:[78,111,110,99,101,58,32]},this.rules[86].opcodes[22]={type:4,index:93},this.rules[86].opcodes[23]={type:4,index:10},this.rules[86].opcodes[24]={type:6,string:[73,115,115,117,101,100,32,65,116,58,32]},this.rules[86].opcodes[25]={type:4,index:94},this.rules[86].opcodes[26]={type:3,min:0,max:1},this.rules[86].opcodes[27]={type:2,children:[28,29,30]},this.rules[86].opcodes[28]={type:4,index:10},this.rules[86].opcodes[29]={type:6,string:[69,120,112,105,114,97,116,105,111,110,32,84,105,109,101,58,32]},this.rules[86].opcodes[30]={type:4,index:95},this.rules[86].opcodes[31]={type:3,min:0,max:1},this.rules[86].opcodes[32]={type:2,children:[33,34,35]},this.rules[86].opcodes[33]={type:4,index:10},this.rules[86].opcodes[34]={type:6,string:[78,111,116,32,66,101,102,111,114,101,58,32]},this.rules[86].opcodes[35]={type:4,index:96},this.rules[86].opcodes[36]={type:3,min:0,max:1},this.rules[86].opcodes[37]={type:2,children:[38,39,40]},this.rules[86].opcodes[38]={type:4,index:10},this.rules[86].opcodes[39]={type:6,string:[82,101,113,117,101,115,116,32,73,68,58,32]},this.rules[86].opcodes[40]={type:4,index:97},this.rules[86].opcodes[41]={type:3,min:0,max:1},this.rules[86].opcodes[42]={type:2,children:[43,44,45]},this.rules[86].opcodes[43]={type:4,index:10},this.rules[86].opcodes[44]={type:6,string:[82,101,115,111,117,114,99,101,115,58]},this.rules[86].opcodes[45]={type:4,index:98},this.rules[87].opcodes=[],this.rules[87].opcodes[0]={type:4,index:66},this.rules[88].opcodes=[],this.rules[88].opcodes[0]={type:1,children:[1,2]},this.rules[88].opcodes[1]={type:4,index:81},this.rules[88].opcodes[2]={type:4,index:83},this.rules[89].opcodes=[],this.rules[89].opcodes[0]={type:3,min:1,max:1/0},this.rules[89].opcodes[1]={type:1,children:[2,3,4]},this.rules[89].opcodes[2]={type:4,index:62},this.rules[89].opcodes[3]={type:4,index:61},this.rules[89].opcodes[4]={type:7,string:[32]},this.rules[90].opcodes=[],this.rules[90].opcodes[0]={type:4,index:29},this.rules[91].opcodes=[],this.rules[91].opcodes[0]={type:7,string:[49]},this.rules[92].opcodes=[],this.rules[92].opcodes[0]={type:1,children:[1,2]},this.rules[92].opcodes[1]={type:4,index:75},this.rules[92].opcodes[2]={type:4,index:78},this.rules[93].opcodes=[],this.rules[93].opcodes[0]={type:3,min:8,max:1/0},this.rules[93].opcodes[1]={type:1,children:[2,3]},this.rules[93].opcodes[2]={type:4,index:0},this.rules[93].opcodes[3]={type:4,index:6},this.rules[94].opcodes=[];this.rules[94].opcodes[0]={type:4,index:28},this.rules[95].opcodes=[],this.rules[95].opcodes[0]={type:4,index:28},this.rules[96].opcodes=[],this.rules[96].opcodes[0]={type:4,index:28},this.rules[97].opcodes=[],this.rules[97].opcodes[0]={type:3,min:0,max:1/0},this.rules[97].opcodes[1]={type:4,index:57},this.rules[98].opcodes=[],this.rules[98].opcodes[0]={type:3,min:0,max:1/0},this.rules[98].opcodes[1]={type:2,children:[2,3,4]},this.rules[98].opcodes[2]={type:4,index:10},this.rules[98].opcodes[3]={type:7,string:[45,32]},this.rules[98].opcodes[4]={type:4,index:29},this.toString=function(){let e="";return e+="; ==============================================================================\n",e+="; Core rules for ABNF (RFC 5234)\n",e+="; ==============================================================================\n",e+=";\n",e+="; References:\n",e+="; - https://www.rfc-editor.org/rfc/rfc5234#appendix-B.1\n",e+="\n",e+="ALPHA          =  %x41-5A / %x61-7A\n",e+="               ; A-Z / a-z\n",e+="\n",e+='BIT            =  "0" / "1"\n',e+="\n",e+="CHAR           =  %x01-7F\n",e+="               ; any 7-bit US-ASCII character,\n",e+="               ;  excluding NUL\n",e+="\n",e+="CR             =  %x0D\n",e+="               ; carriage return\n",e+="\n",e+="CRLF           =  CR LF\n",e+="               ; Internet standard newline\n",e+="\n",e+="CTL            =  %x00-1F / %x7F\n",e+="               ; controls\n",e+="\n",e+="DIGIT          =  %x30-39\n",e+="               ; 0-9\n",e+="\n",e+="DQUOTE         =  %x22\n",e+='               ; " (Double Quote)\n',e+="\n",e+='HEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"\n',e+="\n",e+="HTAB           =  %x09\n",e+="               ; horizontal tab\n",e+="\n",e+="LF             =  %x0A\n",e+="               ; linefeed\n",e+="\n",e+="LWSP           =  *(WSP / CRLF WSP)\n",e+="               ; Use of this linear-white-space rule\n",e+="               ;  permits lines containing only white\n",e+="               ;  space that are no longer legal in\n",e+="               ;  mail headers and have caused\n",e+="               ;  interoperability problems in other\n",e+="               ;  contexts.\n",e+="               ; Do not use when defining mail\n",e+="               ;  headers and use with caution in\n",e+="               ;  other contexts.\n",e+="\n",e+="OCTET          =  %x00-FF\n",e+="               ; 8 bits of data\n",e+="\n",e+="SP             =  %x20\n",e+="\n",e+="VCHAR          =  %x21-7E\n",e+="               ; visible (printing) characters\n",e+="\n",e+="WSP            =  SP / HTAB\n",e+="               ; white space\n",e+="; ==============================================================================\n",e+="; Internet Date/Time Format (RFC 3339)\n",e+="; ==============================================================================\n",e+=";\n",e+="; Requires:\n",e+="; - core.bnf\n",e+=";\n",e+="; References:\n",e+="; - https://www.rfc-editor.org/rfc/rfc3339#section-5.6\n",e+="\n",e+="date-fullyear   = 4DIGIT\n",e+="\n",e+="date-month      = 2DIGIT  ; 01-12\n",e+="\n",e+="date-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on\n",e+="                          ; month/year\n",e+="\n",e+="time-hour       = 2DIGIT  ; 00-23\n",e+="\n",e+="time-minute     = 2DIGIT  ; 00-59\n",e+="\n",e+="time-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second\n",e+="                          ; rules\n",e+="\n",e+='time-secfrac    = "." 1*DIGIT\n',e+="\n",e+='time-numoffset  = ("+" / "-") time-hour ":" time-minute\n',e+="\n",e+='time-offset     = "Z" / time-numoffset\n',e+="\n",e+='partial-time    = time-hour ":" time-minute ":" time-second\n',e+="                  [time-secfrac]\n",e+="\n",e+='full-date       = date-fullyear "-" date-month "-" date-mday\n',e+="\n",e+="full-time       = partial-time time-offset\n",e+="\n",e+='date-time       = full-date "T" full-time\n',e+="; ==============================================================================\n",e+="; Uniform Resource Identifier (RFC 3986)\n",e+="; ==============================================================================\n",e+=";\n",e+="; Requires:\n",e+="; - core.bnf\n",e+=";\n",e+="; References:\n",e+="; - https://www.rfc-editor.org/rfc/rfc3986#appendix-A\n",e+="\n",e+='URI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]\n',e+="\n",e+='hier-part     = "//" authority path-abempty\n',e+="              / path-absolute\n",e+="              / path-rootless\n",e+="              / path-empty\n",e+="\n",e+="URI-reference = URI / relative-ref\n",e+="\n",e+='absolute-URI  = scheme ":" hier-part [ "?" query ]\n',e+="\n",e+='relative-ref  = relative-part [ "?" query ] [ "#" fragment ]\n',e+="\n",e+='relative-part = "//" authority path-abempty\n',e+="              / path-absolute\n",e+="              / path-noscheme\n",e+="              / path-empty\n",e+="\n",e+='scheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )\n',e+="\n",e+='authority     = [ userinfo "@" ] host [ ":" port ]\n',e+='userinfo      = *( unreserved / pct-encoded / sub-delims / ":" )\n',e+="host          = IP-literal / IPv4address / reg-name\n",e+="port          = *DIGIT\n",e+="\n",e+='IP-literal    = "[" ( IPv6address / IPvFuture  ) "]"\n',e+="\n",e+='IPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )\n',e+="\n",e+='IPv6address   =                            6( h16 ":" ) ls32\n',e+='              /                       "::" 5( h16 ":" ) ls32\n',e+='              / [               h16 ] "::" 4( h16 ":" ) ls32\n',e+='              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32\n',e+='              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32\n',e+='              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32\n',e+='              / [ *4( h16 ":" ) h16 ] "::"              ls32\n',e+='              / [ *5( h16 ":" ) h16 ] "::"              h16\n',e+='              / [ *6( h16 ":" ) h16 ] "::"\n',e+="\n",e+="h16           = 1*4HEXDIG\n",e+='ls32          = ( h16 ":" h16 ) / IPv4address\n',e+='IPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet\n',e+="dec-octet     = DIGIT                 ; 0-9\n",e+="              / %x31-39 DIGIT         ; 10-99\n",e+='              / "1" 2DIGIT            ; 100-199\n',e+='              / "2" %x30-34 DIGIT     ; 200-249\n',e+='              / "25" %x30-35          ; 250-255\n',e+="\n",e+="reg-name      = *( unreserved / pct-encoded / sub-delims )\n",e+="\n",e+='path          = path-abempty    ; begins with "/" or is empty\n',e+='              / path-absolute   ; begins with "/" but not "//"\n',e+="              / path-noscheme   ; begins with a non-colon segment\n",e+="              / path-rootless   ; begins with a segment\n",e+="              / path-empty      ; zero characters\n",e+="\n",e+='path-abempty  = *( "/" segment )\n',e+='path-absolute = "/" [ segment-nz *( "/" segment ) ]\n',e+='path-noscheme = segment-nz-nc *( "/" segment )\n',e+='path-rootless = segment-nz *( "/" segment )\n',e+="path-empty    = 0pchar\n",e+="\n",e+="segment       = *pchar\n",e+="segment-nz    = 1*pchar\n",e+='segment-nz-nc = 1*( unreserved / pct-encoded / sub-delims / "@" )\n',e+='; non-zero-length segment without any colon ":"\n',e+="\n",e+='pchar         = unreserved / pct-encoded / sub-delims / ":" / "@"\n',e+="\n",e+='query         = *( pchar / "/" / "?" )\n',e+="\n",e+='fragment      = *( pchar / "/" / "?" )\n',e+="\n",e+='pct-encoded   = "%" HEXDIG HEXDIG\n',e+="\n",e+='unreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"\n',e+="reserved      = gen-delims / sub-delims\n",e+='gen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"\n',e+='sub-delims    = "!" / "$" / "&" / "\'" / "(" / ")"\n',e+='              / "*" / "+" / "," / ";" / "="\n',e+="; ==============================================================================\n",e+="; DNS URI (RFC 4501)\n",e+="; ==============================================================================\n",e+=";\n",e+="; Requires:\n",e+="; - core.bnf\n",e+="; - uri.bnf\n",e+=";\n",e+="; References:\n",e+="; - https://www.rfc-editor.org/rfc/rfc4501.html#section-3\n",e+=";\n",e+="; Note:\n",e+="; dnsclassval and dnstypeval are not defined exhaustively\n",e+="; but their definitions are unused in SIW grammars.\n",e+="\n",e+="\n",e+='dnsurl          = "dns:" [ "//" dnsauthority "/" ]\n',e+='                  dnsname ["?" dnsquery]\n',e+="\n",e+='dnsauthority    = host [ ":" port ]\n',e+="                ; See RFC 3986 for the\n",e+='                ; definition of "host" and "port".\n',e+="\n",e+="dnsname         = *pchar\n",e+="                ; See RFC 3986 for the\n",e+='                ; definition of "pchar".\n',e+="\n",e+='                ; The "dnsname" field may be a\n',e+='                ; "relative" or "absolute" name,\n',e+="                ; as per RFC 1034, section 3.1.\n",e+="\n",e+="                ; Note further that an empty\n",e+='                ; "dnsname" value is to be\n',e+="                ; interpreted as the root itself.\n",e+="                ; See below on relative dnsnames.\n",e+="\n",e+='dnsquery        = dnsqueryelement [";" dnsquery]\n',e+="\n",e+='dnsqueryelement = ( "CLASS=" dnsclassval ) / ( "TYPE=" dnstypeval )\n',e+="                ; Each clause MUST NOT be used more\n",e+="                ; than once.\n",e+="\n",e+='dnsclassval     = 1*digit / "IN" / "CH"\n',e+="                ; omitted:\n",e+="                ; / <Any IANA registered DNS class mnemonic>\n",e+="\n",e+='dnstypeval      = 1*digit / "A" / "NS" / "MD"\n',e+="                ; omitted:\n",e+="                ; / <Any IANA registered DNS type mnemonic>\n",e+="; ==============================================================================\n",e+="; Chain-agnostic IDs (CAIP-2)\n",e+="; ==============================================================================\n",e+=";\n",e+="; Requires:\n",e+="; - core.bnf\n",e+=";\n",e+="; References:\n",e+="; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-2.md#syntax\n",e+="; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-10.md#syntax\n",e+="\n",e+="chain-id        = eth-chain-id\n",e+="                / sol-chain-id\n",e+="                ; NOTE: Only Ethereum and Solana are supported at the moment\n",e+="\n",e+="\n",e+="; Ethereum\n",e+="; ------------------------------------------------------------------------------\n",e+="\n",e+='eth-namespace   = %s"eip155"\n',e+="                ; The chain-id namespace for evm chains\n",e+="\n",e+="eth-network-id  = 1*32DIGIT\n",e+="                ; Accept up to 32 digits. Could probably be lowered\n",e+="\n",e+='eth-chain-id    = eth-namespace ":" eth-network-id\n',e+="                ; Examples:\n",e+="                ; - eip155:1   (eth mainnet)\n",e+="                ; - eip155:137 (polygon mainnet)\n",e+="\n",e+="; Solana\n",e+="; ------------------------------------------------------------------------------\n",e+="\n",e+='sol-namespace   = %s"solana"\n',e+="                ; The chain-id namespace for solana\n",e+="\n",e+='sol-network-id  = %s"mainnet" / %s"testnet" / %s"devnet" / %s"localnet"\n',e+="                ; This enumeration comes from https://github.com/solana-labs/wallet-standard/blob/master/packages/core/chains/src/index.ts\n",e+="\n",e+='sol-chain-id    = sol-namespace ":" sol-network-id\n',e+="                ; Examples:\n",e+="                ; - solana:mainnet (solana mainnet)\n",e+="                ; - solana:testnet (solana testnet)\n",e+="; ==============================================================================\n",e+="; Chain-agnostic account identifiers (CAIP-10)\n",e+="; ==============================================================================\n",e+=";\n",e+="; Requires:\n",e+="; - core.bnf\n",e+="; - chain-id.bnf\n",e+=";\n",e+="; References:\n",e+="; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-2.md#syntax\n",e+="; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-10.md#syntax\n",e+="\n",e+="account-id      = eth-account-id\n",e+="                / sol-account-id\n",e+="                ; NOTE: Only Ethereum and Solana are supported at the moment\n",e+="\n",e+="; Ethereum\n",e+="; ------------------------------------------------------------------------------\n",e+="\n",e+='eth-address     = "0x" 40HEXDIG\n',e+="                ; Must also conform to captilization\n",e+="                ; checksum encoding specified in EIP-55\n",e+="                ; where applicable (EOAs).\n",e+="\n",e+='eth-account-id  = eth-chain-id ":" eth-address\n',e+='                ; See CAIP-2 for definition of "eth-chain-id"\n',e+="                ; Examples:\n",e+="                ; - eip155:1:0xb9c5714089478a327f09197987f16f9e5d936e8a   (eth mainnet)\n",e+="                ; - eip155:137:0xb9c5714089478a327f09197987f16f9e5d936e8a (polygon mainnet)\n",e+="\n",e+="; Solana\n",e+="; ------------------------------------------------------------------------------\n",e+="\n",e+="sol-address     = 32*44( %x31-39 / %x41-48 / %x4A-4E / %x50-5A / %x61-6B / %x6D-7A )\n",e+="                ; Valid Solana addresses are 32-44 base58-encoded chars: 1-9 / A-H / J-N / P-Z / a-k / m-z\n",e+='                ; Note: this doesn\'t validate whether the address is "on the curve"\n',e+="\n",e+='sol-account-id  = sol-chain-id ":" sol-address\n',e+='                ; See CAIP-2 for definition of "sol-chain-id"\n',e+="                ; Examples:\n",e+="                ; - solana:mainnet:FYpB58cLw5cwiN763ayB2sFT8HLF2MRUBbbyRgHYiRpK (solana mainnet)\n",e+="                ; - solana:testnet:QhnBSSbjScn9VHBBqwosy99icpeJrW4iuEwkJ3d9Fn9  (solana testnet)\n",e+="; ==============================================================================\n",e+="; Sign in with X (CAIP-122)\n",e+="; ==============================================================================\n",e+=";\n",e+="; Requires:\n",e+="; - core.bnf\n",e+="; - datetime.bnf\n",e+="; - uri.bnf\n",e+="; - dns.bnf\n",e+="; - chain-id.bnf\n",e+="; - account-id.bnf\n",e+=";\n",e+="; References:\n",e+="; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-2.md#syntax\n",e+="; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-10.md#syntax\n",e+="; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-122.md\n",e+=";\n",e+="; Note:\n",e+="; Currently, this grammar file only supports the Ethereum and Solana blockchains\n",e+="\n",e+="sign-in-with-x = sign-in-with-eth\n",e+="               / sign-in-with-sol\n",e+="\n",e+="; Ethereum\n",e+=";-----------------------------------------------------------------------------\n",e+="\n",e+="sign-in-with-eth =\n",e+='  message-domain %s" wants you to sign in with your Ethereum account:" LF\n',e+="  eth-account-id LF\n",e+="  LF\n",e+="  [ message-statement LF ]\n",e+="  LF\n",e+='  %s"URI: " message-uri LF\n',e+='  %s"Version: " message-version LF\n',e+='  %s"Chain ID: " eth-chain-id LF\n',e+='  %s"Nonce: " message-nonce LF\n',e+='  %s"Issued At: " message-issued-at\n',e+='  [ LF %s"Expiration Time: " message-expiration-time ]\n',e+='  [ LF %s"Not Before: " message-not-before ]\n',e+='  [ LF %s"Request ID: " message-request-id ]\n',e+='  [ LF %s"Resources:" message-resources ]\n',e+="\n",e+="; Solana\n",e+=";-----------------------------------------------------------------------------\n",e+="\n",e+="sign-in-with-sol =\n",e+='  message-domain %s" wants you to sign in with your Solana account:" LF\n',e+="  sol-account-id LF\n",e+="  LF\n",e+="  [ message-statement LF ]\n",e+="  LF\n",e+='  %s"URI: " message-uri LF\n',e+='  %s"Version: " message-version LF\n',e+='  %s"Chain ID: " sol-chain-id LF\n',e+='  %s"Nonce: " message-nonce LF\n',e+='  %s"Issued At: " message-issued-at\n',e+='  [ LF %s"Expiration Time: " message-expiration-time ]\n',e+='  [ LF %s"Not Before: " message-not-before ]\n',e+='  [ LF %s"Request ID: " message-request-id ]\n',e+='  [ LF %s"Resources:" message-resources ]\n',e+="\n",e+="; Common\n",e+=";-----------------------------------------------------------------------------\n",e+="\n",e+="message-domain          = dnsauthority ; CAIP-10 spec defines domain as dnsauthority unlike EIP-4361, which uses authority\n",e+="message-address         = eth-account-id / sol-account-id ; See CAIP-10 for address identifier definition\n",e+='message-statement       = 1*( reserved / unreserved / " " )\n',e+="message-uri             = URI\n",e+='message-version         = "1"\n',e+="message-chain-id        = eth-chain-id / sol-chain-id\n",e+="message-nonce           = 8*( ALPHA / DIGIT )\n",e+="message-issued-at       = date-time\n",e+="message-expiration-time = date-time\n",e+="message-not-before      = date-time\n",e+="message-request-id      = *pchar\n",e+='message-resources       = *( LF "- " URI )\n','; ==============================================================================\n; Core rules for ABNF (RFC 5234)\n; ==============================================================================\n;\n; References:\n; - https://www.rfc-editor.org/rfc/rfc5234#appendix-B.1\n\nALPHA          =  %x41-5A / %x61-7A\n               ; A-Z / a-z\n\nBIT            =  "0" / "1"\n\nCHAR           =  %x01-7F\n               ; any 7-bit US-ASCII character,\n               ;  excluding NUL\n\nCR             =  %x0D\n               ; carriage return\n\nCRLF           =  CR LF\n               ; Internet standard newline\n\nCTL            =  %x00-1F / %x7F\n               ; controls\n\nDIGIT          =  %x30-39\n               ; 0-9\n\nDQUOTE         =  %x22\n               ; " (Double Quote)\n\nHEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"\n\nHTAB           =  %x09\n               ; horizontal tab\n\nLF             =  %x0A\n               ; linefeed\n\nLWSP           =  *(WSP / CRLF WSP)\n               ; Use of this linear-white-space rule\n               ;  permits lines containing only white\n               ;  space that are no longer legal in\n               ;  mail headers and have caused\n               ;  interoperability problems in other\n               ;  contexts.\n               ; Do not use when defining mail\n               ;  headers and use with caution in\n               ;  other contexts.\n\nOCTET          =  %x00-FF\n               ; 8 bits of data\n\nSP             =  %x20\n\nVCHAR          =  %x21-7E\n               ; visible (printing) characters\n\nWSP            =  SP / HTAB\n               ; white space\n; ==============================================================================\n; Internet Date/Time Format (RFC 3339)\n; ==============================================================================\n;\n; Requires:\n; - core.bnf\n;\n; References:\n; - https://www.rfc-editor.org/rfc/rfc3339#section-5.6\n\ndate-fullyear   = 4DIGIT\n\ndate-month      = 2DIGIT  ; 01-12\n\ndate-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on\n                          ; month/year\n\ntime-hour       = 2DIGIT  ; 00-23\n\ntime-minute     = 2DIGIT  ; 00-59\n\ntime-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second\n                          ; rules\n\ntime-secfrac    = "." 1*DIGIT\n\ntime-numoffset  = ("+" / "-") time-hour ":" time-minute\n\ntime-offset     = "Z" / time-numoffset\n\npartial-time    = time-hour ":" time-minute ":" time-second\n                  [time-secfrac]\n\nfull-date       = date-fullyear "-" date-month "-" date-mday\n\nfull-time       = partial-time time-offset\n\ndate-time       = full-date "T" full-time\n; ==============================================================================\n; Uniform Resource Identifier (RFC 3986)\n; ==============================================================================\n;\n; Requires:\n; - core.bnf\n;\n; References:\n; - https://www.rfc-editor.org/rfc/rfc3986#appendix-A\n\nURI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]\n\nhier-part     = "//" authority path-abempty\n              / path-absolute\n              / path-rootless\n              / path-empty\n\nURI-reference = URI / relative-ref\n\nabsolute-URI  = scheme ":" hier-part [ "?" query ]\n\nrelative-ref  = relative-part [ "?" query ] [ "#" fragment ]\n\nrelative-part = "//" authority path-abempty\n              / path-absolute\n              / path-noscheme\n              / path-empty\n\nscheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )\n\nauthority     = [ userinfo "@" ] host [ ":" port ]\nuserinfo      = *( unreserved / pct-encoded / sub-delims / ":" )\nhost          = IP-literal / IPv4address / reg-name\nport          = *DIGIT\n\nIP-literal    = "[" ( IPv6address / IPvFuture  ) "]"\n\nIPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )\n\nIPv6address   =                            6( h16 ":" ) ls32\n              /                       "::" 5( h16 ":" ) ls32\n              / [               h16 ] "::" 4( h16 ":" ) ls32\n              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32\n              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32\n              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32\n              / [ *4( h16 ":" ) h16 ] "::"              ls32\n              / [ *5( h16 ":" ) h16 ] "::"              h16\n              / [ *6( h16 ":" ) h16 ] "::"\n\nh16           = 1*4HEXDIG\nls32          = ( h16 ":" h16 ) / IPv4address\nIPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet\ndec-octet     = DIGIT                 ; 0-9\n              / %x31-39 DIGIT         ; 10-99\n              / "1" 2DIGIT            ; 100-199\n              / "2" %x30-34 DIGIT     ; 200-249\n              / "25" %x30-35          ; 250-255\n\nreg-name      = *( unreserved / pct-encoded / sub-delims )\n\npath          = path-abempty    ; begins with "/" or is empty\n              / path-absolute   ; begins with "/" but not "//"\n              / path-noscheme   ; begins with a non-colon segment\n              / path-rootless   ; begins with a segment\n              / path-empty      ; zero characters\n\npath-abempty  = *( "/" segment )\npath-absolute = "/" [ segment-nz *( "/" segment ) ]\npath-noscheme = segment-nz-nc *( "/" segment )\npath-rootless = segment-nz *( "/" segment )\npath-empty    = 0pchar\n\nsegment       = *pchar\nsegment-nz    = 1*pchar\nsegment-nz-nc = 1*( unreserved / pct-encoded / sub-delims / "@" )\n; non-zero-length segment without any colon ":"\n\npchar         = unreserved / pct-encoded / sub-delims / ":" / "@"\n\nquery         = *( pchar / "/" / "?" )\n\nfragment      = *( pchar / "/" / "?" )\n\npct-encoded   = "%" HEXDIG HEXDIG\n\nunreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"\nreserved      = gen-delims / sub-delims\ngen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"\nsub-delims    = "!" / "$" / "&" / "\'" / "(" / ")"\n              / "*" / "+" / "," / ";" / "="\n; ==============================================================================\n; DNS URI (RFC 4501)\n; ==============================================================================\n;\n; Requires:\n; - core.bnf\n; - uri.bnf\n;\n; References:\n; - https://www.rfc-editor.org/rfc/rfc4501.html#section-3\n;\n; Note:\n; dnsclassval and dnstypeval are not defined exhaustively\n; but their definitions are unused in SIW grammars.\n\n\ndnsurl          = "dns:" [ "//" dnsauthority "/" ]\n                  dnsname ["?" dnsquery]\n\ndnsauthority    = host [ ":" port ]\n                ; See RFC 3986 for the\n                ; definition of "host" and "port".\n\ndnsname         = *pchar\n                ; See RFC 3986 for the\n                ; definition of "pchar".\n\n                ; The "dnsname" field may be a\n                ; "relative" or "absolute" name,\n                ; as per RFC 1034, section 3.1.\n\n                ; Note further that an empty\n                ; "dnsname" value is to be\n                ; interpreted as the root itself.\n                ; See below on relative dnsnames.\n\ndnsquery        = dnsqueryelement [";" dnsquery]\n\ndnsqueryelement = ( "CLASS=" dnsclassval ) / ( "TYPE=" dnstypeval )\n                ; Each clause MUST NOT be used more\n                ; than once.\n\ndnsclassval     = 1*digit / "IN" / "CH"\n                ; omitted:\n                ; / <Any IANA registered DNS class mnemonic>\n\ndnstypeval      = 1*digit / "A" / "NS" / "MD"\n                ; omitted:\n                ; / <Any IANA registered DNS type mnemonic>\n; ==============================================================================\n; Chain-agnostic IDs (CAIP-2)\n; ==============================================================================\n;\n; Requires:\n; - core.bnf\n;\n; References:\n; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-2.md#syntax\n; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-10.md#syntax\n\nchain-id        = eth-chain-id\n                / sol-chain-id\n                ; NOTE: Only Ethereum and Solana are supported at the moment\n\n\n; Ethereum\n; ------------------------------------------------------------------------------\n\neth-namespace   = %s"eip155"\n                ; The chain-id namespace for evm chains\n\neth-network-id  = 1*32DIGIT\n                ; Accept up to 32 digits. Could probably be lowered\n\neth-chain-id    = eth-namespace ":" eth-network-id\n                ; Examples:\n                ; - eip155:1   (eth mainnet)\n                ; - eip155:137 (polygon mainnet)\n\n; Solana\n; ------------------------------------------------------------------------------\n\nsol-namespace   = %s"solana"\n                ; The chain-id namespace for solana\n\nsol-network-id  = %s"mainnet" / %s"testnet" / %s"devnet" / %s"localnet"\n                ; This enumeration comes from https://github.com/solana-labs/wallet-standard/blob/master/packages/core/chains/src/index.ts\n\nsol-chain-id    = sol-namespace ":" sol-network-id\n                ; Examples:\n                ; - solana:mainnet (solana mainnet)\n                ; - solana:testnet (solana testnet)\n; ==============================================================================\n; Chain-agnostic account identifiers (CAIP-10)\n; ==============================================================================\n;\n; Requires:\n; - core.bnf\n; - chain-id.bnf\n;\n; References:\n; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-2.md#syntax\n; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-10.md#syntax\n\naccount-id      = eth-account-id\n                / sol-account-id\n                ; NOTE: Only Ethereum and Solana are supported at the moment\n\n; Ethereum\n; ------------------------------------------------------------------------------\n\neth-address     = "0x" 40HEXDIG\n                ; Must also conform to captilization\n                ; checksum encoding specified in EIP-55\n                ; where applicable (EOAs).\n\neth-account-id  = eth-chain-id ":" eth-address\n                ; See CAIP-2 for definition of "eth-chain-id"\n                ; Examples:\n                ; - eip155:1:0xb9c5714089478a327f09197987f16f9e5d936e8a   (eth mainnet)\n                ; - eip155:137:0xb9c5714089478a327f09197987f16f9e5d936e8a (polygon mainnet)\n\n; Solana\n; ------------------------------------------------------------------------------\n\nsol-address     = 32*44( %x31-39 / %x41-48 / %x4A-4E / %x50-5A / %x61-6B / %x6D-7A )\n                ; Valid Solana addresses are 32-44 base58-encoded chars: 1-9 / A-H / J-N / P-Z / a-k / m-z\n                ; Note: this doesn\'t validate whether the address is "on the curve"\n\nsol-account-id  = sol-chain-id ":" sol-address\n                ; See CAIP-2 for definition of "sol-chain-id"\n                ; Examples:\n                ; - solana:mainnet:FYpB58cLw5cwiN763ayB2sFT8HLF2MRUBbbyRgHYiRpK (solana mainnet)\n                ; - solana:testnet:QhnBSSbjScn9VHBBqwosy99icpeJrW4iuEwkJ3d9Fn9  (solana testnet)\n; ==============================================================================\n; Sign in with X (CAIP-122)\n; ==============================================================================\n;\n; Requires:\n; - core.bnf\n; - datetime.bnf\n; - uri.bnf\n; - dns.bnf\n; - chain-id.bnf\n; - account-id.bnf\n;\n; References:\n; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-2.md#syntax\n; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-10.md#syntax\n; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-122.md\n;\n; Note:\n; Currently, this grammar file only supports the Ethereum and Solana blockchains\n\nsign-in-with-x = sign-in-with-eth\n               / sign-in-with-sol\n\n; Ethereum\n;-----------------------------------------------------------------------------\n\nsign-in-with-eth =\n  message-domain %s" wants you to sign in with your Ethereum account:" LF\n  eth-account-id LF\n  LF\n  [ message-statement LF ]\n  LF\n  %s"URI: " message-uri LF\n  %s"Version: " message-version LF\n  %s"Chain ID: " eth-chain-id LF\n  %s"Nonce: " message-nonce LF\n  %s"Issued At: " message-issued-at\n  [ LF %s"Expiration Time: " message-expiration-time ]\n  [ LF %s"Not Before: " message-not-before ]\n  [ LF %s"Request ID: " message-request-id ]\n  [ LF %s"Resources:" message-resources ]\n\n; Solana\n;-----------------------------------------------------------------------------\n\nsign-in-with-sol =\n  message-domain %s" wants you to sign in with your Solana account:" LF\n  sol-account-id LF\n  LF\n  [ message-statement LF ]\n  LF\n  %s"URI: " message-uri LF\n  %s"Version: " message-version LF\n  %s"Chain ID: " sol-chain-id LF\n  %s"Nonce: " message-nonce LF\n  %s"Issued At: " message-issued-at\n  [ LF %s"Expiration Time: " message-expiration-time ]\n  [ LF %s"Not Before: " message-not-before ]\n  [ LF %s"Request ID: " message-request-id ]\n  [ LF %s"Resources:" message-resources ]\n\n; Common\n;-----------------------------------------------------------------------------\n\nmessage-domain          = dnsauthority ; CAIP-10 spec defines domain as dnsauthority unlike EIP-4361, which uses authority\nmessage-address         = eth-account-id / sol-account-id ; See CAIP-10 for address identifier definition\nmessage-statement       = 1*( reserved / unreserved / " " )\nmessage-uri             = URI\nmessage-version         = "1"\nmessage-chain-id        = eth-chain-id / sol-chain-id\nmessage-nonce           = 8*( ALPHA / DIGIT )\nmessage-issued-at       = date-time\nmessage-expiration-time = date-time\nmessage-not-before      = date-time\nmessage-request-id      = *pchar\nmessage-resources       = *( LF "- " URI )\n'}}})),o.register("8jYNb",(function(e,t){e.exports=o("j1yuj")(o("2FqAO").getBundleURL("d6IVg")+o("eOkdY").resolve("iQnD7")).then((()=>o("1bIjE")))})),o.register("cI6uH",(function(t,n){e(t.exports,"useEffectOnce",(function(){return r}));var s=o("29o0l");const r=(e,t)=>{const n=(0,s.useRef)(!1);(0,s.useEffect)((()=>{if(!n.current&&t)return n.current=!0,e()}))}})),o.register("FaM4N",(function(e,t){e.exports=o("j1yuj")(o("2FqAO").getBundleURL("d6IVg")+o("eOkdY").resolve("ctOY4")).then((()=>o("9U7iG")))})),o.register("9CNaJ",(function(e,t){"use strict";var n=o("9MCQQ"),s={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return n.isMemo(e)?i:a[e.$$typeof]||s}a[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[n.Memo]=i;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,s){if("string"!=typeof n){if(m){var o=h(n);o&&o!==m&&e(t,o,s)}var i=d(n);u&&(i=i.concat(u(n)));for(var a=l(t),g=l(n),f=0;f<i.length;++f){var y=i[f];if(!(r[y]||s&&s[y]||g&&g[y]||a&&a[y])){var x=p(n,y);try{c(t,y,x)}catch(e){}}}}return t}})),o.register("9MCQQ",(function(e,t){"use strict";e.exports=o("dJlAX")})),o.register("dJlAX",(function(t,n){
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var s,r,o,i,a,l,c,d,u,p,h,m,g,f,y,x,b,w,E,v,T,A,I,k,C,S,R,B;e(t.exports,"AsyncMode",(function(){return s}),(function(e){return s=e})),e(t.exports,"ConcurrentMode",(function(){return r}),(function(e){return r=e})),e(t.exports,"ContextConsumer",(function(){return o}),(function(e){return o=e})),e(t.exports,"ContextProvider",(function(){return i}),(function(e){return i=e})),e(t.exports,"Element",(function(){return a}),(function(e){return a=e})),e(t.exports,"ForwardRef",(function(){return l}),(function(e){return l=e})),e(t.exports,"Fragment",(function(){return c}),(function(e){return c=e})),e(t.exports,"Lazy",(function(){return d}),(function(e){return d=e})),e(t.exports,"Memo",(function(){return u}),(function(e){return u=e})),e(t.exports,"Portal",(function(){return p}),(function(e){return p=e})),e(t.exports,"Profiler",(function(){return h}),(function(e){return h=e})),e(t.exports,"StrictMode",(function(){return m}),(function(e){return m=e})),e(t.exports,"Suspense",(function(){return g}),(function(e){return g=e})),e(t.exports,"isAsyncMode",(function(){return f}),(function(e){return f=e})),e(t.exports,"isConcurrentMode",(function(){return y}),(function(e){return y=e})),e(t.exports,"isContextConsumer",(function(){return x}),(function(e){return x=e})),e(t.exports,"isContextProvider",(function(){return b}),(function(e){return b=e})),e(t.exports,"isElement",(function(){return w}),(function(e){return w=e})),e(t.exports,"isForwardRef",(function(){return E}),(function(e){return E=e})),e(t.exports,"isFragment",(function(){return v}),(function(e){return v=e})),e(t.exports,"isLazy",(function(){return T}),(function(e){return T=e})),e(t.exports,"isMemo",(function(){return A}),(function(e){return A=e})),e(t.exports,"isPortal",(function(){return I}),(function(e){return I=e})),e(t.exports,"isProfiler",(function(){return k}),(function(e){return k=e})),e(t.exports,"isStrictMode",(function(){return C}),(function(e){return C=e})),e(t.exports,"isSuspense",(function(){return S}),(function(e){return S=e})),e(t.exports,"isValidElementType",(function(){return R}),(function(e){return R=e})),e(t.exports,"typeOf",(function(){return B}),(function(e){return B=e}));var D="function"==typeof Symbol&&Symbol.for,L=D?Symbol.for("react.element"):60103,P=D?Symbol.for("react.portal"):60106,F=D?Symbol.for("react.fragment"):60107,O=D?Symbol.for("react.strict_mode"):60108,N=D?Symbol.for("react.profiler"):60114,M=D?Symbol.for("react.provider"):60109,H=D?Symbol.for("react.context"):60110,$=D?Symbol.for("react.async_mode"):60111,U=D?Symbol.for("react.concurrent_mode"):60111,_=D?Symbol.for("react.forward_ref"):60112,q=D?Symbol.for("react.suspense"):60113,j=D?Symbol.for("react.suspense_list"):60120,G=D?Symbol.for("react.memo"):60115,z=D?Symbol.for("react.lazy"):60116,W=D?Symbol.for("react.block"):60121,V=D?Symbol.for("react.fundamental"):60117,K=D?Symbol.for("react.responder"):60118,Y=D?Symbol.for("react.scope"):60119;function X(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case L:switch(e=e.type){case $:case U:case F:case N:case O:case q:return e;default:switch(e=e&&e.$$typeof){case H:case _:case z:case G:case M:return e;default:return t}}case P:return t}}}function J(e){return X(e)===U}s=$,r=U,o=H,i=M,a=L,l=_,c=F,d=z,u=G,p=P,h=N,m=O,g=q,f=function(e){return J(e)||X(e)===$},y=J,x=function(e){return X(e)===H},b=function(e){return X(e)===M},w=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===L},E=function(e){return X(e)===_},v=function(e){return X(e)===F},T=function(e){return X(e)===z},A=function(e){return X(e)===G},I=function(e){return X(e)===P},k=function(e){return X(e)===N},C=function(e){return X(e)===O},S=function(e){return X(e)===q},R=function(e){return"string"==typeof e||"function"==typeof e||e===F||e===U||e===N||e===O||e===q||e===j||"object"==typeof e&&null!==e&&(e.$$typeof===z||e.$$typeof===G||e.$$typeof===M||e.$$typeof===H||e.$$typeof===_||e.$$typeof===V||e.$$typeof===K||e.$$typeof===Y||e.$$typeof===W)},B=X})),o.register("cb8KS",(function(n,s){e(n.exports,"ConfirmationIconType",(function(){return m})),e(n.exports,"ConfirmationIcon",(function(){return f}));var r=o("1fwzV"),i=o("lz5BI"),a=o("29o0l"),l=o("gkfw3"),c=o("6UMd8"),d=o("j81qC");const u=l.default.div`
  position: relative;
`,p=(0,l.default)(i.motion.div)`
  width: ${e=>e.width}px;
  height: ${e=>e.width}px;
`,h=(0,l.default)(i.motion.div)`
  top: 0;
  width: 100%;
  height: 100%;
  position: absolute;
  display: flex;
  justify-content: center;
  align-items: center;
`;var m,g;(g=m||(m={})).Default="default",g.Warning="warning",g.Failure="failure",g.Success="success";const f=({type:e,iconWidth:n,defaultIcon:s,backgroundWidth:o=94})=>t(a).createElement(u,null,t(a).createElement(r.AnimatePresence,{mode:"wait",initial:!1},t(a).createElement(p,{width:o,key:e,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}},(()=>{switch(e){case m.Default:return t(a).createElement(c.Circle,{diameter:o,color:"#181818",includeDarkBoxShadow:!0});case m.Warning:return t(a).createElement(c.Circle,{diameter:o,color:"#FFDC62",opacity:.1});case m.Failure:return t(a).createElement(c.Circle,{diameter:o,color:"#EB3742",opacity:.1});case m.Success:return t(a).createElement(c.Circle,{diameter:o,color:"#21E56F",opacity:.1})}})())),t(a).createElement(r.AnimatePresence,{mode:"wait",initial:!0},t(a).createElement(h,{key:e,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.4,bounce:.4,type:"spring"}},(()=>{switch(e){case m.Default:return null!=s?s:t(a).createElement(d.IconQuestionMark,{width:null!=n?n:30});case m.Warning:return t(a).createElement(d.IconExclamationMarkCircle,{width:40,height:40,circleFill:"#FFDC62",exclamationFill:"#00000000"});case m.Failure:return t(a).createElement(d.IconFailure,{width:null!=n?n:30});case m.Success:return t(a).createElement(d.IconCheckmark,{height:"100%",width:null!=n?n:40,fill:"#21E56F"})}})())))})),o("eOkdY").register(JSON.parse('{"d6IVg":"notification.cb9be8d5.js","iQnD7":"serum.6f2435f3.js","ctOY4":"EthSelectWallet.28a9a876.js","hUg9I":"phishing.8619ca06.js","b0KbB":"metaplex.a7fe443c.js","8p21e":"metaplex.67571bb6.js","ulmHJ":"collectibles.f7823fac.js","a07i3":"staking.e599f575.js","fu8sn":"swapper.71addccc.js","9xOOo":"notification.00ea6d9c.js","9Dpy0":"popup.5cbd182e.css","6b42r":"ConnectHardwareMultichainFlow.66caeab8.js","d5N5q":"multichainMigration.9e6324ce.js","lbp5w":"onboarding.e6d78f0d.js","7boe1":"phishing.ef2b6270.js"}'));var i=o("cFUcx"),a=o("csW2r"),l=o("29o0l"),c=o("8Ub2g"),d=o("e3YvV"),u={};e(u,"EthSendTransaction",(function(){return kn}),(function(e){return kn=e}));var p=o("iOvk1"),h=o("43063"),m=o("7gANb"),g=(l=o("29o0l"),o("Nt4tV")),f=(h=o("43063"),l=o("29o0l"),g=o("Nt4tV"),o("gkfw3")),y=o("hFkH3"),x=o("1VwBG"),b=o("hFNr9"),w=o("27SDj"),E=o("cleOt"),v=(m=o("7gANb"),l=o("29o0l"),f=o("gkfw3"),o("j81qC"));w=o("27SDj");const T=f.default.div`
  display: flex;
  background-color: ${e=>e.color};
  padding: 16px;
  width: 100%;
  border-width: 1px;
  border-style: solid;
  border-color: ${e=>e.color};
  border-radius: 12px;
  gap: 8px;

  & + & {
    margin-top: 8px;
  }
`,A=f.default.div`
  padding: 3px;
`,I=(0,f.default)(w.Text).attrs({size:14,weight:400,lineHeight:17,textAlign:"left",wordBreak:"break-word"})``,k=({message:e,inverted:t=!1,variant:n="warning"})=>{let s="#2A2A2A",r="#222222",o=l.createElement(v.IconDangerOctagon,{fill:r,width:18,height:18});switch(n){case"warning":s=m.simulations.WARNING_COLOR,t||(o=l.createElement(v.IconDangerTriangle,{fill:"#222222",width:18,height:18}));break;case"danger":s=m.simulations.DANGER_COLOR;break;case"error":s="#2A2A2A",r=m.simulations.ERROR_COLOR;break;default:s=m.simulations.WARNING_COLOR}return l.createElement(T,{color:s},l.createElement(A,null,o),l.createElement(I,{color:r,padding:"4px 0","data-testid":"approval-warning-text"},e))};m=o("7gANb"),l=o("29o0l"),o("3YDVy"),f=o("gkfw3");var C=o("qppYH"),S=(v=o("j81qC"),o("5YM9i")),R=o("hiI91");w=o("27SDj");const B=f.default.section`
  background: #2a2a2a;
  border-radius: 6px;
  margin-bottom: 10px;
`,D=f.default.div`
  padding: 12px 18px;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
`,L=f.default.div`
  padding-top: 0px;
  padding-bottom: 12px;
  padding-left: 18px;
  padding-right: 18px;
  border-top: 1px solid #222222;
  > * {
    margin-top: 12px;
  }
`,P=f.default.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
`,F=f.default.div`
  width: ${e=>e.size}px;
  height: ${e=>e.size}px;
  overflow: hidden;
  flex: none;
`,O=(f.default.img`
  vertical-align: middle;
  width: 100%;
  height: 100%;
`,f.default.div`
  display: flex;
  align-items: center;
  overflow: hidden;
`),N=f.default.div`
  flex-shrink: 1;
`,M=(0,f.default)(R.SkeletonLoader)`
  height: 20px;
  border-radius: 8px;
`,H=({title:e,rowItems:n,emptyDescription:s,info:r,isLoading:o=!1})=>t(l).createElement(B,{"data-testid":"estimated-changes"},t(l).createElement(D,null,t(l).createElement(w.Text,{textAlign:"left",size:14,weight:500,lineHeight:17},e),t(l).createElement(S.Info,{info:r})),t(l).createElement(L,null,o&&t(l).createElement(M,null),!o&&n.map((({valueText:e,valueColor:n,image:s,balanceChange:r},o)=>t(l).createElement($,{key:`${o}-${e}`,valueText:e,valueColor:n,image:s,balanceChange:r}))),!o&&0===n.length&&t(l).createElement(P,null,t(l).createElement(w.Text,{"data-testid":"instruction-row-empty-description",size:14,weight:400,lineHeight:17,whiteSpace:"normal",color:"#EB3742"},s)))),$=({valueText:e,valueColor:n,image:s,balanceChange:r})=>t(l).createElement(P,{key:e},t(l).createElement(O,null,s?t(l).createElement(F,{size:24},t(l).createElement(C.EcosystemImage,{image:{type:s.type,src:s.url},size:24})):(null!=r?r:"").startsWith("+")?t(l).createElement(F,{size:24,"data-testid":"incoming"},t(l).createElement(v.IconRowIncoming,{width:24,height:24})):t(l).createElement(F,{size:24,"data-testid":"outgoing"},t(l).createElement(v.IconRowStart,{width:24,height:24})),t(l).createElement(w.Text,{size:14,weight:500,lineHeight:20,wordBreak:"break-word",whiteSpace:"nowrap",textAlign:"left",color:m.simulations.StateChangeColor.White,margin:"0 0 0 8px",textOverflow:"ellipsis",overflow:"hidden",alt:e},e)),t(l).createElement(N,null,t(l).createElement(w.Text,{size:14,weight:500,lineHeight:20,whiteSpace:"nowrap",color:n,textAlign:"right",margin:"0 0 0 8px"},r)));h=o("43063"),l=o("29o0l"),g=o("Nt4tV"),f=o("gkfw3");var U=o("eWzmJ"),_=o("91Dw6"),q=o("aWXnn"),j=(C=o("qppYH"),o("634r8"));w=o("27SDj");const G=f.default.div`
  color: ${({color:e})=>e};
  font-size: 13px;
  font-family: Inter;
  font-weight: 500;
  margin-top: 6px;
  line-height: 16px;
`,z=(0,f.default)(w.Text).attrs({size:22,weight:600,lineHeight:24,textAlign:"left"})``,W=(0,f.default)(w.Text).attrs({size:15,color:"#999999",textAlign:"left",lineHeight:16})``,V=e=>{const{title:t,type:n,description:s,domain:r,originIsBlocklisted:o}=e,{t:i}=(0,h.useTranslation)();let a;a=(0,U.useTabMeta)("tabId"in e?e.tabId:void 0).iconUrl,"iconUrl"in e&&(a=e.iconUrl),o&&(a=void 0);let c="#999999";return o&&(c=_.DANGER_COLOR),l.createElement(q.Column,{margin:"16px 0 16px 0"},l.createElement(j.Row,null,l.createElement(C.EcosystemImage,{image:{type:"dapp",src:a},size:56}),l.createElement(q.Column,{margin:"0 0 0 8px"},l.createElement(z,null,t||i(function(e){switch(e){case"APPROVE_TRANSACTION":return"notificationSignatureRequestConfirmTransactionCapitalized";case"APPROVE_TRANSACTIONS":return"notificationSignatureRequestConfirmTransactionsCapitalized";case"SIGN_MESSAGE":return"dappApprovePopupSignMessage";case"CONNECT":return"notificationApplicationApprovalActionButtonConnect";case"SIGN_IN":return"notificationApplicationApprovalActionButtonSignIn"}}(n))),r&&l.createElement(G,{color:c},(0,g.removeWebPrefixes)(null!=r?r:"")))),s&&l.createElement(j.Row,{margin:"8px 0 0 0"},l.createElement(W,null,s)))};var K=o("aklgB");l=o("29o0l"),f=o("gkfw3"),x=o("1VwBG"),w=o("27SDj"),l=o("29o0l"),f=o("gkfw3"),v=o("j81qC");const Y=f.default.div`
  display: flex;
  align-items: center;
`,X=f.default.div`
  padding-left: 8px;
  color: #999;
`,J=({children:e,showArrow:n})=>t(l).createElement(Y,null,e,n&&t(l).createElement(X,null,t(l).createElement(v.IconChevronRight,{fill:"#999999",height:12}))),Q=f.default.div`
  display: flex;
  flex-direction: column;
  cursor: ${e=>e.onClick?"pointer":"inherit"};
`,Z=({rows:e})=>e&&(null==e?void 0:e.length)?t(l).createElement(t(l).Fragment,null,e.map((({label:e,value:n,renderPlainValue:s,onClick:r},o)=>t(l).createElement(Q,{onClick:r,key:`cardrow-${o}`},t(l).createElement(x.CardBodyRow,null,t(l).createElement(w.Text,{size:14,lineHeight:17,textAlign:"left",color:"#ffffff",style:{gap:10}},e),s?t(l).createElement(J,{showArrow:!!r},s()):n))))):null,ee=f.default.div`
  margin-bottom: 12px;
`,te=t(l).memo((({isLoadingSimulation:e=!1,isLoadingNetworkFee:n=!1,isLoadingNativeTokenBalance:s=!1,tabId:r,origin:o,denyApproval:i,confirmApproval:a,renderTransactionFee:c,simulationResults:d,simulationWarnings:u,simulationTooltipText:p,humanReadableError:m,rows:f=[],isErrorNativeTokenBalance:v,hasGasEstimationFailed:T,hasSimulationFailed:A,renderAdvancedDetails:I,numTransactions:C})=>{const S=(0,g.removeWebPrefixes)(o),{t:R}=(0,h.useTranslation)(),[B,D]=(0,l.useState)(!1),L=t(l).createElement(b.TooltipContent,{paddingLeft:10,paddingRight:10},t(l).createElement(b.TooltipText,null,p)),P=u.length>0||T||v||A||m,F=0===d.length,O=!(A||F&&P),N=m&&u.length>0?m:R("notificationTransactionApprovalNoAssetOwnershipImpactingChanges");return t(l).createElement(K.Container,null,t(l).createElement(E.MultichainAccountHeader,null),t(l).createElement(K.Body,null,t(l).createElement(V,{domain:S,type:C&&C>1?"APPROVE_TRANSACTIONS":"APPROVE_TRANSACTION",tabId:r}),P&&t(l).createElement(ee,null,u.slice(0,1).map(((e,n)=>t(l).createElement(k,{message:e.message,variant:"danger",key:n}))),0===u.length&&m&&t(l).createElement(k,{message:m,variant:"error"}),T&&t(l).createElement(k,{message:R("gasEstimationErrorWarning"),variant:"error"}),A&&t(l).createElement(k,{message:R("notificationFailedToScan"),variant:"danger"}),v&&t(l).createElement(k,{message:R("nativeTokenBalanceErrorWarning"),variant:"error"})),O&&t(l).createElement(H,{isLoading:e,title:R("notificationTransactionApprovalEstimatedChanges"),rowItems:d,emptyDescription:N,info:L}),t(l).createElement(x.Card,null,t(l).createElement(x.CardBody,null,c(),t(l).createElement(Z,{rows:f}))),t(l).createElement(w.Text,{size:14,lineHeight:19,color:"#999999",margin:"17px 0",onClick:()=>D(!B),"data-testid":"display-advanced-details-text"},R(B?"notificationTransactionApprovalHideAdvancedDetails":"notificationTransactionApprovalViewAdvancedDetails")),B&&I()),t(l).createElement(K.Footer,null,t(l).createElement(y.ButtonPair,{primaryText:R("commandConfirm"),secondaryText:R("commandCancel"),onPrimaryClicked:a,onSecondaryClicked:i,primaryDisabled:e||n||s})))}));p=o("iOvk1");var ne=o("5slFC"),se=o("5uSEV"),re=(m=o("7gANb"),l=o("29o0l"),o("gX5Te"));h=o("43063"),l=o("29o0l"),g=o("Nt4tV");const oe=e=>{const t=e.toString();return(0,g.formatHashMedium)(t)};g=o("Nt4tV"),f=o("gkfw3"),x=o("1VwBG");var ie=o("bw7Ah"),ae=(w=o("27SDj"),o("5bRlf")),le=(h=o("43063"),l=o("29o0l"),g=o("Nt4tV"),f=o("gkfw3"),y=o("hFkH3"),o("8oN8T"));E=o("cleOt"),K=o("aklgB");const ce=(0,f.default)(le.LoadingContent)`
  height: 150px;
`,de=({title:e,children:t,site:n,iconUrl:s,loading:r,description:o,confirmText:i,onConfirm:a,onCancel:c})=>{const{t:d}=(0,h.useTranslation)();return l.createElement(K.Container,null,l.createElement(E.MultichainAccountHeader,null),l.createElement(K.Body,null,l.createElement(V,{title:e,domain:(0,g.removeWebPrefixes)(null!=n?n:""),type:"APPROVE_TRANSACTION",iconUrl:null!=s?s:"",description:o}),l.createElement(ce,{isLoading:r,showingDelayMs:0},t)),!r&&l.createElement(K.Footer,null,l.createElement(y.ButtonPair,{primaryText:null!=i?i:d("commandApprove"),secondaryText:d("commandCancel"),onPrimaryClicked:a,onSecondaryClicked:c,primaryDisabled:r||!a})))},ue=f.default.div`
  display: flex;
  flex-direction: column;
  align-items: flex-end;
`,pe=f.default.a.attrs({target:"_blank",rel:"noopener noreferrer"})`
  text-decoration: none;
  cursor: pointer;
`,he=({origin:e,tabId:t,tokenSymbol:n,loading:s=!1,renderTransactionFee:r,onConfirm:o,onCancel:i,fullSupply:a,amount:c,supplyDollarValue:d,tokenAddressExplorerUrl:u,tokenAddress:p,renderScanWarnings:m,scanFailed:f,rows:y})=>{const{t:b}=(0,h.useTranslation)(),[E,v]=l.useState(!1);return l.createElement(de,{title:b("notificationTransactionERC20ApprovalTitle",{tokenSymbol:n}),site:e,onConfirm:o,onCancel:i,tabId:t,loading:s,description:b("notificationTransactionERC20ApprovalDescription")},f&&l.createElement(ae.ApprovalWarningDiv,{isCritical:!1},l.createElement(ae.ApprovalWarningText,{size:14,weight:500,lineHeight:19,isCritical:!1},l.createElement(ie.PTrans,{i18nKey:"notificationSignatureRequestScanFailedDescription",style:{marginTop:12}}))),m&&m(),l.createElement(x.Card,{style:{marginTop:24}},l.createElement(x.CardBody,null,l.createElement(x.CardBodyRow,null,l.createElement(w.Text,{size:14,lineHeight:17,textAlign:"left",color:"#ffffff",style:{gap:10}},b("limit")),l.createElement(ue,null,a&&l.createElement(w.Text,{size:14,weight:400,lineHeight:17,whiteSpace:"normal",wordBreak:"break-word","data-testid":"limit",color:"#777777"},b("notificationTransactionERC20Unlimited")),l.createElement(w.Text,{size:13,weight:400,lineHeight:17,whiteSpace:"normal",wordBreak:"break-word","data-testid":"limit",color:"#999999"},`${(0,g.formatTokenAmount)(c)} ${n}`,!!d&&l.createElement(l.Fragment,null,"  "),!!d&&`${new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",currencyDisplay:"narrowSymbol",maximumFractionDigits:2}).format(d)}`))),r&&r(),l.createElement(Z,{rows:y}),E&&l.createElement(l.Fragment,null,l.createElement(x.CardBodyRow,null,l.createElement(w.Text,{size:14,lineHeight:17,textAlign:"left",color:"#777",style:{gap:10}},b("notificationTransactionERC20ApprovalContractAddress",{defaultValue:"Contract Address"})),l.createElement(pe,{href:u},l.createElement(w.Text,{size:14,weight:500,lineHeight:17,whiteSpace:"normal",wordBreak:"break-word","data-testid":"tokenAddress",color:"#AB9FF2"},oe(p))))))),l.createElement(w.Text,{size:14,lineHeight:19,color:E?"#AB9FF2":"#777777",margin:"17px 0",onClick:()=>v(!E),"data-testid":"display-advanced-details-text"},b(E?"notificationTransactionApprovalHideAdvancedDetails":"notificationTransactionApprovalViewAdvancedDetails")))};h=o("43063"),l=o("29o0l"),f=o("gkfw3"),x=o("1VwBG");var me=o("lUpyg"),ge=(ie=o("bw7Ah"),w=o("27SDj"),ae=o("5bRlf"),p=o("iOvk1"),h=o("43063"),se=o("5uSEV"),l=o("29o0l"),o("jkMDT")),fe=(g=o("Nt4tV"),f=o("gkfw3"),o("2RoPI"));C=o("qppYH"),v=o("j81qC"),w=o("27SDj");const ye=f.default.div`
  background: #2a2a2a;
  border-radius: ${({isInTable:e})=>e?"0 0 12px 12px":"12px"};
  overflow: hidden;
  position: relative;
`,xe=f.default.div`
  padding: 16px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  cursor: ${({isOverflow:e})=>e?"pointer":"auto"};
`,be=f.default.div`
  position: relative;
  overflow-wrap: break-word;
  max-height: ${({isOpen:e})=>e?"none":"96px"};

  &:after {
    content: "";
    position: absolute;
    left: 0;
    bottom: 0;
    height: 100%;
    width: 100%;
    background: ${({isOverflow:e})=>e?"linear-gradient(to top, #2a2a2a, transparent)":"none"};
    transition: background 200ms ease;
    display: ${({isOpen:e})=>e?"none":"block"};
  }
`,we=f.default.div`
  padding: ${({isOpen:e,isOverflow:t})=>!t||e?"0 16px 16px 16px":"0 16px"};
`,Ee=(0,f.default)(w.Text)`
  pre {
    text-align: left;
    font-size: 14px;
    font-weight: 400;
    line-height: 17px;
    color: #999999;
    white-space: pre-wrap;
  }
`,ve=f.default.div`
  display: flex;
  width: 100%;
`,Te=f.default.div``,Ae=(0,f.default)(v.IconCopy)`
  &:hover {
    path {
      stroke: #ffffff;
    }
  }
`,Ie=f.default.div`
  margin-right: 4px;
`,ke=f.default.div`
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 12px;
`,Ce=f.default.div`
  height: 1px;
  background-color: #222222;
`,Se=f.default.div`
  margin: 8px 0;
  display: flex;
  align-items: center;
  cursor: pointer;
`,Re=f.default.div`
  background: #2a2a2a;
  border-radius: 12px;
  display: flex;
  flex-direction: column;
`,Be=f.default.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  padding: 16px;
  cursor: ${({onClick:e})=>e?"pointer":"auto"};
`,De=(0,f.default)(C.EcosystemImage)`
  margin-right: 4px;
`,Le=(0,f.default)(w.Text)`
  &:hover {
    color: #ab9ff2;
  }
`,Pe=f.default.div`
  margin-left: 8px;
`,Fe=t(l).memo((({message:e,isJson:n,isInTable:s=!1})=>{const{t:r}=(0,h.useTranslation)(),o=(0,l.useRef)(null),[i,a]=(0,l.useState)(!1),[c,d]=(0,l.useState)(!1),{copied:u,copy:p}=(0,fe.useCopyButton)(e),m=(0,l.useCallback)((()=>{p(),ge.toast.success(r("notificationMessageCopied"),{position:"top-center"})}),[p,r]),g=(0,l.useCallback)((()=>{a(!i)}),[i]);return(0,l.useEffect)((()=>{if(o.current){const e=o.current.scrollHeight>96;d(e)}}),[e,i]),t(l).createElement(ye,{isInTable:s},t(l).createElement(xe,{isOverflow:c},t(l).createElement(ve,{onClick:c?g:void 0},c&&t(l).createElement(Ie,{"data-testid":"toggle"},i?t(l).createElement(v.IconToggleDown,null):t(l).createElement(v.IconToggleRight,null)),t(l).createElement(w.Text,{textAlign:"left",size:14,weight:400,lineHeight:17,wordBreak:"break-word"},r("notificationMessageHeader"))),n&&t(l).createElement(Te,{onClick:m},t(l).createElement(Ae,{copied:u,fill:"#999999","data-testid":"copy-icon"}))),t(l).createElement(be,{isOpen:i,isOverflow:c},t(l).createElement(we,{isOpen:i,isOverflow:c},t(l).createElement("div",{ref:o},t(l).createElement(Ee,null,t(l).createElement("pre",null,e))))))})),Oe=e=>{let t=e,n=!1;try{const s=JSON.parse(e);t=JSON.stringify(s,null,2),n=!0}catch(e){}return{formattedMessage:t,isJson:n}},Ne=(e,n)=>{const{t:s}=(0,h.useTranslation)(),r=(0,l.useCallback)((()=>{if(e){const t=(0,se.generateExplorerUrl)({networkID:n,endpoint:"address",param:e});window.open(t)}}),[e,n]),o=t(l).createElement(ke,null,t(l).createElement(Le,{size:14,weight:400,lineHeight:17,color:"#ab9ff2",onClick:r},(0,g.formatHashMedium)(null!=e?e:"",4)),t(l).createElement(Pe,null,t(l).createElement(v.IconLink,{fill:"#999999"})));return e?{label:s("notificationContractAddress"),value:o}:{label:"",value:null}},Me=e=>{const{t:n}=(0,h.useTranslation)(),s=p.Chains.getChainName(e);let r="solana";switch(s){case"Solana":r="solana";break;case"Ethereum":r="ethereum";break;case"Polygon":r="polygon";break;case"Bitcoin":r="bitcoin"}const o=t(l).createElement(ke,null,t(l).createElement(De,{image:{type:"network",preset:r},size:16}),t(l).createElement(w.Text,{size:14,weight:400,lineHeight:17,color:"#999999"},s));return{label:n("notificationTransactionApprovalNetwork"),value:o}},He=({header:e,rows:n=[],message:s,isJson:r})=>{const o=!!e,[i,a]=(0,l.useState)(!o),c=(0,l.useCallback)((()=>{a(!i)}),[i]);return t(l).createElement(t(l).Fragment,null,e&&t(l).createElement(Se,{onClick:c},t(l).createElement(Ie,null,i?t(l).createElement(v.IconToggleDown,{fill:"#999999"}):t(l).createElement(v.IconToggleRight,{fill:"#999999"})),t(l).createElement(w.Text,{color:"#999999",textAlign:"left",size:14,weight:600,lineHeight:17},e)),i&&t(l).createElement(Re,null,n.map((({label:e,value:s,onClick:r},o)=>t(l).createElement(t(l).Fragment,null,t(l).createElement(Be,{onClick:r},t(l).createElement(w.Text,{size:14,weight:400,lineHeight:17,color:"#ffffff"},e),s),o!==n.length-1&&n.length>1&&t(l).createElement(Ce,null)))),s&&!!r&&t(l).createElement(t(l).Fragment,null,t(l).createElement(Ce,null),t(l).createElement(Fe,{message:s,isJson:r,isInTable:!0}))))},$e=f.default.a.attrs({target:"_blank",rel:"noopener noreferrer"})`
  text-decoration: none;
  cursor: pointer;
`,Ue=({tabId:e,tokenSymbol:t,loading:n=!1,renderTransactionFee:s,onConfirm:r,onCancel:o,spenderAddress:i,spenderAddressExplorerUrl:a,tokenImageUrl:c,renderScanWarnings:d,scanFailed:u,rows:p})=>{const{t:m}=(0,h.useTranslation)(),[g,f]=l.useState(!0),y=m("notificationTransactionERC20RevokeTitle",{tokenSymbol:t}),b=c?(0,me.scaleUri)(c,90):null;return l.createElement(de,{title:y,site:void 0,iconUrl:b,confirmText:m("commandRevoke"),onConfirm:r,onCancel:o,tabId:e,loading:n},u&&l.createElement(ae.ApprovalWarningDiv,{isCritical:!1},l.createElement(ae.ApprovalWarningText,{size:14,weight:500,lineHeight:19,isCritical:!1},l.createElement(ie.PTrans,{i18nKey:"notificationSignatureRequestScanFailedDescription",style:{marginTop:12}}))),d&&d(),l.createElement(x.Card,{style:{marginTop:24}},l.createElement(x.CardBody,null,s&&s(),p&&l.createElement(He,{rows:p}),g&&l.createElement(l.Fragment,null,l.createElement(x.CardBodyRow,null,l.createElement(w.Text,{size:14,lineHeight:17,textAlign:"left",color:"#777",style:{gap:10}},m("notificationTransactionERC20ApprovalContractAddress",{defaultValue:"Contract Address"})),l.createElement($e,{"data-testid":"spenderAddressLink",href:a},l.createElement(w.Text,{size:14,weight:500,lineHeight:17,whiteSpace:"normal",wordBreak:"break-word","data-testid":"spenderAddress",color:"#AB9FF2"},oe(i))))))),l.createElement(w.Text,{size:14,lineHeight:19,color:g?"#AB9FF2":"#777777",margin:"17px 0",onClick:()=>f(!g),"data-testid":"display-advanced-details-text"},m(g?"notificationTransactionApprovalHideAdvancedDetails":"notificationTransactionApprovalViewAdvancedDetails")))},_e=({origin:e,tabId:t,chainId:n,loading:s,renderTransactionFee:r,data:o,onConfirm:i,onCancel:a,rows:c})=>{const{amount:d,imageUrl:u,spenderAddress:h,tokenAddress:g,tokenSymbol:f}=m.simulations.getERC20ApprovalSimulationData(o),y=(0,se.generateExplorerUrl)({networkID:p.EVMNetworkID.parse(`eip155:${n}`),endpoint:"address",param:h}),{fungibles:x,isLoadingTokens:b}=re.hooks.useFungibles({keys:[g]}),{approvalAmount:w,isLoading:E,supplyDollarValue:v,tokenAddressExplorerUrl:T,fullSupply:A}=(0,ne.useApprovalDetails)({chainId:n,tokenAddress:g,amount:d,fungibles:x,fungibleLoading:b});return 0===w?l.createElement(Ue,{origin:e,tabId:t,onCancel:a,onConfirm:i,spenderAddress:h,spenderAddressExplorerUrl:y,tokenImageUrl:u,tokenSymbol:f.toUpperCase(),loading:s||E||b,renderTransactionFee:r,rows:c}):l.createElement(he,{amount:w,tabId:t,origin:e,onCancel:a,onConfirm:i,fullSupply:A,supplyDollarValue:v,tokenAddress:g,tokenSymbol:f.toUpperCase(),tokenAddressExplorerUrl:T,loading:s||E||b,renderTransactionFee:r,rows:c})};var qe=o("lz5BI"),je=(l=o("29o0l"),f=o("gkfw3"),o("i1NO2")),Ge=(re=o("gX5Te"),o("fYATH")),ze=o("jFp5o");le=o("8oN8T");const We=(0,f.default)(qe.motion.div)`
  width: 100%;
  height: ${"calc(100% - 16px)"};
  margin: 0;
  background: #222;
  position: absolute;
  padding: 16px;
  padding-top: 0;
`,Ve=f.default.div`
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  height: ${e=>{var t;return null!==(t=e.settingsContainerHeight)&&void 0!==t?t:"100%"}};
`,Ke=(e,n)=>{const{pushDetailView:s}=(0,je.useDetailViews)(),{isActive:r,showAutoConfirmRow:o,untilDate:i,save:a,settings:c,isAutoConfirmIsTouched:d,loading:u}=re.hooks.useAutoConfirmSettingsProps({origin:new URL(e).origin});return{open:t(l).useCallback((r=>{s(t(l).createElement(We,null,t(l).createElement(ze.DappSettingsHeader,{dappUrl:e}),t(l).createElement(le.FullHeightLoadingContent,{isLoading:u},t(l).createElement(Ve,null,t(l).createElement(Ge.AutoConfirmSettingsSection,{dappUrl:e,autoConfirmStatusCode:r,networkID:n})))))}),[s,e,n,u]),isActive:r,untilDate:i,save:a,settings:c,isAutoConfirmIsTouched:d,showAutoConfirmRow:o}};var Ye={};e(Ye,"useEthTransactionRequestProps",(function(){return qt}),(function(e){return qt=e}));var Xe=o("4xbAj"),Je=(p=o("iOvk1"),o("eJxop")),Qe=(h=o("43063"),o("7mQ3Y")),Ze={};e(Ze,"rpcRequestData",(function(){return nt}),(function(e){return nt=e})),e(Ze,"route",(function(){return st}),(function(e){return st=e}));var et=o("creZv"),tt=function(e,t,n,s){return new(n||(n=Promise))((function(r,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((s=s.apply(e,t||[])).next())}))};function nt(e,t){return{request:e,source:t,id:(0,et.default)()}}function st(){return{parse:e=>function(e){function t(t,n,s){return r=>tt(this,void 0,void 0,(function*(){const o=Object.assign(Object.assign({},r),{request:e.request.parse(r.request)}),i=[];for(const e of n){const n=yield e(o,t);if(n){if("function"!=typeof n)return setTimeout((()=>{for(const e of i)e(n)}),0),n;i.push(n)}}const a=e.response.parse(yield s(o,t));if(a.id!==r.request.id){const e="Request id does not match response id";throw console.error(e,{request:r.request,response:a}),new Error(e)}return setTimeout((()=>{for(const e of i)e(a)}),0),a}))}return{context:e=>({use:(n,s)=>t(e,n,s)}),use:(e,n)=>t(void 0,e,n)}}(e)}}e({},"RpcRouter",(function(){return lt}),(function(e){return lt=e}));i=o("cFUcx");var rt,ot=function(e,t,n,s){return new(n||(n=Promise))((function(r,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((s=s.apply(e,t||[])).next())}))},it=function(e,t,n,s,r){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?r.call(e,n):r?r.value=n:t.set(e,n),n},at=function(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)};class lt{init(e,t){const n=new AbortController,{signal:s}=n,r=(o=at(this,rt,"f").routes,new TransformStream({transform(e,t){return ot(this,void 0,void 0,(function*(){const n=o[e.request.method];if(!n){const n={jsonrpc:"2.0",id:e.request.id,error:{code:0,message:`${e.request.method} isn't implemented`}};return t.enqueue(n)}try{const s=yield n(e);return t.enqueue(s)}catch(n){console.error("RPC ROUTER: Unexpected error",n);const s={jsonrpc:"2.0",id:e.request.id,error:{code:i.RpcErrorCode.InternalError,message:"Unexpected error"}};return t.enqueue(s)}}))}}));var o;return{start:()=>ot(this,void 0,void 0,(function*(){if(s.aborted)console.warn("stream already closed");else try{yield e.pipeThrough(r,{signal:s}).pipeTo(t,{signal:s})}catch(e){s.aborted||console.error("RPC router stream error",e)}})),stop:e=>{n.abort(e)}}}constructor(e){rt.set(this,void 0),it(this,rt,e,"f")}}rt=new WeakMap;i=o("cFUcx");var ct={};e(ct,"result",(function(){return dt})),e(ct,"error",(function(){return ut})),e(ct,"any",(function(){return pt})),e(ct,"chainDisconnected",(function(){return ht})),e(ct,"invalidInput",(function(){return mt})),e(ct,"internalError",(function(){return gt})),e(ct,"methodNotFound",(function(){return ft})),e(ct,"resourceUnavailable",(function(){return yt})),e(ct,"transactionRejected",(function(){return xt})),e(ct,"unauthorized",(function(){return bt})),e(ct,"userRejectedRequest",(function(){return wt}));i=o("cFUcx");const dt=(e,t)=>({jsonrpc:"2.0",id:e,result:t}),ut=(e,t)=>({jsonrpc:"2.0",id:e,error:t}),pt=(e,t)=>Object.assign(Object.assign({},t),{jsonrpc:"2.0",id:e}),ht=(e,t)=>({id:e,jsonrpc:"2.0",error:{code:i.RpcErrorCode.ChainDisconnected,message:null!=t?t:"The Provider is not connected to the requested chain."}}),mt=(e,t)=>({id:e,jsonrpc:"2.0",error:{code:i.RpcErrorCode.InvalidInput,message:null!=t?t:"Missing or invalid parameters."}}),gt=(e,t)=>({id:e,jsonrpc:"2.0",error:{code:i.RpcErrorCode.InternalError,message:null!=t?t:"Something went wrong."}}),ft=(e,t)=>({id:e,jsonrpc:"2.0",error:{code:i.RpcErrorCode.MethodNotFound,message:null!=t?t:"Method does not exist."}}),yt=(e,t)=>({id:e,jsonrpc:"2.0",error:{code:i.RpcErrorCode.ResourceUnavailable,message:null!=t?t:"Requested resource not available."}}),xt=(e,t)=>({id:e,jsonrpc:"2.0",error:{code:i.RpcErrorCode.TransactionRejected,message:null!=t?t:"Transaction creation failed."}}),bt=(e,t)=>({id:e,jsonrpc:"2.0",error:{code:i.RpcErrorCode.Unauthorized,message:null!=t?t:"The requested method and/or account has not been authorized by the user."}}),wt=(e,t)=>({id:e,jsonrpc:"2.0",error:{code:i.RpcErrorCode.UserRejectedRequest,message:null!=t?t:"User rejected the request."}});m=o("7gANb");var Et=o("7dHjq"),vt=o("kAKNF"),Tt=(l=o("29o0l"),f=o("gkfw3"),o("5MNpG")),At=o("fxXaZ"),It=(je=o("i1NO2"),re=o("gX5Te"),x=o("1VwBG"),o("dXIE8")),kt=(R=o("hiI91"),w=o("27SDj"),K=o("aklgB"),{});e(kt,"usePostResponseWithAnalytics",(function(){return Bt}),(function(e){return Bt=e}));var Ct=o("h0VH5"),St=(p=o("iOvk1"),i=o("cFUcx"),a=o("csW2r"),l=o("29o0l"),o("twk6W")),Rt=function(e,t,n,s){return new(n||(n=Promise))((function(r,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((s=s.apply(e,t||[])).next())}))};const Bt=function(e,t){return(n,s)=>{const{networkID:r,sequenceId:o,origin:i}=s,a=(0,l.useRef)(!1);return(0,l.useCallback)((s=>Rt(this,void 0,void 0,(function*(){return p.Chains.isEVMNetworkID(r)&&!a.current&&("error"in s?yield t({networkID:r,sequenceId:o,origin:i}):yield e({networkID:r,sequenceId:o,origin:i}),a.current=!0),n(s)}))),[n,r,i,o])}}((function(e){return Rt(this,void 0,void 0,(function*(){try{const t=e.networkID.replace("eip155:",""),n=(0,i.getSupportedChainDescriptor)(e.networkID.replace("eip155:",""));if("eip155"!==(null==n?void 0:n.chainType))throw new Error(`Failed to capture transaction signature event analytics: Unsupported Ethereum Network ID "${t}"`);return yield Ct.dapp.userApprovedAction(St.analytics,e.sequenceId,Object.assign(Object.assign({},n),{origin:e.origin,method:"eth_sendTransaction"}))}catch(e){a.telemetry.addBreadcrumb("analytics","Could not log dapp user action (approve)",a.Severity.Error),e instanceof Error?a.telemetry.captureError(e,a.FeatureTag.Provider):a.telemetry.captureError(new Error("Non-Error instance thrown in captureUserApprove: "+typeof e),a.FeatureTag.Provider)}}))}),(function(e){return Rt(this,void 0,void 0,(function*(){try{const t=e.networkID.replace("eip155:",""),n=(0,i.getSupportedChainDescriptor)(t);if("eip155"!==(null==n?void 0:n.chainType))throw new Error(`Failed to capture transaction signature event analytics: Unsupported Ethereum Network ID "${t}"`);return yield Ct.dapp.userDeniedAction(St.analytics,e.sequenceId,Object.assign(Object.assign({},n),{origin:e.origin,method:"eth_sendTransaction"}))}catch(e){a.telemetry.addBreadcrumb("analytics","Could not log dapp user action (deny)",a.Severity.Error),e instanceof Error?a.telemetry.captureError(e,a.FeatureTag.Provider):a.telemetry.captureError(new Error("Non-Error instance thrown in captureUserDeny: "+typeof e),a.FeatureTag.Provider)}}))}));m=o("7gANb"),qe=o("lz5BI"),l=o("29o0l"),f=o("gkfw3");var Dt=o("gTwcH"),Lt=(je=o("i1NO2"),re=o("gX5Te"),o("gG2zL"));const Pt=t(Dt)((e=>({transactionSpeed:m.TransactionSpeed.standard,setTransactionSpeed:t=>e({transactionSpeed:t})}))),Ft="calc(100% - 15px)",Ot=(0,f.default)(qe.motion.div)`
  width: 100%;
  height: ${Ft};
  margin: 0;
  padding: 15px;
  background: #222;
  position: absolute;
`,Nt=(e,n)=>{const{status:s,data:r}=re.hooks.useTransactionSpeedsToUnitCost({networkID:e,enableFallback:!0}),o=Pt((e=>e.transactionSpeed)),i=Pt((e=>e.setTransactionSpeed)),{popDetailView:a,pushDetailView:c}=(0,je.useDetailViews)();let d;return"error"!==s&&r&&o&&n&&(d=()=>{c(t(l).createElement(Ot,null,t(l).createElement(Lt.TransactionSettings,{onSelectTransactionSpeed:i,selectedTransactionSpeed:o,networkID:e,transactionUnitAmount:n,closeModal:a,settingsContainerHeight:Ft})))}),{transactionSpeed:o,openGasSettings:d}};var Mt=function(e,t,n,s){return new(n||(n=Promise))((function(r,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((s=s.apply(e,t||[])).next())}))};const Ht=f.default.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
`,$t=f.default.div`
  padding-top: 3px;
`,Ut=(0,f.default)(x.CardBodyRow)`
  align-items: flex-start;
`,_t=f.default.div`
  display: flex;
  flex-direction: column;
  cursor: ${e=>e.onClick?"pointer":"inherit"};
`,qt=e=>{var n,s,r,o,i,a;const{origin:c,requestId:d,sequenceId:u,tabId:g}=e,f=(0,Et.useQueryClient)(),[y,b]=(0,l.useState)(!1),E=e.transaction,v=p.EVMNetworkID.parse(`eip155:${E.chainId?parseInt(E.chainId,16):void 0}`),{t:T}=(0,h.useTranslation)(),{txnsScanResult:A,humanReadableError:I,isBlockRecommended:k,simulationResults:C,simulationWarnings:S,error:B}=m.simulations.useScannedTransaction("useEthTransactionRequestProps/useSignatureRequestProps",{networkID:v,origin:c,userAccount:E.from,transactions:[E]}),D=!!B,L=k&&!y,P=null===(n=null==S?void 0:S[0])||void 0===n?void 0:n.message,F=(0,l.useCallback)((()=>{b(!0)}),[b]),O=(0,At.usePostOutgoingBackgroundResponse)(),N=(0,kt.usePostResponseWithAnalytics)(O,{networkID:v,sequenceId:u,origin:c}),{data:M}=re.hooks.useSelectedMultiChainAccount(),[H,$]=(0,l.useMemo)((()=>{var e;return[null!==(e=null==M?void 0:M.identifier)&&void 0!==e?e:"",(null==M?void 0:M.type)===Xe.AccountType.Ledger]}),[M]),U=(0,l.useCallback)((()=>{N({jsonrpc:"2.0",id:d,error:ct.userRejectedRequest(d).error})}),[d,N]),_=(0,l.useMemo)((()=>"string"==typeof E.gas?new(t(vt))(E.gas,16):void 0),[E.gas]),{transactionSpeed:q,openGasSettings:j}=Nt(v,_?{gasLimit:_}:void 0),{data:G,isLoading:z,hasFailed:W}=re.hooks.useEthereumGasEstimation({networkID:v,transactionSpeed:q,gasLimit:_}),{data:V,isFetched:Y,isSuccess:X}=re.hooks.useGasEstimationPrice(v,(null==G?void 0:G.maxFeePerGas)&&(null==G?void 0:G.maxPriorityFeePerGas)&&_?{networkID:v,gasLimit:_,maxFeePerGas:null==G?void 0:G.maxFeePerGas,maxPriorityFeePerGas:null==G?void 0:G.maxPriorityFeePerGas}:void 0),Q=W||Y&&!X,Z=(null==V?void 0:V.gasEstimationPriceUSD)?T("gasUpTo",{amount:null==V?void 0:V.gasEstimationPriceUSD}):void 0,ee=(0,m.getEthereumNetworkFeeUiAmount)(G),te=null!==(s=null!=Z?Z:ee)&&void 0!==s?s:"",ne=p.Chains.getNetworkName(v),se=(0,l.useMemo)((()=>G?{maxFeePerGas:`0x${G.maxFeePerGas.integerValue(t(vt).ROUND_CEIL).toString(16)}`,maxPriorityFeePerGas:`0x${G.maxPriorityFeePerGas.integerValue(t(vt).ROUND_CEIL).toString(16)}`}:{maxFeePerGas:"0x0",maxPriorityFeePerGas:"0x0"}),[G]),oe=q?T(m.ESTIMATED_EVM_CONFIRMATION_TIMES_ABBREV[v][q]):"",{pushDetailView:ie}=(0,je.useDetailViews)(),ae=(0,l.useCallback)((()=>Mt(void 0,void 0,void 0,(function*(){const t=(0,Tt.getVaultProxy)(),n=yield Mt(void 0,void 0,void 0,(function*(){return e.transaction.maxFeePerGas=se.maxFeePerGas,e.transaction.maxPriorityFeePerGas=se.maxPriorityFeePerGas,(0,Je.setLedgerTransportStateOverride)(f,Je.LEDGER_WAITING_FOR_APPROVAL_STATE),t.sign(H,{chainType:Qe.AddressType.EVM,signingType:"transaction",message:(0,m.serialize)(e.transaction)}).finally((()=>(0,Je.setLedgerTransportStateOverride)(f,Je.LEDGER_RECONNECTING_STATE)))}));let s;switch(n.status){case"success":s={jsonrpc:"2.0",id:d,result:Object.assign(Object.assign({type:"send"},se),{signature:n.signature})};break;case"error":s={jsonrpc:"2.0",id:d,error:ct.userRejectedRequest(d).error}}N(s)}))),[H,se,N,e.transaction,f,d]),le=(0,l.useCallback)((()=>{$?ie(t(l).createElement(K.LedgerWrapper,null,t(l).createElement(It.LedgerAction,{ledgerApp:Je.LedgerApp.EVM,ledgerAction:ae,cancel:U}))):N({jsonrpc:"2.0",id:d,result:Object.assign({type:"signAndSend"},se)})}),[$,ie,ae,U,N,d,se]),ce=(0,l.useMemo)((()=>(null==G?void 0:G.maxFeePerGas)&&(null==G?void 0:G.maxPriorityFeePerGas)&&_?{networkID:v,gasLimit:_,maxFeePerGas:null==G?void 0:G.maxFeePerGas,maxPriorityFeePerGas:null==G?void 0:G.maxPriorityFeePerGas}:void 0),[G,_,v]),{hasSufficientFunds:de,nativeTokenSymbol:ue,isLoading:pe,isError:he}=re.hooks.useHasSufficientFunds(v,Qe.AddressType.EVM,ce,new(t(vt))(null!==(r=E.value)&&void 0!==r?r:"0",16)),me=(0,l.useCallback)((()=>t(l).createElement(t(l).Fragment,null,t(l).createElement(x.CardBodyRow,null,t(l).createElement(w.Text,{size:14,lineHeight:17,textAlign:"left",color:"#ffffff",style:{gap:10}},T("notificationTransactionApprovalNetwork")),t(l).createElement(w.Text,{size:14,weight:400,lineHeight:17,whiteSpace:"normal",wordBreak:"break-word","data-testid":"networkName",color:"#999999"},t(l).createElement(t(l).Fragment,null,null!=ne?ne:""))),t(l).createElement(_t,{onClick:j},t(l).createElement(Ut,null,t(l).createElement(Ht,null,t(l).createElement(w.Text,{size:14,lineHeight:17,textAlign:"left",color:"#ffffff",style:{gap:10}},T("notificationTransactionApprovalNetworkFee")),"insufficient"===de&&t(l).createElement($t,null,t(l).createElement(w.Text,{size:13,lineHeight:17,textAlign:"left",color:"#EB3742",style:{gap:10}},T("transactionNotEnoughNative",{nativeTokenSymbol:ue})))),t(l).createElement(J,{showArrow:!!j},t(l).createElement(w.Text,{size:14,weight:400,lineHeight:17,whiteSpace:"normal",wordBreak:"break-word","data-testid":"transactionFee",color:"insufficient"===de?"#EB3742":"#999999"},t(l).createElement(t(l).Fragment,null,W||z?t(l).createElement(R.SkeletonLoader,{width:"75px",height:"8px",borderRadius:"8px",backgroundColor:"#484848"}):te))))),t(l).createElement(x.CardBodyRow,null,t(l).createElement(w.Text,{size:14,lineHeight:17,textAlign:"left",color:"#ffffff",style:{gap:10}},T("notificationTransactionApprovalEstimatedTime")),t(l).createElement(J,{showArrow:!1},t(l).createElement(w.Text,{size:14,weight:400,lineHeight:17,whiteSpace:"normal",wordBreak:"break-word","data-testid":"transactionFee",color:"#999999"},oe))))),[ne,te,j,T,de,ue,oe,W,z]);return{confirmApproval:le,denyApproval:U,hasSufficientFunds:de,nativeTokenSymbol:ue,origin:c,proceedToApproval:F,renderTransactionFee:me,simulationResults:C,simulationTooltipText:T("notificationTransactionApprovalEstimatesBasedOnSimulations"),simulationWarnings:S,tabId:g,expectedStateChanges:null===(a=null===(i=null===(o=A.data)||void 0===o?void 0:o.evaluation)||void 0===i?void 0:i.simulationResults.expectedStateChanges)||void 0===a?void 0:a[0],humanReadableError:I,isLoadingSimulation:A.isLoading&&!A.isRefetching,isLoadingNetworkFee:z&&!W,isLoadingNativeTokenBalance:pe,isMaliciousTransaction:L,warningMessage:P||void 0,isNativeTokenBalanceLoading:pe,isWarningIgnored:y,isErrorNativeTokenBalance:he,hasGasEstimationFailed:Q,hasSimulationFailed:D}};h=o("43063"),l=o("29o0l"),f=o("gkfw3"),_=o("91Dw6");var jt=o("6UMd8");v=o("j81qC"),S=o("5YM9i"),le=o("8oN8T"),w=o("27SDj");const Gt=f.default.section`
  background: #2a2a2a;
  border-radius: 6px;
  margin-bottom: 10px;
  contain: paint;
`,zt=f.default.div`
  padding: 12px 16px;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  gap: 8px;
  align-items: center;
  background: #2a2a2a;
  color: #999999;
`,Wt=f.default.div`
  padding-top: 0px;
  padding-bottom: 12px;
  padding-left: 18px;
  padding-right: 18px;
  border-top: 1px solid #222222;

  > * {
    margin-top: 12px;
  }
`,Vt=f.default.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
`,Kt=f.default.a.attrs({target:"_blank",rel:"noopener noreferrer"})`
  text-decoration: none;
  cursor: pointer;
`,Yt=({isParsedInstructionsLoading:e,parsedInstructions:n})=>t(l).createElement(le.LoadingContent,{isLoading:e},n.map((({title:e,rowItems:n},s)=>t(l).createElement(un,{key:`instruction-row-${s}`,title:e,rowItems:n})))),Xt=({text:e})=>t(l).createElement(cn,null,t(l).createElement("div",null,t(l).createElement(v.IconCheckmark,{fill:"#477559"})),t(l).createElement(w.Text,{size:14,weight:400,lineHeight:17,textAlign:"left"},e)),Jt=()=>{const{t:e}=(0,h.useTranslation)();return t(l).createElement(Gt,null,t(l).createElement(zt,null,t(l).createElement(w.Text,{color:"currentColor",textAlign:"left",size:14,weight:400,lineHeight:17},e("siwsPermissions"))),t(l).createElement(Wt,null,t(l).createElement(Xt,{text:e("notificationApplicationApprovalPermissionsAddressVerification")}),t(l).createElement(Xt,{text:e("notificationApplicationApprovalPermissionsViewWalletActivity")}),t(l).createElement(Xt,{text:e("notificationApplicationApprovalPermissionsTransactionApproval")})))},Qt=({statement:e})=>{const{t:n}=(0,h.useTranslation)(),[s,r]=(0,l.useState)(!1),[o,i]=(0,l.useState)(!1),a=(0,l.useCallback)((e=>{e&&i(e.scrollHeight>e.clientHeight)}),[i]),c=(0,l.useCallback)((e=>{r(!s),setTimeout((()=>{!s&&e.target.scrollIntoView({behavior:"smooth",block:"start"})}),1)}),[s]);return t(l).createElement(Gt,null,t(l).createElement(tn,{isSticky:o?s:void 0,onClick:o?c:void 0,isCollapsible:o},t(l).createElement(w.Text,{color:"currentColor",textAlign:"left",size:14,weight:400,lineHeight:17},n("siwsAgreement")),o&&t(l).createElement(ln,{isExpanded:s},t(l).createElement(v.IconChevronDown,{width:9.5,fill:"currentColor"}))),t(l).createElement(nn,{ref:a,isExpanded:s},t(l).createElement(Vt,null,t(l).createElement(w.Text,{size:14,lineHeight:17,wordBreak:"break-word",textAlign:"left",whiteSpace:"pre-line"},e)),t(l).createElement(sn,{opacity:o&&!s?1:0})))},Zt=({detailName:e,detailValue:n,errorObject:s})=>{const{t:r}=(0,h.useTranslation)(),o=void 0!==s;return t(l).createElement(rn,{style:{flexDirection:"column"}},t(l).createElement("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"}},t(l).createElement(an,{size:14,color:o&&e in s?_.ERROR_COLOR:"#999999",lineHeight:17,wordBreak:"break-word",textAlign:"left"},r(`siwsFieldLable_${e}`)),t(l).createElement(on,{size:14,lineHeight:17,wordBreak:"break-word",textAlign:"right",color:o&&e in s?_.ERROR_COLOR:"default",style:{width:"70%"}},"resources"===e?n.join("\n"):n)),o&&e in s&&t(l).createElement(w.Text,{size:12.5,style:{marginTop:8,textAlign:"left"}},r(s[e])))},en=({signInData:e,errorObject:n})=>{const{t:s}=(0,h.useTranslation)(),[r,o]=(0,l.useState)(!1),i=(0,l.useCallback)((e=>{o(!r),setTimeout((()=>{!r&&e.target.scrollIntoView({behavior:"smooth",block:"start"})}),1)}),[r]),a=void 0!==n,c=Object.entries(e).filter((([e,t])=>"statement"!==e)),d=r?c:c.filter((([e,t])=>n&&e in n));return t(l).createElement(Gt,null,t(l).createElement(tn,{isSticky:r,onClick:i,isCollapsible:!0},t(l).createElement(w.Text,{color:"currentColor",textAlign:"left",size:14,weight:400,lineHeight:17},s("siwsAdvancedDetails")),t(l).createElement("div",{style:{display:"flex",alignItems:"center",color:"currentColor"}},a&&t(l).createElement(w.Text,{color:_.ERROR_COLOR,textAlign:"right",size:14,weight:400,lineHeight:17,style:{marginRight:8}},s("siwsErrorNumIssues",{n:Object.keys(n).length})),t(l).createElement(ln,{isExpanded:r},t(l).createElement(v.IconChevronDown,{width:9.5,fill:"currentColor"})))),d.map((([e,s])=>t(l).createElement(Zt,{detailName:e,detailValue:s,errorObject:n}))))},tn=(0,f.default)(zt)`
  transition:
    box-shadow 0.2s ease,
    color 0.2s ease;
  scroll-margin-top: 10px;

  ${({isCollapsible:e})=>e&&"\n    cursor: pointer;\n    :hover {\n      color: #ffffff;\n    }\n  "}

  ${({isSticky:e})=>e&&"\n    box-shadow: 0px 81px 33px rgba(0, 0, 0, 0.02), 0px 46px 27px rgba(0, 0, 0, 0.08), 0px 20px 20px rgba(0, 0, 0, 0.13), 0px 5px 11px rgba(0, 0, 0, 0.15), 0px 0px 0px rgba(0, 0, 0, 0.15);\n    position: sticky;\n    top: 0;\n    z-index: 1000;\n  "}
`,nn=f.default.div`
  position: relative;
  min-height: ${({isExpanded:e})=>e?"200px":"auto"};
  max-height: ${({isExpanded:e})=>e?"none":"200px"};
  overflow: hidden;
  padding-top: 0px;
  padding-bottom: 12px;
  padding-left: 18px;
  padding-right: 18px;
  border-top: 1px solid #222222;

  > * {
    margin-top: 12px;
  }
`,sn=f.default.div`
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 70%;
  pointer-events: none;
  transition: opacity 0.2s ease;
  opacity: ${e=>{var t;return null!==(t=e.opacity)&&void 0!==t?t:1}};

  ::before {
    content: "";
    position: absolute;
    width: 100%;
    height: 100%;
    bottom: 0;
    background: linear-gradient(to bottom, rgba(42, 42, 42, 0), rgba(42, 42, 42, 1));
  }
`,rn=f.default.div`
  padding: 14px 16px;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: left;
  border-top: 1px solid #222222;
`,on=(0,f.default)(w.Text)`
  flex-shrink: 1;
`,an=(0,f.default)(w.Text)`
  flex-shrink: 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,ln=(0,f.default)(jt.Circle)`
  background-color: #2a2a2a;
  cursor: pointer;
  width: 24px;
  height: 24px;
  border-radius: 4px;
  color: currentColor;
  transition: background-color 0.2s ease;

  :hover {
    background-color: #333333;
  }

  svg {
    color: currentColor;
    position: relative;
    fill: currentColor;
    transition: transform 0.1s ease-in-out;
    transform: ${({isExpanded:e})=>e?"rotate(-180deg)":"none"};

    * {
      color: currentColor;
    }
  }
`,cn=f.default.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  padding: 0px;
  gap: 8px;
`,dn=({condition:e,wrapper:t,children:n})=>e?t(n):n,un=({title:e,rowItems:n})=>t(l).createElement(pn,{title:e,rowItems:n}),pn=({title:e,rowItems:n,emptyDescription:s,info:r})=>t(l).createElement(Gt,null,!!e&&t(l).createElement(zt,null,t(l).createElement(w.Text,{textAlign:"left",size:14,weight:500,lineHeight:17,color:"currentColor"},e),r&&t(l).createElement(S.Info,{info:r})),t(l).createElement(Wt,null,n.map((({keyText:e,valueText:n,valueColor:s,link:r},o)=>t(l).createElement(Vt,{key:`${n||e}-${o}`},e&&t(l).createElement(w.Text,{size:14,lineHeight:17,color:"#777777"},e),t(l).createElement(dn,{condition:r,wrapper:e=>t(l).createElement(Kt,{href:r},e)},t(l).createElement(w.Text,{size:14,weight:500,lineHeight:20,color:s,whiteSpace:e?"normal":"pre-line",wordBreak:"break-word",textAlign:"left"},n))))),0===n.length&&t(l).createElement(Vt,null,t(l).createElement(w.Text,{"data-testid":"instruction-row-empty-description",size:14,weight:400,lineHeight:17,whiteSpace:"normal",color:"#EB3742"},s))));l=o("29o0l"),g=o("Nt4tV"),f=o("gkfw3"),y=o("hFkH3"),q=o("aWXnn");var hn=o("3mrWC");w=o("27SDj"),K=o("aklgB");const mn="#eb3742",gn=f.default.div`
  border: 1px solid ${mn};
  border-radius: 8px;
  padding: 10px 10px;
  margin-bottom: 10px;
`,fn=(0,f.default)(w.Text)`
  margin: auto;
`,yn=t(l).memo((e=>t(l).createElement(K.Container,null,t(l).createElement(K.Body,null,t(l).createElement(K.TopGroup,null,t(l).createElement(hn.TabIconHeader,{tabId:e.tabId,secondaryText:(0,g.removeWebPrefixes)(e.origin),showWarning:!0})),t(l).createElement(q.Column,{justify:"center"},t(l).createElement(gn,null,t(l).createElement(w.Text,{size:14,color:mn},e.message)),t(l).createElement(fn,{size:14,color:"#777777",hoverColor:mn,onClick:e.proceedToApproval},e.ignoreWarningText))),t(l).createElement(K.Footer,{plain:!0},t(l).createElement(y.Button,{onClick:e.denyApproval},e.buttonText)))));h=o("43063"),i=o("cFUcx");var xn=o("RVqnc");l=o("29o0l"),f=o("gkfw3"),v=o("j81qC"),ie=o("bw7Ah"),w=o("27SDj");const bn=(f=o("gkfw3")).default.div`
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 12px;
`,wn=f.default.div`
  margin-left: 16px;
`,En=(0,f.default)(w.Text)`
  font-weight: 400;
  font-size: 14px;
  line-height: 17px;
  color: #999999;
  cursor: pointer;
`,vn=(0,f.default)(w.Text)`
  font-weight: 400;
  font-size: 14px;
  line-height: 17px;
  color: #ffdc62;
  cursor: pointer;
`,Tn=(0,f.default)(w.Text).attrs({size:14,weight:400,lineHeight:17,whiteSpace:"normal",wordBreak:"break-word",color:"#999999"})`
  cursor: pointer;
`,An=({origin:e,autoConfirmStatusCode:t,networkID:n})=>{const{t:s}=(0,h.useTranslation)(),{open:r,isActive:o,untilDate:a}=Ke(e,n),c=()=>null!=t&&t!=i.AutoConfirmStatusCode.Disabled&&t!=i.AutoConfirmStatusCode.OK?l.createElement(vn,null,l.createElement(ie.PTrans,{i18nKey:"autoConfirmUnavailable"})):o(n)&&a?l.createElement(En,null,"Until ",(0,xn.formatUntil)(a).toLowerCase()):l.createElement(Tn,{"data-testid":"networkName"},s("notificationAutoConfirmOff")),d=l.createElement(bn,null,c(),l.createElement(wn,null,l.createElement(v.IconChevronRight,null)));return{label:s("notificationAutoConfirm"),value:d,renderPlainValue:c,onClick:()=>{r(t)}}};var In=function(e,t,n,s){return new(n||(n=Promise))((function(r,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((s=s.apply(e,t||[])).next())}))};const kn=t(l).memo((e=>{var n,s,r;const o=(0,Ye.useEthTransactionRequestProps)(e),i=(0,l.useCallback)((()=>t(l).createElement(Yt,{parsedInstructions:[{title:"Raw Transaction Object",rowItems:[{valueText:JSON.stringify(e.transaction)}]}],isParsedInstructionsLoading:!1})),[e.transaction]),{t:a}=(0,h.useTranslation)(),{save:c,isAutoConfirmIsTouched:d,showAutoConfirmRow:u}=Ke(o.origin),f=An({origin:o.origin,networkID:e.transaction.chainId?(0,p.hexToCAIP2)(e.transaction.chainId):void 0,autoConfirmStatusCode:e.autoConfirmStatusCode}),y=[];if(u&&y.push(f),null!==(n=o.isMaliciousTransaction)&&void 0!==n&&n){const e=o.warningMessage||a("maliciousTransactionWarning");return t(l).createElement(yn,{tabId:o.tabId,origin:o.origin,message:e,ignoreWarningText:a("maliciousTransactionWarningIgnoreWarning"),buttonText:a("commandClose"),proceedToApproval:o.proceedToApproval,denyApproval:o.denyApproval})}const x=null===(s=o.expectedStateChanges)||void 0===s?void 0:s.rawInfo;return(null==x?void 0:x.kind)===m.simulations.StateChangeKind.Erc20Approval?t(l).createElement(_e,{chainId:parseInt(null!==(r=e.transaction.chainId)&&void 0!==r?r:"0x1",16),origin:(0,g.removeWebPrefixes)(e.origin),tabId:e.tabId,renderTransactionFee:o.renderTransactionFee,data:x.data,onConfirm:"insufficient"===o.hasSufficientFunds?void 0:o.confirmApproval,onCancel:o.denyApproval,loading:o.isLoadingSimulation||o.isLoadingNativeTokenBalance||o.isLoadingNetworkFee,rows:y}):t(l).createElement(te,{isLoadingSimulation:o.isLoadingSimulation,isLoadingNativeTokenBalance:o.isLoadingNativeTokenBalance,isLoadingNetworkFee:o.isLoadingNetworkFee,tabId:e.tabId,origin:e.origin,confirmApproval:()=>In(void 0,void 0,void 0,(function*(){d&&(yield c()),o.confirmApproval&&o.confirmApproval()})),denyApproval:o.denyApproval,renderTransactionFee:o.renderTransactionFee,simulationResults:o.simulationResults,simulationWarnings:o.simulationWarnings,simulationTooltipText:o.simulationTooltipText,renderAdvancedDetails:i,humanReadableError:o.humanReadableError,isErrorNativeTokenBalance:o.isErrorNativeTokenBalance,rows:y,hasGasEstimationFailed:o.hasGasEstimationFailed,hasSimulationFailed:o.hasSimulationFailed})}));var Cn={};e(Cn,"EthSignMessage",(function(){return ar}),(function(e){return ar=e}));Xe=o("4xbAj"),p=o("iOvk1");var Sn={},Rn=o("8tcqI").Buffer;Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.intToUnpaddedBuffer=Sn.bigIntToUnpaddedBuffer=Sn.bigIntToHex=Sn.bufArrToArr=Sn.arrToBufArr=Sn.validateNoLeadingZeroes=Sn.baToJSON=Sn.toUtf8=Sn.short=Sn.addHexPrefix=Sn.toUnsigned=Sn.fromSigned=Sn.bufferToInt=Sn.bigIntToBuffer=Sn.bufferToBigInt=Sn.bufferToHex=Sn.toBuffer=Sn.unpadHexString=Sn.unpadArray=Sn.unpadBuffer=Sn.setLengthRight=Sn.setLengthLeft=Sn.zeros=Sn.intToBuffer=Sn.intToHex=void 0;var Bn={},Dn=o("8tcqI").Buffer;Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.assertIsString=Bn.assertIsArray=Bn.assertIsBuffer=Bn.assertIsHexString=void 0;var Ln={},Pn=o("8tcqI").Buffer;function Fn(e){if("string"!=typeof e)throw new Error("[isHexPrefixed] input must be type 'string', received type "+typeof e);return"0"===e[0]&&"x"===e[1]}Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.isHexString=Ln.getKeys=Ln.fromAscii=Ln.fromUtf8=Ln.toAscii=Ln.arrayContainsArray=Ln.getBinarySize=Ln.padToEven=Ln.stripHexPrefix=Ln.isHexPrefixed=void 0,Ln.isHexPrefixed=Fn;function On(e){let t=e;if("string"!=typeof t)throw new Error("[padToEven] value must be type 'string', received "+typeof t);return t.length%2&&(t=`0${t}`),t}Ln.stripHexPrefix=e=>{if("string"!=typeof e)throw new Error("[stripHexPrefix] input must be type 'string', received "+typeof e);return Fn(e)?e.slice(2):e},Ln.padToEven=On,Ln.getBinarySize=function(e){if("string"!=typeof e)throw new Error("[getBinarySize] method requires input type 'string', received "+typeof e);return Pn.byteLength(e,"utf8")},Ln.arrayContainsArray=function(e,t,n){if(!0!==Array.isArray(e))throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof e}'`);if(!0!==Array.isArray(t))throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof t}'`);return t[!0===n?"some":"every"]((t=>e.indexOf(t)>=0))},Ln.toAscii=function(e){let t="",n=0;const s=e.length;for("0x"===e.substring(0,2)&&(n=2);n<s;n+=2){const s=parseInt(e.substr(n,2),16);t+=String.fromCharCode(s)}return t},Ln.fromUtf8=function(e){return`0x${On(Pn.from(e,"utf8").toString("hex")).replace(/^0+|0+$/g,"")}`},Ln.fromAscii=function(e){let t="";for(let n=0;n<e.length;n++){const s=e.charCodeAt(n).toString(16);t+=s.length<2?`0${s}`:s}return`0x${t}`},Ln.getKeys=function(e,t,n){if(!Array.isArray(e))throw new Error("[getKeys] method expects input 'params' to be an array, got "+typeof e);if("string"!=typeof t)throw new Error("[getKeys] method expects input 'key' to be type 'string', got "+typeof e);const s=[];for(let r=0;r<e.length;r++){let o=e[r][t];if(!0!==n||o){if("string"!=typeof o)throw new Error("invalid abi - expected type 'string', received "+typeof o)}else o="";s.push(o)}return s},Ln.isHexString=function(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&!(void 0!==t&&t>0&&e.length!==2+2*t)};Bn.assertIsHexString=function(e){if(!(0,Ln.isHexString)(e)){throw new Error(`This method only supports 0x-prefixed hex strings but input was: ${e}`)}};Bn.assertIsBuffer=function(e){if(!Dn.isBuffer(e)){throw new Error(`This method only supports Buffer but input was: ${e}`)}};Bn.assertIsArray=function(e){if(!Array.isArray(e)){throw new Error(`This method only supports number arrays but input was: ${e}`)}};Bn.assertIsString=function(e){if("string"!=typeof e){throw new Error(`This method only supports strings but input was: ${e}`)}};Sn.intToHex=function(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`};Sn.intToBuffer=function(e){const t=(0,Sn.intToHex)(e);return Rn.from((0,Ln.padToEven)(t.slice(2)),"hex")};Sn.zeros=function(e){return Rn.allocUnsafe(e).fill(0)};const Nn=function(e,t,n){const s=(0,Sn.zeros)(t);return n?e.length<t?(e.copy(s),s):e.slice(0,t):e.length<t?(e.copy(s,t-e.length),s):e.slice(-t)};Sn.setLengthLeft=function(e,t){return(0,Bn.assertIsBuffer)(e),Nn(e,t,!1)};Sn.setLengthRight=function(e,t){return(0,Bn.assertIsBuffer)(e),Nn(e,t,!0)};const Mn=function(e){let t=e[0];for(;e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e};Sn.unpadBuffer=function(e){return(0,Bn.assertIsBuffer)(e),Mn(e)};Sn.unpadArray=function(e){return(0,Bn.assertIsArray)(e),Mn(e)};Sn.unpadHexString=function(e){return(0,Bn.assertIsHexString)(e),e=(0,Ln.stripHexPrefix)(e),"0x"+Mn(e)};Sn.toBuffer=function(e){if(null==e)return Rn.allocUnsafe(0);if(Rn.isBuffer(e))return Rn.from(e);if(Array.isArray(e)||e instanceof Uint8Array)return Rn.from(e);if("string"==typeof e){if(!(0,Ln.isHexString)(e))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${e}`);return Rn.from((0,Ln.padToEven)((0,Ln.stripHexPrefix)(e)),"hex")}if("number"==typeof e)return(0,Sn.intToBuffer)(e);if("bigint"==typeof e){if(e<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${e}`);let t=e.toString(16);return t.length%2&&(t="0"+t),Rn.from(t,"hex")}if(e.toArray)return Rn.from(e.toArray());if(e.toBuffer)return Rn.from(e.toBuffer());throw new Error("invalid type")};function Hn(e){const t=(0,Sn.bufferToHex)(e);return"0x"===t?BigInt(0):BigInt(t)}function $n(e){return(0,Sn.toBuffer)("0x"+e.toString(16))}Sn.bufferToHex=function(e){return"0x"+(e=(0,Sn.toBuffer)(e)).toString("hex")},Sn.bufferToBigInt=Hn,Sn.bigIntToBuffer=$n;Sn.bufferToInt=function(e){const t=Number(Hn(e));if(!Number.isSafeInteger(t))throw new Error("Number exceeds 53 bits");return t};Sn.fromSigned=function(e){return BigInt.asIntN(256,Hn(e))};Sn.toUnsigned=function(e){return $n(BigInt.asUintN(256,e))};Sn.addHexPrefix=function(e){return"string"!=typeof e||(0,Ln.isHexPrefixed)(e)?e:"0x"+e},Sn.short=function(e,t=50){const n=Rn.isBuffer(e)?e.toString("hex"):e;return n.length<=t?n:n.slice(0,t)+""};Sn.toUtf8=function(e){if((e=(0,Ln.stripHexPrefix)(e)).length%2!=0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return Rn.from(e.replace(/^(00)+|(00)+$/g,""),"hex").toString("utf8")};Sn.baToJSON=function(e){if(Rn.isBuffer(e))return`0x${e.toString("hex")}`;if(e instanceof Array){const t=[];for(let n=0;n<e.length;n++)t.push((0,Sn.baToJSON)(e[n]));return t}};Sn.validateNoLeadingZeroes=function(e){for(const[t,n]of Object.entries(e))if(void 0!==n&&n.length>0&&0===n[0])throw new Error(`${t} cannot have leading zeroes, received: ${n.toString("hex")}`)},Sn.arrToBufArr=function e(t){return Array.isArray(t)?t.map((t=>e(t))):Rn.from(t)},Sn.bufArrToArr=function e(t){return Array.isArray(t)?t.map((t=>e(t))):Uint8Array.from(t??[])};Sn.bigIntToHex=e=>"0x"+e.toString(16),Sn.bigIntToUnpaddedBuffer=function(e){return(0,Sn.unpadBuffer)($n(e))},Sn.intToUnpaddedBuffer=function(e){return(0,Sn.unpadBuffer)((0,Sn.intToBuffer)(e))};var Un=o("8tcqI").Buffer;const _n=/^[0-9A-Fa-f]+$/gu;const qn=e=>"string"!=typeof e||e.match(/^-?0x/u)?e:e.match(/^-?0X/u)?e.replace("0X","0x"):e.startsWith("-")?e.replace("-","-0x"):`0x${e}`,jn=e=>{const t=Un.from(e.substring(2),"hex");let n;if("hex"===(32===t.length?"hex":"utf8"))n=function(e){try{const t=(0,Ln.stripHexPrefix)(e);if(t.match(_n))return qn(t)}catch(t){return(0,Sn.bufferToHex)(Un.from(e,"utf8"))}return(0,Sn.bufferToHex)(Un.from(e,"utf8"))}(e);else n=t.toString("utf8");return n};Je=o("eJxop"),Qe=o("7mQ3Y"),m=o("7gANb"),Et=o("7dHjq"),l=o("29o0l"),Tt=o("5MNpG"),At=o("fxXaZ"),je=o("i1NO2"),re=o("gX5Te"),St=o("twk6W"),It=o("dXIE8");var Gn={};e(Gn,"EthSendGaslessERC20ApprovalContainer",(function(){return Wn}),(function(e){return Wn=e}));p=o("iOvk1"),ne=o("5slFC"),h=o("43063"),m=o("7gANb"),vt=o("kAKNF"),l=o("29o0l"),re=o("gX5Te"),x=o("1VwBG"),w=o("27SDj"),ae=o("5bRlf");var zn=function(e,t,n,s){return new(n||(n=Promise))((function(r,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((s=s.apply(e,t||[])).next())}))};const Wn=({origin:e,tabId:n,onConfirm:s,onCancel:r,signatureDetails:o,scanFailed:i,scanIsLoading:a,scanWarnings:c,autoConfirmStatusCode:d})=>{const{t:u}=(0,h.useTranslation)(),{message:g,domain:f}=o.message,{save:y,isAutoConfirmIsTouched:b,showAutoConfirmRow:E}=Ke(e);let v,T,A,I=!1;switch(o.type){case m.ETH_SIGNATURE_TYPE.EIP2612:v=f.chainId,T=g.value?g.value:1,A=f.verifyingContract,I=!0===g.allowed;break;case m.ETH_SIGNATURE_TYPE.PERMIT2:v=f.chainId,T=g.details.amount,A=g.details.token;break;default:throw new Error("Unsupported signature type")}const k=An({origin:e,autoConfirmStatusCode:d,networkID:p.EVMNetworkID.parse(`eip155:${v}`)}),{fungibles:C,isLoadingTokens:S}=re.hooks.useFungibles({keys:[A]}),{tokenSymbol:R,approvalAmount:B,isLoading:D,supplyDollarValue:L,tokenAddressExplorerUrl:P,fullSupply:F}=(0,ne.useApprovalDetails)({chainId:v,tokenAddress:A,amount:new(t(vt))(T),fungibles:C,fungibleLoading:S,forceFullSupply:I});return l.createElement(he,{rows:E?[k]:[],amount:B,tabId:n,origin:e,onCancel:r,onConfirm:()=>zn(void 0,void 0,void 0,(function*(){b&&(yield y()),s&&s()})),fullSupply:F,supplyDollarValue:L,tokenAddress:A,tokenSymbol:(null!=R?R:f.name).toUpperCase(),tokenAddressExplorerUrl:P,loading:S||a||D,scanFailed:i,renderScanWarnings:c&&Array.isArray(c)?()=>l.createElement(l.Fragment,null,c.slice(0,1).map(((e,t)=>l.createElement(ae.ApprovalWarningDiv,{key:t,isCritical:e.severity===m.simulations.Severity.Critical},l.createElement(ae.ApprovalWarningText,{size:14,weight:400,lineHeight:19,isCritical:e.severity===m.simulations.Severity.Critical},e.message))))):void 0,renderTransactionFee:()=>{var e;return l.createElement(l.Fragment,null,l.createElement(x.CardBodyRow,null,l.createElement(w.Text,{size:14,lineHeight:17,textAlign:"left",color:"#ffffff",style:{gap:10}},u("notificationTransactionApprovalNetwork")),l.createElement(w.Text,{size:14,weight:400,lineHeight:17,whiteSpace:"normal",wordBreak:"break-word","data-testid":"networkName",color:"#999999"},l.createElement(l.Fragment,null,null!==(e=p.Chains.getNetworkName(`eip155:${f.chainId}`))&&void 0!==e?e:""))),l.createElement(x.CardBodyRow,null,l.createElement(w.Text,{size:14,lineHeight:17,textAlign:"left",color:"#ffffff",style:{gap:10}},u("notificationTransactionApprovalNetworkFee")),l.createElement(w.Text,{size:14,weight:400,lineHeight:17,whiteSpace:"normal",wordBreak:"break-word","data-testid":"networkName",color:"#999999"},"Free")))}})};m=o("7gANb"),l=o("29o0l"),m=o("7gANb"),p=o("iOvk1"),l=o("29o0l"),re=o("gX5Te");const Vn=e=>{var t,n,s,r,o,i,a,c,d;const{data:u}=re.hooks.useSelectedMultiChainAccount(),h=null!==(i=(0,p.hexToCAIP2)(parseInt(null!==(r=null===(s=null===(n=null===(t=e.json)||void 0===t?void 0:t.domain)||void 0===n?void 0:n.chainId)||void 0===s?void 0:s.toString())&&void 0!==r?r:null===(o=null==u?void 0:u.addresses)||void 0===o?void 0:o[0].networkID,10).toString(16)))&&void 0!==i?i:null,m=null!==(d=null===(c=(null!==(a=null==u?void 0:u.addresses)&&void 0!==a?a:[]).find((e=>e.networkID===h)))||void 0===c?void 0:c.address)&&void 0!==d?d:"";return l.useMemo((()=>({networkID:h,userAccount:m})),[h,m])},Kn=({message:e,origin:t})=>{var n;const s=(0,m.getEthSignatureDetails)(e),{message:r}=s,{userAccount:o,networkID:i}=Vn({json:r}),{domain:a}=r,l=s.v===m.ETH_SIGNATURE_VERSION.V_UNKNOWN;let c;l||(c=null!==(n=null==a?void 0:a.verifyingContract)&&void 0!==n?n:void 0);const{simulationResults:d,warnings:u,isLoading:p,error:h}=m.simulations.useFetchScannedMessage({parsedMessage:s.message,origin:t,userAccount:o,networkID:i,skip:l});return{simulationResults:d,warnings:u,isLoading:p,error:h,contractAddress:c}};St=o("twk6W"),h=o("43063"),l=o("29o0l"),g=o("Nt4tV"),f=o("gkfw3"),_=o("91Dw6"),y=o("hFkH3"),v=o("j81qC"),w=o("27SDj"),E=o("cleOt"),K=o("aklgB");const Yn=(0,f.default)(w.Text).attrs({size:14,weight:400,lineHeight:17,textAlign:"left"})`
  margin-top: 16px;
  margin-bottom: 8px;
`,Xn=(0,f.default)(w.Text).attrs({size:14,weight:400,lineHeight:17,textAlign:"left"})`
  margin-top: 8px;
  margin-bottom: 24px;
`,Jn=(0,f.default)(w.Text).attrs({size:14,weight:400,lineHeight:17,textAlign:"left"})``,Qn=f.default.div`
  display: flex;
  flex: 1;
  justify-content: center;
`,Zn=(0,f.default)(K.Body)`
  display: flex;
  flex-wrap: wrap;
  align-content: space-between;
  padding: 16px 16px;
`,es=(0,f.default)(w.Text).attrs({size:28,weight:600,lineHeight:32,textAlign:"left"})`
  margin-top: 8px;
`,ts=f.default.div`
  color: ${_.DANGER_COLOR};
  font-size: 13px;
  font-family: Inter;
  font-weight: 500;
  margin-top: 6px;
  line-height: 16px;
`,ns=({origin:e,onConfirm:n,onClose:s})=>{const{t:r}=(0,h.useTranslation)();return t(l).createElement(K.Container,{"data-testid":"blocklist-connect-request"},t(l).createElement(E.MultichainAccountHeader,null),t(l).createElement(Zn,null,t(l).createElement("div",null,t(l).createElement(v.IconShieldStop,{width:40,height:40}),t(l).createElement(es,null,r("maliciousRequestBlockedTitle")),t(l).createElement(ts,null,(0,g.removeWebPrefixes)(e)),t(l).createElement(Yn,{color:"#FFFFFF"},r("maliciousRequestWarning")),t(l).createElement(Xn,{color:"#999999"},r("maliciousRequestBlocked"))),t(l).createElement(Qn,null,t(l).createElement(Jn,{hoverColor:_.DANGER_COLOR,onClick:n,color:"#999999"},r("blocklistProceedAnyway")))),t(l).createElement(K.Footer,{plain:!0},t(l).createElement(y.Button,{onClick:s},r("commandClose"))))},ss=t(l).memo((({message:e,origin:n,onClose:s,Component:r})=>{const{simulationResults:o,warnings:i,error:a,isLoading:c,contractAddress:d}=Kn({message:e,origin:n}),[u,p]=(0,l.useState)(!1),h=!u&&(null==i?void 0:i.some((e=>e.severity===m.simulations.Severity.Critical)));(0,l.useEffect)((()=>{h&&St.analytics.capture("messageSubmissionTransactionBlocked",{data:{origin:n}})}),[h]);const g=(0,l.useCallback)((()=>{p(!0),St.analytics.capture("messageSubmissionTransactionBlockedAndIgnored",{data:{origin:n}})}),[n]),f=(0,l.useCallback)((()=>{s(),St.analytics.capture("messageSubmissionTransactionBlockedAndClosed",{data:{origin:n}})}),[n,s]);if(h)return t(l).createElement(ns,{origin:n,onConfirm:g,onClose:f});return(0,l.cloneElement)(r,{simulationResults:o,scanWarnings:i,scanIsLoading:c,scanFailed:!!a,contractAddress:d})}));l=o("29o0l");var rs={};e(rs,"EthSignTypedData",(function(){return zs}),(function(e){return zs=e}));h=o("43063"),m=o("7gANb"),l=o("29o0l"),g=o("Nt4tV"),f=o("gkfw3"),y=o("hFkH3"),le=o("8oN8T"),w=o("27SDj"),E=o("cleOt"),m=o("7gANb"),l=o("29o0l"),f=o("gkfw3"),C=o("qppYH"),xn=o("RVqnc"),l=o("29o0l"),o("3YDVy"),f=o("gkfw3"),v=o("j81qC"),w=o("27SDj");(0,f.default)(w.Text).attrs({weight:400,color:"#FFFFFF",textShadow:"0px 5px 5px rgba(0, 0, 0, 0.15)"})``,f.default.img`
  background-color: #000;
  border-radius: ${e=>e.borderRadius};
  mask: ${e=>e.mask};
  vertical-align: middle;
  width: 100%;
  height: 100%;
  opacity: ${e=>e.opacity?e.opacity:1};
`,f.default.div`
  width: ${e=>e.size}px;
  height: ${e=>e.size}px;
  border-radius: ${e=>{var t;return null!==(t=e.borderRadius)&&void 0!==t?t:""}};
  overflow: hidden;
`;const os=({size:e})=>t(l).createElement(v.IconSVGContainer,{size:e},t(l).createElement(v.Shape,{shape:"circle",color:(0,xn.hexToRGB)("#21E56F",.1)},t(l).createElement(v.IconCheckmark,{width:"40%",height:"50%",fill:"#21E56F"})));w=o("27SDj");const is=f.default.div`
  background: #2a2a2a;
  border-radius: 12px;
  display: flex;
  flex-direction: column;
`,as=f.default.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px;
`,ls=f.default.div`
  width: ${e=>e.size}px;
  height: ${e=>e.size}px;
  overflow: hidden;
  flex: none;
`,cs=f.default.div`
  flex: 2;
  display: flex;
  align-items: center;
`,ds=f.default.div`
  flex-shrink: 1;
`,us=f.default.div`
  border-bottom: 1px solid #222222;
  border-bottom-width: 1px;
  margin: 0 -16px;
`,ps=({rows:e})=>t(l).createElement(is,null,t(l).createElement("div",null,e.map((({valueText:n,valueColor:s,image:r,balanceChange:o},i)=>t(l).createElement(t(l).Fragment,null,t(l).createElement(hs,{key:n,valueText:n,valueColor:s,image:r,balanceChange:o}),i!==e.length-1&&e.length>1&&t(l).createElement(us,null)))))),hs=({valueText:e,valueColor:n,image:s,balanceChange:r})=>t(l).createElement(as,{key:e},t(l).createElement(cs,null,s?t(l).createElement(ls,{size:24},t(l).createElement(C.EcosystemImage,{image:{type:s.type,src:s.url},size:24})):t(l).createElement(ls,{size:24},t(l).createElement(os,{size:24})),t(l).createElement(w.Text,{size:14,weight:500,lineHeight:20,whiteSpace:"pre-line",wordBreak:"break-word",textAlign:"left",color:m.simulations.StateChangeColor.White,margin:"0 0 0 8px"},e)),t(l).createElement(ds,null,t(l).createElement(w.Text,{size:14,weight:500,lineHeight:20,whiteSpace:"pre-line",wordBreak:"break-word",color:n,textAlign:"right"},r)));K=o("aklgB"),h=o("43063"),l=o("29o0l"),g=o("Nt4tV");!function e(t,n,s){function r(i,a){if(!n[i]){if(!t[i]){var l=void 0;if(!a&&l)return l(i,!0);if(o)return o(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[i]={exports:{}};t[i][0].call(d.exports,(function(e){return r(t[i][1][e]||e)}),d,d.exports,e,t,n,s)}return n[i].exports}for(var o=void 0,i=0;i<s.length;i++)r(s[i]);return r}({1:[function(e,t,n){"use strict";n.byteLength=function(e){var t=c(e),n=t[0],s=t[1];return 3*(n+s)/4-s},n.toByteArray=function(e){var t,n,s=c(e),i=s[0],a=s[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,i,a)),d=0,u=a>0?i-4:i;for(n=0;n<u;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[d++]=t>>16&255,l[d++]=t>>8&255,l[d++]=255&t;return 2===a&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[d++]=255&t),1===a&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[d++]=t>>8&255,l[d++]=255&t),l},n.fromByteArray=function(e){for(var t,n=e.length,r=n%3,o=[],i=16383,a=0,l=n-r;a<l;a+=i)o.push(d(e,a,a+i>l?l:a+i));return 1===r?(t=e[n-1],o.push(s[t>>2]+s[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(s[t>>10]+s[t>>4&63]+s[t<<2&63]+"=")),o.join("")};for(var s=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=i.length;a<l;++a)s[a]=i[a],r[i.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function d(e,t,n){for(var r,o,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),i.push(s[(o=r)>>18&63]+s[o>>12&63]+s[o>>6&63]+s[63&o]);return i.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},{}],2:[function(e,t,n){(function(t){(function(){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
"use strict";var t=e("base64-js"),s=e("ieee754");n.Buffer=i,n.SlowBuffer=function(e){return+e!=e&&(e=0),i.alloc(+e)},n.INSPECT_MAX_BYTES=50;var r=2147483647;function o(e){if(e>r)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=i.prototype,t}function i(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return a(e,t,n)}function a(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!i.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|p(e,t),s=o(n),r=s.write(e,t);return r!==n&&(s=s.slice(0,r)),s}(e,t);if(ArrayBuffer.isView(e))return d(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(U(e,ArrayBuffer)||e&&U(e.buffer,ArrayBuffer))return function(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var s;return(s=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n)).__proto__=i.prototype,s}(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var s=e.valueOf&&e.valueOf();if(null!=s&&s!==e)return i.from(s,t,n);var r=function(e){if(i.isBuffer(e)){var t=0|u(e.length),n=o(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||_(e.length)?o(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(r)return r;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return i.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return l(e),o(e<0?0:0|u(e))}function d(e){for(var t=e.length<0?0:0|u(e.length),n=o(t),s=0;s<t;s+=1)n[s]=255&e[s];return n}function u(e){if(e>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|e}function p(e,t){if(i.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||U(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,s=arguments.length>2&&!0===arguments[2];if(!s&&0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return M(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(e).length;default:if(r)return s?-1:M(e).length;t=(""+t).toLowerCase(),r=!0}}function h(e,t,n){var s=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return S(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return C(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(s)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),s=!0}}function m(e,t,n){var s=e[t];e[t]=e[n],e[n]=s}function g(e,t,n,s,r){if(0===e.length)return-1;if("string"==typeof n?(s=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),_(n=+n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=i.from(t,s)),i.isBuffer(t))return 0===t.length?-1:f(e,t,n,s,r);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):f(e,[t],n,s,r);throw new TypeError("val must be string, number or Buffer")}function f(e,t,n,s,r){var o,i=1,a=e.length,l=t.length;if(void 0!==s&&("ucs2"===(s=String(s).toLowerCase())||"ucs-2"===s||"utf16le"===s||"utf-16le"===s)){if(e.length<2||t.length<2)return-1;i=2,a/=2,l/=2,n/=2}function c(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(r){var d=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===d?0:o-d)){if(-1===d&&(d=o),o-d+1===l)return d*i}else-1!==d&&(o-=o-d),d=-1}else for(n+l>a&&(n=a-l),o=n;o>=0;o--){for(var u=!0,p=0;p<l;p++)if(c(e,o+p)!==c(t,p)){u=!1;break}if(u)return o}return-1}function y(e,t,n,s){n=Number(n)||0;var r=e.length-n;s?(s=Number(s))>r&&(s=r):s=r;var o=t.length;s>o/2&&(s=o/2);for(var i=0;i<s;++i){var a=parseInt(t.substr(2*i,2),16);if(_(a))return i;e[n+i]=a}return i}function x(e,t,n,s){return $(M(t,e.length-n),e,n,s)}function b(e,t,n,s){return $(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,s)}function w(e,t,n,s){return b(e,t,n,s)}function E(e,t,n,s){return $(H(t),e,n,s)}function v(e,t,n,s){return $(function(e,t){for(var n,s,r,o=[],i=0;i<e.length&&!((t-=2)<0);++i)s=(n=e.charCodeAt(i))>>8,r=n%256,o.push(r),o.push(s);return o}(t,e.length-n),e,n,s)}function T(e,n,s){return 0===n&&s===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(n,s))}function A(e,t,n){n=Math.min(e.length,n);for(var s=[],r=t;r<n;){var o,i,a,l,c=e[r],d=null,u=c>239?4:c>223?3:c>191?2:1;if(r+u<=n)switch(u){case 1:c<128&&(d=c);break;case 2:128==(192&(o=e[r+1]))&&(l=(31&c)<<6|63&o)>127&&(d=l);break;case 3:o=e[r+1],i=e[r+2],128==(192&o)&&128==(192&i)&&(l=(15&c)<<12|(63&o)<<6|63&i)>2047&&(l<55296||l>57343)&&(d=l);break;case 4:o=e[r+1],i=e[r+2],a=e[r+3],128==(192&o)&&128==(192&i)&&128==(192&a)&&(l=(15&c)<<18|(63&o)<<12|(63&i)<<6|63&a)>65535&&l<1114112&&(d=l)}null===d?(d=65533,u=1):d>65535&&(d-=65536,s.push(d>>>10&1023|55296),d=56320|1023&d),s.push(d),r+=u}return function(e){var t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);for(var n="",s=0;s<t;)n+=String.fromCharCode.apply(String,e.slice(s,s+=I));return n}(s)}n.kMaxLength=r,i.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}(),i.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),i.poolSize=8192,i.from=function(e,t,n){return a(e,t,n)},i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,i.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?o(e):void 0!==t?"string"==typeof n?o(e).fill(t,n):o(e).fill(t):o(e)}(e,t,n)},i.allocUnsafe=function(e){return c(e)},i.allocUnsafeSlow=function(e){return c(e)},i.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==i.prototype},i.compare=function(e,t){if(U(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),U(t,Uint8Array)&&(t=i.from(t,t.offset,t.byteLength)),!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,s=t.length,r=0,o=Math.min(n,s);r<o;++r)if(e[r]!==t[r]){n=e[r],s=t[r];break}return n<s?-1:s<n?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var s=i.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var o=e[n];if(U(o,Uint8Array)&&(o=i.from(o)),!i.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(s,r),r+=o.length}return s},i.byteLength=p,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},i.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):h.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},i.prototype.compare=function(e,t,n,s,r){if(U(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),!i.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===s&&(s=0),void 0===r&&(r=this.length),t<0||n>e.length||s<0||r>this.length)throw new RangeError("out of range index");if(s>=r&&t>=n)return 0;if(s>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(r>>>=0)-(s>>>=0),a=(n>>>=0)-(t>>>=0),l=Math.min(o,a),c=this.slice(s,r),d=e.slice(t,n),u=0;u<l;++u)if(c[u]!==d[u]){o=c[u],a=d[u];break}return o<a?-1:a<o?1:0},i.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},i.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},i.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},i.prototype.write=function(e,t,n,s){if(void 0===t)s="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)s=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===s&&(s="utf8")):(s=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");s||(s="utf8");for(var o=!1;;)switch(s){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+s);s=(""+s).toLowerCase(),o=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function k(e,t,n){var s="";n=Math.min(e.length,n);for(var r=t;r<n;++r)s+=String.fromCharCode(127&e[r]);return s}function C(e,t,n){var s="";n=Math.min(e.length,n);for(var r=t;r<n;++r)s+=String.fromCharCode(e[r]);return s}function S(e,t,n){var s=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>s)&&(n=s);for(var r="",o=t;o<n;++o)r+=N(e[o]);return r}function R(e,t,n){for(var s=e.slice(t,n),r="",o=0;o<s.length;o+=2)r+=String.fromCharCode(s[o]+256*s[o+1]);return r}function B(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,s,r,o){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(n+s>e.length)throw new RangeError("Index out of range")}function L(e,t,n,s,r,o){if(n+s>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(e,t,n,r,o){return t=+t,n>>>=0,o||L(e,0,n,4),s.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,o){return t=+t,n>>>=0,o||L(e,0,n,8),s.write(e,t,n,r,52,8),n+8}i.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var s=this.subarray(e,t);return s.__proto__=i.prototype,s},i.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);for(var s=this[e],r=1,o=0;++o<t&&(r*=256);)s+=this[e+o]*r;return s},i.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);for(var s=this[e+--t],r=1;t>0&&(r*=256);)s+=this[e+--t]*r;return s},i.prototype.readUInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);for(var s=this[e],r=1,o=0;++o<t&&(r*=256);)s+=this[e+o]*r;return s>=(r*=128)&&(s-=Math.pow(2,8*t)),s},i.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);for(var s=t,r=1,o=this[e+--s];s>0&&(r*=256);)o+=this[e+--s]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},i.prototype.readInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){e>>>=0,t||B(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){e>>>=0,t||B(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return e>>>=0,t||B(e,4,this.length),s.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return e>>>=0,t||B(e,4,this.length),s.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return e>>>=0,t||B(e,8,this.length),s.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return e>>>=0,t||B(e,8,this.length),s.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,n,s){e=+e,t>>>=0,n>>>=0,s||D(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},i.prototype.writeUIntBE=function(e,t,n,s){e=+e,t>>>=0,n>>>=0,s||D(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},i.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,1,255,0),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeIntLE=function(e,t,n,s){if(e=+e,t>>>=0,!s){var r=Math.pow(2,8*n-1);D(this,e,t,n,r-1,-r)}var o=0,i=1,a=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},i.prototype.writeIntBE=function(e,t,n,s){if(e=+e,t>>>=0,!s){var r=Math.pow(2,8*n-1);D(this,e,t,n,r-1,-r)}var o=n-1,i=1,a=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeFloatLE=function(e,t,n){return P(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return P(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,s){if(!i.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),s||0===s||(s=this.length),t>=e.length&&(t=e.length),t||(t=0),s>0&&s<n&&(s=n),s===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),e.length-t<s-n&&(s=e.length-t+n);var r=s-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,s);else if(this===e&&n<t&&t<s)for(var o=r-1;o>=0;--o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,s),t);return r},i.prototype.fill=function(e,t,n,s){if("string"==typeof e){if("string"==typeof t?(s=t,t=0,n=this.length):"string"==typeof n&&(s=n,n=this.length),void 0!==s&&"string"!=typeof s)throw new TypeError("encoding must be a string");if("string"==typeof s&&!i.isEncoding(s))throw new TypeError("Unknown encoding: "+s);if(1===e.length){var r=e.charCodeAt(0);("utf8"===s&&r<128||"latin1"===s)&&(e=r)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=i.isBuffer(e)?e:i.from(e,s),l=a.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=a[o%l]}return this};var O=/[^+/0-9A-Za-z-_]/g;function N(e){return e<16?"0"+e.toString(16):e.toString(16)}function M(e,t){var n;t=t||1/0;for(var s=e.length,r=null,o=[],i=0;i<s;++i){if((n=e.charCodeAt(i))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(i+1===s){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(O,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function $(e,t,n,s){for(var r=0;r<s&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}function U(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function _(e){return e!=e}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":1,buffer:2,ieee754:3}],3:[function(e,t,n){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */n.read=function(e,t,n,s,r){var o,i,a=8*r-s-1,l=(1<<a)-1,c=l>>1,d=-7,u=n?r-1:0,p=n?-1:1,h=e[t+u];for(u+=p,o=h&(1<<-d)-1,h>>=-d,d+=a;d>0;o=256*o+e[t+u],u+=p,d-=8);for(i=o&(1<<-d)-1,o>>=-d,d+=s;d>0;i=256*i+e[t+u],u+=p,d-=8);if(0===o)o=1-c;else{if(o===l)return i?NaN:1/0*(h?-1:1);i+=Math.pow(2,s),o-=c}return(h?-1:1)*i*Math.pow(2,o-s)},n.write=function(e,t,n,s,r,o){var i,a,l,c=8*o-r-1,d=(1<<c)-1,u=d>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=s?0:o-1,m=s?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,i=d):(i=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-i))<1&&(i--,l*=2),(t+=i+u>=1?p/l:p*Math.pow(2,1-u))*l>=2&&(i++,l/=2),i+u>=d?(a=0,i=d):i+u>=1?(a=(t*l-1)*Math.pow(2,r),i+=u):(a=t*Math.pow(2,u-1)*Math.pow(2,r),i=0));r>=8;e[n+h]=255&a,h+=m,a/=256,r-=8);for(i=i<<r|a,c+=r;c>0;e[n+h]=255&i,h+=m,i/=256,c-=8);e[n+h-m]|=128*g}},{}],4:[function(e,t,n){(function(t){(function(){const s=this,r=e("./transformers"),o="UTF8",i="UTF16",a="UTF16BE",l="UTF16LE",c="UTF32",d="UTF32BE",u="UTF32LE",p="UINT7",h="ASCII",m="BINARY",g="UINT8",f="UINT16",y="UINT16LE",x="UINT16BE",b="UINT32",w="UINT32LE",E="UINT32BE",v="ESCAPED",T="STRING",A=function(e,n){if("string"!=typeof e||""===e)throw new TypeError(`type: "${e}" not recognized`);const s=function(e){const t={type:"",base64:!1},n=/^(base64:)?([a-zA-Z0-9]+)$/i.exec(e);return n&&(n[2]&&(t.type=n[2].toUpperCase()),n[1]&&(t.base64=!0)),t}(e.toUpperCase());if(s.base64){if(s.type===T)throw new TypeError(`type: "${e} "BASE64:" prefix not allowed with type STRING`);if(t.isBuffer(n))s.data=r.base64.decode(n);else{if("string"!=typeof n)throw new TypeError(`type: "${e} unrecognized data type: typeof(data): ${typeof n}`);{const e=t.from(n,"ascii");s.data=r.base64.decode(e)}}}else s.data=n;switch(s.type){case o:!function(e){e.type=o;const t=e.data;e.bom=0,t.length>=3&&239===t[0]&&187===t[1]&&191===t[2]&&(e.bom=3)}(s);break;case i:case a:case l:!function(e){const t=e.data;switch(e.bom=0,e.type){case i:e.type=a,t.length>=2&&(254===t[0]&&255===t[1]?e.bom=2:255===t[0]&&254===t[1]&&(e.type=l,e.bom=2));break;case a:if(e.type=a,t.length>=2)if(254===t[0]&&255===t[1])e.bom=2;else if(255===t[0]&&254===t[1])throw new TypeError('src type: "UTF16BE" specified but BOM is for "UTF16LE"');break;case l:if(e.type=l,t.length>=0){if(254===t[0]&&255===t[1])throw new TypeError('src type: "UTF16LE" specified but BOM is for "UTF16BE"');255===t[0]&&254===t[1]&&(e.bom=2)}break;default:throw new TypeError(`UTF16 BOM: src type "${e.type}" unrecognized`)}}(s);break;case c:case d:case u:!function(e){const t=e.data;switch(e.bom=0,e.type){case c:e.type=d,t.length>=4&&(0===t[0]&&0===t[1]&&254===t[2]&&255===t[3]&&(e.bom=4),255===t[0]&&254===t[1]&&0===t[2]&&0===t[3]&&(e.type=u,e.bom=4));break;case d:if(e.type=d,t.length>=4&&(0===t[0]&&0===t[1]&&254===t[2]&&255===t[3]&&(e.bom=4),255===t[0]&&254===t[1]&&0===t[2]&&0===t[3]))throw new TypeError('src type: UTF32BE specified but BOM is for UTF32LE"');break;case u:if(e.type=u,t.length>=4){if(0===t[0]&&0===t[1]&&254===t[2]&&255===t[3])throw new TypeError('src type: "UTF32LE" specified but BOM is for "UTF32BE"');255===t[0]&&254===t[1]&&0===t[2]&&0===t[3]&&(e.bom=4)}break;default:throw new TypeError(`UTF32 BOM: src type "${e.type}" unrecognized`)}}(s);break;case f:s.type=x;break;case b:s.type=E;break;case h:s.type=p;break;case m:s.type=g;break;case p:case g:case y:case x:case w:case E:case T:case v:break;default:throw new TypeError(`type: "${e}" not recognized`)}if(s.type===T){if("string"!=typeof s.data)throw new TypeError(`type: "${e}" but data is not a string`)}else if(!t.isBuffer(s.data))throw new TypeError(`type: "${e}" but data is not a Buffer`);return s},I=function(e,t){switch(e){case o:return r.utf8.encode(t);case a:return r.utf16be.encode(t);case l:return r.utf16le.encode(t);case d:return r.utf32be.encode(t);case u:return r.utf32le.encode(t);case p:return r.uint7.encode(t);case g:return r.uint8.encode(t);case x:return r.uint16be.encode(t);case y:return r.uint16le.encode(t);case E:return r.uint32be.encode(t);case w:return r.uint32le.encode(t);case T:return r.string.encode(t);case v:return r.escaped.encode(t);default:throw new TypeError(`encode type "${e}" not recognized`)}};n.decode=function(e,t){return function(e){switch(e.type){case o:return r.utf8.decode(e.data,e.bom);case l:return r.utf16le.decode(e.data,e.bom);case a:return r.utf16be.decode(e.data,e.bom);case d:return r.utf32be.decode(e.data,e.bom);case u:return r.utf32le.decode(e.data,e.bom);case p:return r.uint7.decode(e.data);case g:return r.uint8.decode(e.data);case x:return r.uint16be.decode(e.data);case y:return r.uint16le.decode(e.data);case E:return r.uint32be.decode(e.data);case w:return r.uint32le.decode(e.data);case T:return r.string.decode(e.data);case v:return r.escaped.decode(e.data);default:throw new TypeError(`decode type "${e.type}" not recognized`)}}(A(e,t))},n.encode=function(e,t){let n,s;const A=function(e,t){if(!Array.isArray(t))throw new TypeError('dst chars: not array: "'+typeof t);if("string"!=typeof e)throw new TypeError('dst type: not string: "'+typeof e);const n=function(e){let t,n;const s={crlf:!1,lf:!1,base64:!1,type:""};for(;;){if(n=e,t=e.slice(0,5),"CRLF:"===t){s.crlf=!0,n=e.slice(5);break}if(t=e.slice(0,3),"LF:"===t){s.lf=!0,n=e.slice(3);break}break}return t=n.split(":"),1===t.length?s.type=t[0]:2===t.length&&"BASE64"===t[1]&&(s.base64=!0,s.type=t[0]),s}(e.toUpperCase());switch(n.type){case o:case a:case l:case d:case u:case p:case g:case y:case x:case w:case E:case v:break;case T:if(n.base64)throw new TypeError('":BASE64" suffix not allowed with type STRING');break;case h:n.type=p;break;case m:n.type=g;break;case i:n.type=a;break;case c:n.type=d;break;case f:n.type=x;break;case b:n.type=E;break;default:throw new TypeError(`dst type unrecognized: "${e}" : must have form [crlf:|lf:]type[:base64]`)}return n}(e,t);return A.crlf?(n=r.lineEnds.crlf(t),s=I(A.type,n)):A.lf?(n=r.lineEnds.lf(t),s=I(A.type,n)):s=I(A.type,t),A.base64&&(s=r.base64.encode(s)),s},n.convert=function(e,t,n){return s.encode(n,s.decode(e,t))}}).call(this)}).call(this,e("buffer").Buffer)},{"./transformers":6,buffer:2}],5:[function(e,t,n){t.exports={converter:e("./converter"),transformers:e("./transformers")}},{"./converter":4,"./transformers":6}],6:[function(e,t,n){(function(e){(function(){const t=this,s=4294967292,r=4294967293,o=4294967294,i=4294967295,a=[0,1,3,7,15,31,63,127,255,511,1023],l=["00","01","02","03","04","05","06","07","08","09","0A","0B","0C","0D","0E","0F","10","11","12","13","14","15","16","17","18","19","1A","1B","1C","1D","1E","1F","20","21","22","23","24","25","26","27","28","29","2A","2B","2C","2D","2E","2F","30","31","32","33","34","35","36","37","38","39","3A","3B","3C","3D","3E","3F","40","41","42","43","44","45","46","47","48","49","4A","4B","4C","4D","4E","4F","50","51","52","53","54","55","56","57","58","59","5A","5B","5C","5D","5E","5F","60","61","62","63","64","65","66","67","68","69","6A","6B","6C","6D","6E","6F","70","71","72","73","74","75","76","77","78","79","7A","7B","7C","7D","7E","7F","80","81","82","83","84","85","86","87","88","89","8A","8B","8C","8D","8E","8F","90","91","92","93","94","95","96","97","98","99","9A","9B","9C","9D","9E","9F","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","AA","AB","AC","AD","AE","AF","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","BA","BB","BC","BD","BE","BF","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","CA","CB","CC","CD","CE","CF","D0","D1","D2","D3","D4","D5","D6","D7","D8","D9","DA","DB","DC","DD","DE","DF","E0","E1","E2","E3","E4","E5","E6","E7","E8","E9","EA","EB","EC","ED","EE","EF","F0","F1","F2","F3","F4","F5","F6","F7","F8","F9","FA","FB","FC","FD","FE","FF"],c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),d=[];c.forEach((e=>{d.push(e.charCodeAt(0))})),n.utf8={encode(t){const n=[];return t.forEach((e=>{if(e>=0&&e<=127)n.push(e);else if(e<=2047)n.push(192+(e>>6&a[5])),n.push(128+(e&a[6]));else if(e<55296||e>57343&&e<=65535)n.push(224+(e>>12&a[4])),n.push(128+(e>>6&a[6])),n.push(128+(e&a[6]));else{if(!(e>=65536&&e<=1114111))throw new RangeError(`utf8.encode: character out of range: char: ${e}`);{const t=e>>16&a[5];n.push(240+(t>>2)),n.push(128+((t&a[2])<<4)+(e>>12&a[4])),n.push(128+(e>>6&a[6])),n.push(128+(e&a[6]))}}})),e.from(n)},decode(e,t){function n(e,t){if(128!=(192&t))return r;const n=((e&a[5])<<6)+(t&a[6]);return n<128?s:n}function l(e,t,n){if(128!=(192&n)||128!=(192&t))return r;const i=((e&a[4])<<12)+((t&a[6])<<6)+(n&a[6]);return i<2048?s:i>=55296&&i<=57343?o:i}function c(e,t,n,i){if(128!=(192&i)||128!=(192&n)||128!=(192&t))return r;const l=(((e&a[3])<<2)+(t>>4&a[2])<<16)+((t&a[4])<<12)+((n&a[6])<<6)+(i&a[6]);return l<65536?s:l>1114111?o:l}let d,u,p,h,m,g;const f=e.length;let y=t?3:0;const x=[];for(;y<f;){u=e[y],d=i;const t=!0;for(;t;){if(u>=0&&u<=127){d=u,g=1;break}if(p=y+1,p<f&&u>=194&&u<=223){d=n(u,e[p]),g=2;break}if(h=y+2,h<f&&u>=224&&u<=239){d=l(u,e[p],e[h]),g=3;break}if(m=y+3,m<f&&u>=240&&u<=244){d=c(u,e[p],e[h],e[m]),g=4;break}break}if(d>1114111){const e=`byte[${y}]`;if(d===i)throw new RangeError(`utf8.decode: ill-formed UTF8 byte sequence found at: ${e}`);if(d===r)throw new RangeError(`utf8.decode: illegal trailing byte found at: ${e}`);if(d===o)throw new RangeError(`utf8.decode: code point out of range found at: ${e}`);if(d===s)throw new RangeError(`utf8.decode: non-shortest form found at: ${e}`);throw new RangeError(`utf8.decode: unrecognized error found at: ${e}`)}x.push(d),y+=g}return x}},n.utf16be={encode(t){const n=[];let s,r,o;for(let e=0;e<t.length;e+=1)if(s=t[e],s>=0&&s<=55295||s>=57344&&s<=65535)n.push(s>>8&a[8]),n.push(s&a[8]);else{if(!(s>=65536&&s<=1114111))throw new RangeError(`utf16be.encode: UTF16BE value out of range: char[${e}]: ${s}`);o=s-65536,r=55296+(o>>10),o=56320+(o&a[10]),n.push(r>>8&a[8]),n.push(r&a[8]),n.push(o>>8&a[8]),n.push(o&a[8])}return e.from(n)},decode(e,t){if(e.length%2>0)throw new RangeError(`utf16be.decode: data length must be even multiple of 2: length: ${e.length}`);const n=[],s=e.length;let r,o,i,a,l,c,d=t?2:0,u=0;for(;d<s;){const t=!0;for(;t;){if(i=d+1,i<s){if(l=(e[d]<<8)+e[i],l<55296||l>57343){r=l,o=2;break}if(a=d+3,a<s&&(c=(e[d+2]<<8)+e[a],l<=56319&&c>=56320&&c<=57343)){r=65536+(l-55296<<10)+(c-56320),o=4;break}}throw new RangeError(`utf16be.decode: ill-formed UTF16BE byte sequence found: byte[${d}]`)}n[u++]=r,d+=o}return n}},n.utf16le={encode(t){const n=[];let s,r,o;for(let e=0;e<t.length;e+=1)if(s=t[e],s>=0&&s<=55295||s>=57344&&s<=65535)n.push(s&a[8]),n.push(s>>8&a[8]);else{if(!(s>=65536&&s<=1114111))throw new RangeError(`utf16le.encode: UTF16LE value out of range: char[${e}]: ${s}`);o=s-65536,r=55296+(o>>10),o=56320+(o&a[10]),n.push(r&a[8]),n.push(r>>8&a[8]),n.push(o&a[8]),n.push(o>>8&a[8])}return e.from(n)},decode(e,t){if(e.length%2>0)throw new RangeError(`utf16le.decode: data length must be even multiple of 2: length: ${e.length}`);const n=[],s=e.length;let r,o,i,a,l,c,d=t?2:0,u=0;for(;d<s;){const t=!0;for(;t;){if(i=d+1,i<s){if(l=(e[i]<<8)+e[d],l<55296||l>57343){r=l,o=2;break}if(a=d+3,a<s&&(c=(e[a]<<8)+e[d+2],l<=56319&&c>=56320&&c<=57343)){r=65536+(l-55296<<10)+(c-56320),o=4;break}}throw new RangeError(`utf16le.decode: ill-formed UTF16LE byte sequence found: byte[${d}]`)}n[u++]=r,d+=o}return n}},n.utf32be={encode(t){const n=e.alloc(4*t.length);let s=0;return t.forEach((e=>{if(e>=55296&&e<=57343||e>1114111)throw new RangeError(`utf32be.encode: UTF32BE character code out of range: char[${s/4}]: ${e}`);n[s++]=e>>24&a[8],n[s++]=e>>16&a[8],n[s++]=e>>8&a[8],n[s++]=e&a[8]})),n},decode(e,t){if(e.length%4>0)throw new RangeError(`utf32be.decode: UTF32BE byte length must be even multiple of 4: length: ${e.length}`);const n=[];let s=t?4:0;for(;s<e.length;s+=4){const t=(e[s]<<24)+(e[s+1]<<16)+(e[s+2]<<8)+e[s+3];if(t>=55296&&t<=57343||t>1114111)throw new RangeError(`utf32be.decode: UTF32BE character code out of range: char[${s/4}]: ${t}`);n.push(t)}return n}},n.utf32le={encode(t){const n=e.alloc(4*t.length);let s=0;return t.forEach((e=>{if(e>=55296&&e<=57343||e>1114111)throw new RangeError(`utf32le.encode: UTF32LE character code out of range: char[${s/4}]: ${e}`);n[s++]=e&a[8],n[s++]=e>>8&a[8],n[s++]=e>>16&a[8],n[s++]=e>>24&a[8]})),n},decode(e,t){if(e.length%4>0)throw new RangeError(`utf32be.decode: UTF32LE byte length must be even multiple of 4: length: ${e.length}`);const n=[];let s=t?4:0;for(;s<e.length;s+=4){const t=(e[s+3]<<24)+(e[s+2]<<16)+(e[s+1]<<8)+e[s];if(t>=55296&&t<=57343||t>1114111)throw new RangeError(`utf32le.encode: UTF32LE character code out of range: char[${s/4}]: ${t}`);n.push(t)}return n}},n.uint7={encode(t){const n=e.alloc(t.length);for(let e=0;e<t.length;e+=1){if(t[e]>127)throw new RangeError(`uint7.encode: UINT7 character code out of range: char[${e}]: ${t[e]}`);n[e]=t[e]}return n},decode(e){const t=[];for(let n=0;n<e.length;n+=1){if(e[n]>127)throw new RangeError(`uint7.decode: UINT7 character code out of range: byte[${n}]: ${e[n]}`);t[n]=e[n]}return t}},n.uint8={encode(t){const n=e.alloc(t.length);for(let e=0;e<t.length;e+=1){if(t[e]>255)throw new RangeError(`uint8.encode: UINT8 character code out of range: char[${e}]: ${t[e]}`);n[e]=t[e]}return n},decode(e){const t=[];for(let n=0;n<e.length;n+=1)t[n]=e[n];return t}},n.uint16be={encode(t){const n=e.alloc(2*t.length);let s=0;return t.forEach((e=>{if(e>65535)throw new RangeError(`uint16be.encode: UINT16BE character code out of range: char[${s/2}]: ${e}`);n[s++]=e>>8&a[8],n[s++]=e&a[8]})),n},decode(e){if(e.length%2>0)throw new RangeError(`uint16be.decode: UINT16BE byte length must be even multiple of 2: length: ${e.length}`);const t=[];for(let n=0;n<e.length;n+=2)t.push((e[n]<<8)+e[n+1]);return t}},n.uint16le={encode(t){const n=e.alloc(2*t.length);let s=0;return t.forEach((e=>{if(e>65535)throw new RangeError(`uint16le.encode: UINT16LE character code out of range: char[${s/2}]: ${e}`);n[s++]=e&a[8],n[s++]=e>>8&a[8]})),n},decode(e){if(e.length%2>0)throw new RangeError(`uint16le.decode: UINT16LE byte length must be even multiple of 2: length: ${e.length}`);const t=[];for(let n=0;n<e.length;n+=2)t.push((e[n+1]<<8)+e[n]);return t}},n.uint32be={encode(t){const n=e.alloc(4*t.length);let s=0;return t.forEach((e=>{n[s++]=e>>24&a[8],n[s++]=e>>16&a[8],n[s++]=e>>8&a[8],n[s++]=e&a[8]})),n},decode(e){if(e.length%4>0)throw new RangeError(`uint32be.decode: UINT32BE byte length must be even multiple of 4: length: ${e.length}`);const t=[];for(let n=0;n<e.length;n+=4)t.push((e[n]<<24)+(e[n+1]<<16)+(e[n+2]<<8)+e[n+3]);return t}},n.uint32le={encode(t){const n=e.alloc(4*t.length);let s=0;return t.forEach((e=>{n[s++]=e&a[8],n[s++]=e>>8&a[8],n[s++]=e>>16&a[8],n[s++]=e>>24&a[8]})),n},decode(e){if(e.length%4>0)throw new RangeError(`uint32le.decode: UINT32LE byte length must be even multiple of 4: length: ${e.length}`);const t=[];for(let n=0;n<e.length;n+=4)t.push((e[n+3]<<24)+(e[n+2]<<16)+(e[n+1]<<8)+e[n]);return t}},n.string={encode:e=>t.utf16le.encode(e).toString("utf16le"),decode:n=>t.utf16le.decode(e.from(n,"utf16le"),0)},n.escaped={encode(t){const n=[];for(let s=0;s<t.length;s+=1){const r=t[s];if(96===r)n.push(r),n.push(r);else if(10===r)n.push(r);else if(r>=32&&r<=126)n.push(r);else{let t="";if(r>=0&&r<=31)t+=`\`x${l[r]}`;else if(r>=127&&r<=255)t+=`\`x${l[r]}`;else if(r>=256&&r<=65535)t+=`\`u${l[r>>8&a[8]]}${l[r&a[8]]}`;else{if(!(r>=65536&&r<=4294967295))throw new Error("escape.encode(char): char > 0xffffffff not allowed");{t+="`u{";const e=r>>24&a[8];e>0&&(t+=l[e]),t+=`${l[r>>16&a[8]]+l[r>>8&a[8]]+l[r&a[8]]}}`}}e.from(t).forEach((e=>{n.push(e)}))}}return e.from(n)},decode(e){function t(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function n(e,n,s){const r={char:null,nexti:e+2,error:!0};if(e+1<n&&t(s[e])&&t(s[e+1])){const t=String.fromCodePoint(s[e],s[e+1]);r.char=parseInt(t,16),Number.isNaN(r.char)||(r.error=!1)}return r}function s(e,n,s){const r={char:null,nexti:e+4,error:!0};if(e+3<n&&t(s[e])&&t(s[e+1])&&t(s[e+2])&&t(s[e+3])){const t=String.fromCodePoint(s[e],s[e+1],s[e+2],s[e+3]);r.char=parseInt(t,16),Number.isNaN(r.char)||(r.error=!1)}return r}function r(e,n,s){const r={char:null,nexti:e+4,error:!0};let o="";for(;e<n&&t(s[e]);)o+=String.fromCodePoint(s[e]),e+=1;return r.char=parseInt(o,16),125!==s[e]||Number.isNaN(r.char)||(r.error=!1),r.nexti=e+1,r}const o=[],i=e.length;let a,l,c,d=0;for(;d<i;){const t=!0;for(;t;){if(c=!0,96!==e[d]){o.push(e[d]),d+=1,c=!1;break}if(a=d+1,a>=i)break;if(96===e[a]){o.push(96),d+=2,c=!1;break}if(120===e[a]){if(l=n(a+1,i,e),l.error)break;o.push(l.char),d=l.nexti,c=!1;break}if(117===e[a]){if(123===e[a+1]){if(l=r(a+2,i,e),l.error)break;o.push(l.char),d=l.nexti,c=!1;break}if(l=s(a+1,i,e),l.error)break;o.push(l.char),d=l.nexti,c=!1;break}break}if(c)throw new Error(`escaped.decode: ill-formed escape sequence at buf[${d}]`)}return o}};const u=10;n.lineEnds={crlf(e){const t=[];let n=0;for(;n<e.length;)switch(e[n]){case 13:n+1<e.length&&e[n+1]===u?n+=2:n+=1,t.push(13),t.push(u);break;case u:t.push(13),t.push(u),n+=1;break;default:t.push(e[n]),n+=1}return t.length>0&&t[t.length-1]!==u&&(t.push(13),t.push(u)),t},lf(e){const t=[];let n=0;for(;n<e.length;)switch(e[n]){case 13:n+1<e.length&&e[n+1]===u?n+=2:n+=1,t.push(u);break;case u:t.push(u),n+=1;break;default:t.push(e[n]),n+=1}return t.length>0&&t[t.length-1]!==u&&t.push(u),t}},n.base64={encode(t){if(0===t.length)return e.alloc(0);let n,s,r,o=t.length%3;o=o>0?3-o:0;let i=(t.length+o)/3;const l=e.alloc(4*i);o>0&&(i-=1),n=0,s=0;for(let e=0;e<i;e+=1)r=t[n++]<<16,r+=t[n++]<<8,r+=t[n++],l[s++]=d[r>>18&a[6]],l[s++]=d[r>>12&a[6]],l[s++]=d[r>>6&a[6]],l[s++]=d[r&a[6]];return 0===o?l:1===o?(r=t[n++]<<16,r+=t[n]<<8,l[s++]=d[r>>18&a[6]],l[s++]=d[r>>12&a[6]],l[s++]=d[r>>6&a[6]],l[s]=d[64],l):2===o?(r=t[n]<<16,l[s++]=d[r>>18&a[6]],l[s++]=d[r>>12&a[6]],l[s++]=d[64],l[s]=d[64],l):void 0},decode(t){if(0===t.length)return e.alloc(0);const n=function(t){const n=[];let s=0;for(let e=0;e<t.length;e+=1){const r=t[e],o=!0;for(;o&&32!==r&&9!==r&&10!==r&&13!==r;){if(r>=65&&r<=90){n.push(r-65);break}if(r>=97&&r<=122){n.push(r-71);break}if(r>=48&&r<=57){n.push(r+4);break}if(43===r){n.push(62);break}if(47===r){n.push(63);break}if(61===r){n.push(64),s+=1;break}throw new RangeError(`base64.decode: invalid character buf[${e}]: ${r}`)}}if(n.length%4>0)throw new RangeError(`base64.decode: string length not integral multiple of 4: ${n.length}`);switch(s){case 0:break;case 1:if(64!==n[n.length-1])throw new RangeError("base64.decode: one tail character found: not last character");break;case 2:if(64!==n[n.length-1]||64!==n[n.length-2])throw new RangeError("base64.decode: two tail characters found: not last characters");break;default:throw new RangeError(`base64.decode: more than two tail characters found: ${s}`)}return{tail:s,buf:e.from(n)}}(t),{tail:s}=n,r=n.buf;let o,i,l,c=r.length/4;const d=e.alloc(3*c-s);s>0&&(c-=1),i=0,o=0;for(let e=0;e<c;e+=1)l=r[o++]<<18,l+=r[o++]<<12,l+=r[o++]<<6,l+=r[o++],d[i++]=l>>16&a[8],d[i++]=l>>8&a[8],d[i++]=l&a[8];return 1===s&&(l=r[o++]<<18,l+=r[o++]<<12,l+=r[o]<<6,d[i++]=l>>16&a[8],d[i]=l>>8&a[8]),2===s&&(l=r[o++]<<18,l+=r[o++]<<12,d[i]=l>>16&a[8]),d},toString(e){if(e.length%4>0)throw new RangeError(`base64.toString: input buffer length not multiple of 4: ${e.length}`);let t="",n=0;function s(e,s,r,o){switch(n){case 76:t+=`\r\n${e}${s}${r}${o}`,n=4;break;case 75:t+=`${e}\r\n${s}${r}${o}`,n=3;break;case 74:t+=`${e+s}\r\n${r}${o}`,n=2;break;case 73:t+=`${e+s+r}\r\n${o}`,n=1;break;default:t+=e+s+r+o,n+=4}}for(let t=0;t<e.length;t+=4){for(let n=t;n<t+4;n+=1)if(!((r=e[n])>=65&&r<=90||r>=97&&r<=122||r>=48&&r<=57||43===r||47===r||61===r))throw new RangeError(`base64.toString: buf[${n}]: ${e[n]} : not valid base64 character code`);s(String.fromCharCode(e[t]),String.fromCharCode(e[t+1]),String.fromCharCode(e[t+2]),String.fromCharCode(e[t+3]))}var r;return t}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:2}],7:[function(e,t,n){t.exports=function(){const t=e("./identifiers"),n=e("./utilities"),s=this;let r=null,o=null,i=null,a=0;const l=[],c=[],d=[],u=[];function p(e){let t="";for(let n=0;n<e;n+=1)t+=" ";return t}this.callbacks=[],this.astObject="astObject",this.init=function(e,t,n){let p;d.length=0,u.length=0,l.length=0,a=0,r=e,o=t,i=n;const h=[];for(p=0;p<r.length;p+=1)h.push(r[p].lower);for(p=0;p<o.length;p+=1)h.push(o[p].lower);for(a=r.length+o.length,p=0;p<a;p+=1)l[p]=!1,c[p]=null;for(const e in s.callbacks){const t=e.toLowerCase();if(p=h.indexOf(t),p<0)throw new Error(`ast.js: init: node '${e}' not a rule or udt name`);"function"==typeof s.callbacks[e]&&(l[p]=!0,c[p]=s.callbacks[e]),!0===s.callbacks[e]&&(l[p]=!0)}},this.ruleDefined=function(e){return!1!==l[e]},this.udtDefined=function(e){return!1!==l[r.length+e]},this.down=function(e,n){const s=u.length;return d.push(s),u.push({name:n,thisIndex:s,thatIndex:null,state:t.SEM_PRE,callbackIndex:e,phraseIndex:null,phraseLength:null,stack:d.length}),s},this.up=function(e,n,s,r){const o=u.length,i=d.pop();return u.push({name:n,thisIndex:o,thatIndex:i,state:t.SEM_POST,callbackIndex:e,phraseIndex:s,phraseLength:r,stack:d.length}),u[i].thatIndex=o,u[i].phraseIndex=s,u[i].phraseLength=r,o},this.translate=function(e){let n,s,r;for(let o=0;o<u.length;o+=1)r=u[o],s=c[r.callbackIndex],r.state===t.SEM_PRE?null!==s&&(n=s(t.SEM_PRE,i,r.phraseIndex,r.phraseLength,e),n===t.SEM_SKIP&&(o=r.thatIndex)):null!==s&&s(t.SEM_POST,i,r.phraseIndex,r.phraseLength,e)},this.setLength=function(e){u.length=e,d.length=e>0?u[e-1].stack:0},this.getLength=function(){return u.length},this.toXml=function(e){let s=n.charsToDec,r="decimal integer character codes";if("string"==typeof e&&e.length>=3){const t=e.slice(0,3).toLowerCase();"asc"===t?(s=n.charsToAscii,r="ASCII for printing characters, hex for non-printing"):"hex"===t?(s=n.charsToHex,r="hexadecimal integer character codes"):"uni"===t&&(s=n.charsToUnicode,r="Unicode UTF-32 integer character codes")}let o="",a=0;return o+='<?xml version="1.0" encoding="utf-8"?>\n',o+=`<root nodes="${u.length/2}" characters="${i.length}">\n`,o+=`\x3c!-- input string, ${r} --\x3e\n`,o+=p(a+2),o+=s(i),o+="\n",u.forEach((e=>{e.state===t.SEM_PRE?(a+=1,o+=p(a),o+=`<node name="${e.name}" index="${e.phraseIndex}" length="${e.phraseLength}">\n`,o+=p(a+2),o+=s(i,e.phraseIndex,e.phraseLength),o+="\n"):(o+=p(a),o+=`</node>\x3c!-- name="${e.name}" --\x3e\n`,a-=1)})),o+="</root>\n",o},this.phrases=function(){const e={};let n,s;for(n=0;n<u.length;n+=1)s=u[n],s.state===t.SEM_PRE&&(Array.isArray(e[s.name])||(e[s.name]=[]),e[s.name].push({index:s.phraseIndex,length:s.phraseLength}));return e}}},{"./identifiers":10,"./utilities":16}],8:[function(e,t,n){t.exports=function(){let e=-1,t=0;this.init=function(n){if("number"!=typeof n||n<=0)throw new Error("circular-buffer.js: init: circular buffer size must an integer > 0");t=Math.ceil(n),e=-1},this.increment=function(){return e+=1,(e+t)%t},this.maxSize=function(){return t},this.items=function(){return e+1},this.getListIndex=function(n){return-1===e||n<0||n>e||e-n>=t?-1:(n+t)%t},this.forEach=function(n){if(-1!==e)if(e<t)for(let t=0;t<=e;t+=1)n(t,t);else for(let s=e-t+1;s<=e;s+=1)n((s+t)%t,s)}}},{}],9:[function(e,t,n){t.exports=function(){return"/* This file automatically generated by jsonToless() and LESS. */\n.apg-mono {\n  font-family: monospace;\n}\n.apg-active {\n  font-weight: bold;\n  color: #000000;\n}\n.apg-match {\n  font-weight: bold;\n  color: #264BFF;\n}\n.apg-empty {\n  font-weight: bold;\n  color: #0fbd0f;\n}\n.apg-nomatch {\n  font-weight: bold;\n  color: #FF4000;\n}\n.apg-lh-match {\n  font-weight: bold;\n  color: #1A97BA;\n}\n.apg-lb-match {\n  font-weight: bold;\n  color: #5F1687;\n}\n.apg-remainder {\n  font-weight: bold;\n  color: #999999;\n}\n.apg-ctrl-char {\n  font-weight: bolder;\n  font-style: italic;\n  font-size: 0.6em;\n}\n.apg-line-end {\n  font-weight: bold;\n  color: #000000;\n}\n.apg-error {\n  font-weight: bold;\n  color: #FF4000;\n}\n.apg-phrase {\n  color: #000000;\n  background-color: #8caae6;\n}\n.apg-empty-phrase {\n  color: #0fbd0f;\n}\ntable.apg-state {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: left;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-state th,\ntable.apg-state td {\n  text-align: left;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-state th:nth-last-child(2),\ntable.apg-state td:nth-last-child(2) {\n  text-align: right;\n}\ntable.apg-state caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-stats {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-stats th,\ntable.apg-stats td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-stats caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-trace {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-trace caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-trace th,\ntable.apg-trace td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-trace th:last-child,\ntable.apg-trace th:nth-last-child(2),\ntable.apg-trace td:last-child,\ntable.apg-trace td:nth-last-child(2) {\n  text-align: left;\n}\ntable.apg-grammar {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-grammar caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-grammar th,\ntable.apg-grammar td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-grammar th:last-child,\ntable.apg-grammar td:last-child {\n  text-align: left;\n}\ntable.apg-rules {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-rules caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-rules th,\ntable.apg-rules td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-rules a {\n  color: #003399 !important;\n}\ntable.apg-rules a:hover {\n  color: #8caae6 !important;\n}\ntable.apg-attrs {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: center;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-attrs caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-attrs th,\ntable.apg-attrs td {\n  text-align: center;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-attrs th:nth-child(1),\ntable.apg-attrs th:nth-child(2),\ntable.apg-attrs th:nth-child(3) {\n  text-align: right;\n}\ntable.apg-attrs td:nth-child(1),\ntable.apg-attrs td:nth-child(2),\ntable.apg-attrs td:nth-child(3) {\n  text-align: right;\n}\ntable.apg-attrs a {\n  color: #003399 !important;\n}\ntable.apg-attrs a:hover {\n  color: #8caae6 !important;\n}\n"}},{}],10:[function(e,t,n){t.exports={ALT:1,CAT:2,REP:3,RNM:4,TRG:5,TBS:6,TLS:7,UDT:11,AND:12,NOT:13,BKR:14,BKA:15,BKN:16,ABG:17,AEN:18,ACTIVE:100,MATCH:101,EMPTY:102,NOMATCH:103,SEM_PRE:200,SEM_POST:201,SEM_OK:300,SEM_SKIP:301,ATTR_N:400,ATTR_R:401,ATTR_MR:402,LOOKAROUND_NONE:500,LOOKAROUND_AHEAD:501,LOOKAROUND_BEHIND:502,BKR_MODE_UM:601,BKR_MODE_PM:602,BKR_MODE_CS:603,BKR_MODE_CI:604}},{}],11:[function(e,t,n){t.exports={ast:e("./ast"),circular:e("./circular-buffer"),ids:e("./identifiers"),parser:e("./parser"),stats:e("./stats"),trace:e("./trace"),utils:e("./utilities"),emitcss:e("./emitcss"),style:e("./style")}},{"./ast":7,"./circular-buffer":8,"./emitcss":9,"./identifiers":10,"./parser":12,"./stats":13,"./style":14,"./trace":15,"./utilities":16}],12:[function(e,t,n){t.exports=function(){const t=e("./identifiers"),n=e("./utilities"),s=this;let r;this.ast=null,this.stats=null,this.trace=null,this.callbacks=[];let o,i,a,l,c=null,d=null,u=0,p=0,h=0,m=null,g=null,f=null,y=null,x=null,b=0,w=1/0,E=1/0;const v=function(e,n,s){const o="parser.js: evaluateRule(): ";if(e>=f.length)throw new Error(`${o}rule index: ${e} out of range`);if(n>=a)throw new Error(`${o}phrase index: ${n} out of range`);const{length:i}=c;c.push({type:t.RNM,index:e}),r(i,n,s),c.pop()},T=function(e,n,s){const o="parser.js: evaluateUdt(): ";if(e>=y.length)throw new Error(`${o}udt index: ${e} out of range`);if(n>=a)throw new Error(`${o}phrase index: ${n} out of range`);const{length:i}=c;c.push({type:t.UDT,empty:y[e].empty,index:e}),r(i,n,s),c.pop()},A=function(){u=0,p=0,h=0,b=0,l=[{lookAround:t.LOOKAROUND_NONE,anchor:0,charsEnd:0,charsLength:0}],f=null,y=null,d=null,o=0,i=0,a=0,m=null,g=null,x=null,c=null},I=function(){const e=[];this.push=function(){e.push(function(){const t=e[e.length-1],n={};for(const e in t)n[e]=t[e];return n}())},this.pop=function(t){let n=t;if(n||(n=e.length-1),n<1||n>e.length)throw new Error(`parser.js: backRef.pop(): bad length: ${n}`);return e.length=n,e[e.length-1]},this.length=function(){return e.length},this.savePhrase=function(t,n,s){e[e.length-1][t]={phraseIndex:n,phraseLength:s}},this.getPhrase=function(t){return e[e.length-1][t]},function(){const t={};f.forEach((e=>{e.isBkr&&(t[e.lower]=null)})),y.length>0&&y.forEach((e=>{e.isBkr&&(t[e.lower]=null)})),e.push(t)}()},k=function(){const e=this;this.state=t.ACTIVE,this.phraseLength=0,this.ruleIndex=0,this.udtIndex=0,this.lookAround=l[l.length-1],this.uFrame=new I,this.pFrame=new I,this.evaluateRule=v,this.evaluateUdt=T,this.refresh=function(){e.state=t.ACTIVE,e.phraseLength=0,e.lookAround=l[l.length-1]}},C=function(){return l[l.length-1]},S=function(){return l.length>1},R=function(e,t,s){const r="parser.js: initializeInputChars(): ";let l=e,c=t,u=s;if(void 0===l)throw new Error(`${r}input string is undefined`);if(null===l)throw new Error(`${r}input string is null`);if("string"==typeof l)l=n.stringToChars(l);else if(!Array.isArray(l))throw new Error(`${r}input string is not a string or array`);if(l.length>0&&"number"!=typeof l[0])throw new Error(`${r}input string not an array of integers`);if("number"!=typeof c)c=0;else if(c=Math.floor(c),c<0||c>l.length)throw new Error(`${r}input beginning index out of range: ${c}`);if("number"!=typeof u)u=l.length-c;else if(u=Math.floor(u),u<0||u>l.length-c)throw new Error(`${r}input length out of range: ${u}`);d=l,o=c,i=u,a=o+i};this.setMaxTreeDepth=function(e){if("number"!=typeof e)throw new Error(`parser: max tree depth must be integer > 0: ${e}`);if(w=Math.floor(e),w<=0)throw new Error(`parser: max tree depth must be integer > 0: ${e}`)},this.setMaxNodeHits=function(e){if("number"!=typeof e)throw new Error(`parser: max node hits must be integer > 0: ${e}`);if(E=Math.floor(e),E<=0)throw new Error(`parser: max node hits must be integer > 0: ${e}`)};const B=function(e,n,l){let u;!function(e){const t="parser.js: initializeGrammar(): ";if(!e)throw new Error(`${t}grammar object undefined`);if("grammarObject"!==e.grammarObject)throw new Error(`${t}bad grammar object`);f=e.rules,y=e.udts}(e);const w=function(e){const t="parser.js: initializeStartRule(): ";let n=null;if("number"==typeof e){if(e>=f.length)throw new Error(`${t}start rule index too large: max: ${f.length}: index: ${e}`);n=e}else{if("string"!=typeof e)throw new Error(`${t}type of start rule '${typeof e}' not recognized`);{const s=e.toLowerCase();for(let e=0;e<f.length;e+=1)if(s===f[e].lower){n=f[e].index;break}if(null===n)throw new Error(`${t}start rule name '${e}' not recognized`)}}return n}(n);!function(){const e="parser.js: initializeCallbacks(): ";let t,n;for(m=[],g=[],t=0;t<f.length;t+=1)m[t]=null;for(t=0;t<y.length;t+=1)g[t]=null;const r=[];for(t=0;t<f.length;t+=1)r.push(f[t].lower);for(t=0;t<y.length;t+=1)r.push(y[t].lower);for(const o in s.callbacks){if(t=r.indexOf(o.toLowerCase()),t<0)throw new Error(`${e}syntax callback '${o}' not a rule or udt name`);if(n=s.callbacks[o],n||(n=null),"function"!=typeof n&&null!==n)throw new Error(`${e}syntax callback[${o}] must be function reference or 'false' (false/null/undefined/etc.)`);t<f.length?m[t]=n:g[t-f.length]=n}for(t=0;t<y.length;t+=1)if(null===g[t])throw new Error(`${e}all UDT callbacks must be defined. UDT callback[${y[t].lower}] not a function reference`)}(),function(){for(;;){if(void 0===s.trace){s.trace=null;break}if(null===s.trace)break;if("traceObject"!==s.trace.traceObject)throw new Error("parser.js: initializeTrace(): trace object not recognized");break}null!==s.trace&&s.trace.init(f,y,d)}(),function(){for(;;){if(void 0===s.stats){s.stats=null;break}if(null===s.stats)break;if("statsObject"!==s.stats.statsObject)throw new Error("parser.js: initializeStats(): stats object not recognized");break}null!==s.stats&&s.stats.init(f,y)}(),function(){for(;;){if(void 0===s.ast){s.ast=null;break}if(null===s.ast)break;if("astObject"!==s.ast.astObject)throw new Error("parser.js: initializeAst(): ast object not recognized");break}null!==s.ast&&s.ast.init(f,y,d)}();const E=new k;switch(null!=l&&(x=l),c=[{type:t.RNM,index:w}],r(0,o,E),c=null,E.state){case t.ACTIVE:throw new Error("parser.js: parse(): final state should never be 'ACTIVE'");case t.NOMATCH:u=!1;break;case t.EMPTY:case t.MATCH:u=E.phraseLength===i;break;default:throw new Error("unrecognized state")}return{success:u,state:E.state,length:i,matched:E.phraseLength,maxMatched:b,maxTreeDepth:p,nodeHits:h,inputLength:d.length,subBegin:o,subEnd:a,subLength:i}};this.parseSubstring=function(e,t,n,s,r,o){return A(),R(n,s,r),B(e,t,o)},this.parse=function(e,t,n,s){return A(),R(n,0,n.length),B(e,t,s)};const D=function(e,n,s){const o=c[e];for(let e=0;e<o.children.length&&(r(o.children[e],n,s),s.state===t.NOMATCH);e+=1);},L=function(e,n,s,r){if(n.phraseLength>s){let t=`parser.js: opRNM(${e.name}): callback function error: `;throw t+=`sysData.phraseLength: ${n.phraseLength}`,t+=` must be <= remaining chars: ${s}`,new Error(t)}switch(n.state){case t.ACTIVE:if(!0!==r)throw new Error(`parser.js: opRNM(${e.name}): callback function return error. ACTIVE state not allowed.`);break;case t.EMPTY:n.phraseLength=0;break;case t.MATCH:0===n.phraseLength&&(n.state=t.EMPTY);break;case t.NOMATCH:n.phraseLength=0;break;default:throw new Error(`parser.js: opRNM(${e.name}): callback function return error. Unrecognized return state: ${n.state}`)}},P=function(e,n,o){let i,l,u,p,h,g;const y=c[e],b=f[y.index],w=m[b.index],E=!S();if(E&&(l=s.ast&&s.ast.ruleDefined(y.index),l&&(i=s.ast.getLength(),s.ast.down(y.index,f[y.index].name)),p=o.uFrame.length(),h=o.pFrame.length(),o.uFrame.push(),o.pFrame.push(),g=o.pFrame,o.pFrame=new I),null===w)u=c,c=b.opcodes,r(0,n,o),c=u;else{const e=a-n;o.ruleIndex=b.index,w(o,d,n,x),L(b,o,e,!0),o.state===t.ACTIVE&&(u=c,c=b.opcodes,r(0,n,o),c=u,o.ruleIndex=b.index,w(o,d,n,x),L(b,o,e,!1))}E&&(l&&(o.state===t.NOMATCH?s.ast.setLength(i):s.ast.up(y.index,b.name,n,o.phraseLength)),o.pFrame=g,o.state===t.NOMATCH?(o.uFrame.pop(p),o.pFrame.pop(h)):b.isBkr&&(o.pFrame.savePhrase(b.lower,n,o.phraseLength),o.uFrame.savePhrase(b.lower,n,o.phraseLength)))},F=function(e,n,r){let o,i,l,u,p,h;const m=c[e],b=y[m.index];r.UdtIndex=b.index;const w=!S();w&&(l=s.ast&&s.ast.udtDefined(m.index),l&&(i=f.length+m.index,o=s.ast.getLength(),s.ast.down(i,b.name)),u=r.uFrame.length(),p=r.pFrame.length(),r.uFrame.push(),r.pFrame.push(),h=r.pFrame,r.pFrame=new I);const E=a-n;g[m.index](r,d,n,x),function(e,n,s){if(n.phraseLength>s){let t=`parser.js: opUDT(${e.name}): callback function error: `;throw t+=`sysData.phraseLength: ${n.phraseLength}`,t+=` must be <= remaining chars: ${s}`,new Error(t)}switch(n.state){case t.ACTIVE:throw new Error(`parser.js: opUDT(${e.name}): callback function return error. ACTIVE state not allowed.`);case t.EMPTY:if(!1===e.empty)throw new Error(`parser.js: opUDT(${e.name}): callback function return error. May not return EMPTY.`);n.phraseLength=0;break;case t.MATCH:if(0===n.phraseLength){if(!1===e.empty)throw new Error(`parser.js: opUDT(${e.name}): callback function return error. May not return EMPTY.`);n.state=t.EMPTY}break;case t.NOMATCH:n.phraseLength=0;break;default:throw new Error(`parser.js: opUDT(${e.name}): callback function return error. Unrecognized return state: ${n.state}`)}}(b,r,E),w&&(l&&(r.state===t.NOMATCH?s.ast.setLength(o):s.ast.up(i,b.name,n,r.phraseLength)),r.pFrame=h,r.state===t.NOMATCH?(r.uFrame.pop(u),r.pFrame.pop(p)):b.isBkr&&(r.pFrame.savePhrase(b.lower,n,r.phraseLength),r.uFrame.savePhrase(b.lower,n,r.phraseLength)))},O=function(e,n,s){l.push({lookAround:t.LOOKAROUND_AHEAD,anchor:n,charsEnd:a,charsLength:i}),a=d.length,i=d.length-o,r(e+1,n,s);const c=l.pop();switch(a=c.charsEnd,i=c.charsLength,s.phraseLength=0,s.state){case t.EMPTY:case t.MATCH:s.state=t.EMPTY;break;case t.NOMATCH:s.state=t.NOMATCH;break;default:throw new Error(`opAND: invalid state ${s.state}`)}},N=function(e,n,s){l.push({lookAround:t.LOOKAROUND_AHEAD,anchor:n,charsEnd:a,charsLength:i}),a=d.length,i=d.length-o,r(e+1,n,s);const c=l.pop();switch(a=c.charsEnd,i=c.charsLength,s.phraseLength=0,s.state){case t.EMPTY:case t.MATCH:s.state=t.NOMATCH;break;case t.NOMATCH:s.state=t.EMPTY;break;default:throw new Error(`opNOT: invalid state ${s.state}`)}},M=function(e,n,s){s.state=t.NOMATCH,s.phraseLength=0,s.state=0===n?t.EMPTY:t.NOMATCH},H=function(e,n,s){s.state=t.NOMATCH,s.phraseLength=0,s.state=n===d.length?t.EMPTY:t.NOMATCH},$=function(e,n,s){switch(l.push({lookAround:t.LOOKAROUND_BEHIND,anchor:n}),r(e+1,n,s),l.pop(),s.phraseLength=0,s.state){case t.EMPTY:case t.MATCH:s.state=t.EMPTY;break;case t.NOMATCH:s.state=t.NOMATCH;break;default:throw new Error(`opBKA: invalid state ${s.state}`)}},U=function(e,n,s){switch(l.push({lookAround:t.LOOKAROUND_BEHIND,anchor:n}),r(e+1,n,s),l.pop(),s.phraseLength=0,s.state){case t.EMPTY:case t.MATCH:s.state=t.NOMATCH;break;case t.NOMATCH:s.state=t.EMPTY;break;default:throw new Error(`opBKN: invalid state ${s.state}`)}};r=function(e,n,o){let i=!0;const m=c[e];if(h+=1,h>E)throw new Error(`parser: maximum number of node hits exceeded: ${E}`);if(u+=1,u>p&&(p=u,p>w))throw new Error(`parser: maximum parse tree depth exceeded: ${w}`);if(o.refresh(),null!==s.trace){const e=C();s.trace.down(m,o.state,n,o.phraseLength,e.anchor,e.lookAround)}if(l[l.length-1].lookAround===t.LOOKAROUND_BEHIND)switch(m.type){case t.ALT:D(e,n,o);break;case t.CAT:!function(e,n,o){let i,a,l,d;const u=c[e],p=o.uFrame.length(),h=o.pFrame.length();s.ast&&(a=s.ast.getLength()),i=!0,l=n,d=0;for(let e=u.children.length-1;e>=0;e-=1)if(r(u.children[e],l,o),l-=o.phraseLength,d+=o.phraseLength,o.state===t.NOMATCH){i=!1;break}i?(o.state=0===d?t.EMPTY:t.MATCH,o.phraseLength=d):(o.state=t.NOMATCH,o.phraseLength=0,o.uFrame.pop(p),o.pFrame.pop(h),s.ast&&s.ast.setLength(a))}(e,n,o);break;case t.REP:!function(e,n,o){let i,a,l,d;const u=c[e];a=n,l=0,d=0;const p=o.uFrame.length(),h=o.pFrame.length();for(s.ast&&(i=s.ast.getLength());!(a<=0)&&(r(e+1,a,o),o.state!==t.NOMATCH)&&o.state!==t.EMPTY&&(d+=1,l+=o.phraseLength,a-=o.phraseLength,d!==u.max););o.state===t.EMPTY||d>=u.min?(o.state=0===l?t.EMPTY:t.MATCH,o.phraseLength=l):(o.state=t.NOMATCH,o.phraseLength=0,o.uFrame.pop(p),o.pFrame.pop(h),s.ast&&s.ast.setLength(i))}(e,n,o);break;case t.RNM:P(e,n,o);break;case t.UDT:F(e,n,o);break;case t.AND:O(e,n,o);break;case t.NOT:N(e,n,o);break;case t.TRG:!function(e,n,s){const r=c[e];if(s.state=t.NOMATCH,s.phraseLength=0,n>0){const e=d[n-1];r.min<=e&&e<=r.max&&(s.state=t.MATCH,s.phraseLength=1)}}(e,n,o);break;case t.TBS:!function(e,n,s){let r;const o=c[e];s.state=t.NOMATCH;const i=o.string.length,a=n-i;if(a>=0){for(r=0;r<i;r+=1)if(d[a+r]!==o.string[r])return;s.state=t.MATCH,s.phraseLength=i}}(e,n,o);break;case t.TLS:!function(e,n,s){let r;const o=c[e];s.state=t.NOMATCH;const i=o.string.length;if(0===i)return void(s.state=t.EMPTY);const a=n-i;if(a>=0){for(let e=0;e<i;e+=1)if(r=d[a+e],r>=65&&r<=90&&(r+=32),r!==o.string[e])return;s.state=t.MATCH,s.phraseLength=i}}(e,n,o);break;case t.BKR:!function(e,n,s){let r,o,i,a;const l=c[e];s.state=t.NOMATCH,s.phraseLength=0,a=l.index<f.length?f[l.index].lower:y[l.index-f.length].lower;const u=l.bkrMode===t.BKR_MODE_PM?s.pFrame.getPhrase(a):s.uFrame.getPhrase(a),p=l.bkrCase===t.BKR_MODE_CI;if(null===u)return;const h=u.phraseIndex,m=u.phraseLength;if(0===m)return s.state=t.EMPTY,void(s.phraseLength=0);const g=n-m;if(g>=0){if(p){for(r=0;r<m;r+=1)if(o=d[g+r],i=d[h+r],o>=65&&o<=90&&(o+=32),i>=65&&i<=90&&(i+=32),o!==i)return;s.state=t.MATCH,s.phraseLength=m}else for(r=0;r<m;r+=1)if(o=d[g+r],i=d[h+r],o!==i)return;s.state=t.MATCH,s.phraseLength=m}}(e,n,o);break;case t.BKA:$(e,n,o);break;case t.BKN:U(e,n,o);break;case t.ABG:M(0,n,o);break;case t.AEN:H(0,n,o);break;default:i=!1}else switch(m.type){case t.ALT:D(e,n,o);break;case t.CAT:!function(e,n,o){let i,a,l,d;const u=c[e],p=o.uFrame.length(),h=o.pFrame.length();s.ast&&(a=s.ast.getLength()),i=!0,l=n,d=0;for(let e=0;e<u.children.length;e+=1){if(r(u.children[e],l,o),o.state===t.NOMATCH){i=!1;break}l+=o.phraseLength,d+=o.phraseLength}i?(o.state=0===d?t.EMPTY:t.MATCH,o.phraseLength=d):(o.state=t.NOMATCH,o.phraseLength=0,o.uFrame.pop(p),o.pFrame.pop(h),s.ast&&s.ast.setLength(a))}(e,n,o);break;case t.REP:!function(e,n,o){let i,l,d,u;const p=c[e];l=n,d=0,u=0;const h=o.uFrame.length(),m=o.pFrame.length();for(s.ast&&(i=s.ast.getLength());!(l>=a)&&(r(e+1,l,o),o.state!==t.NOMATCH)&&o.state!==t.EMPTY&&(u+=1,d+=o.phraseLength,l+=o.phraseLength,u!==p.max););o.state===t.EMPTY||u>=p.min?(o.state=0===d?t.EMPTY:t.MATCH,o.phraseLength=d):(o.state=t.NOMATCH,o.phraseLength=0,o.uFrame.pop(h),o.pFrame.pop(m),s.ast&&s.ast.setLength(i))}(e,n,o);break;case t.RNM:P(e,n,o);break;case t.UDT:F(e,n,o);break;case t.AND:O(e,n,o);break;case t.NOT:N(e,n,o);break;case t.TRG:!function(e,n,s){const r=c[e];s.state=t.NOMATCH,n<a&&r.min<=d[n]&&d[n]<=r.max&&(s.state=t.MATCH,s.phraseLength=1)}(e,n,o);break;case t.TBS:!function(e,n,s){let r;const o=c[e],i=o.string.length;if(s.state=t.NOMATCH,n+i<=a){for(r=0;r<i;r+=1)if(d[n+r]!==o.string[r])return;s.state=t.MATCH,s.phraseLength=i}}(e,n,o);break;case t.TLS:!function(e,n,s){let r,o;const i=c[e];s.state=t.NOMATCH;const l=i.string.length;if(0!==l){if(n+l<=a){for(r=0;r<l;r+=1)if(o=d[n+r],o>=65&&o<=90&&(o+=32),o!==i.string[r])return;s.state=t.MATCH,s.phraseLength=l}}else s.state=t.EMPTY}(e,n,o);break;case t.BKR:!function(e,n,s){let r,o,i,l;const u=c[e];s.state=t.NOMATCH,l=u.index<f.length?f[u.index].lower:y[u.index-f.length].lower;const p=u.bkrMode===t.BKR_MODE_PM?s.pFrame.getPhrase(l):s.uFrame.getPhrase(l),h=u.bkrCase===t.BKR_MODE_CI;if(null===p)return;const m=p.phraseIndex,g=p.phraseLength;if(0!==g){if(n+g<=a){if(h){for(r=0;r<g;r+=1)if(o=d[n+r],i=d[m+r],o>=65&&o<=90&&(o+=32),i>=65&&i<=90&&(i+=32),o!==i)return;s.state=t.MATCH,s.phraseLength=g}else for(r=0;r<g;r+=1)if(o=d[n+r],i=d[m+r],o!==i)return;s.state=t.MATCH,s.phraseLength=g}}else s.state=t.EMPTY}(e,n,o);break;case t.BKA:$(e,n,o);break;case t.BKN:U(e,n,o);break;case t.ABG:M(0,n,o);break;case t.AEN:H(0,n,o);break;default:i=!1}if(!S()&&n+o.phraseLength>b&&(b=n+o.phraseLength),null!==s.stats&&s.stats.collect(m,o),null!==s.trace){const e=C();s.trace.up(m,o.state,n,o.phraseLength,e.anchor,e.lookAround)}return u-=1,i}}},{"./identifiers":10,"./utilities":16}],13:[function(e,t,n){t.exports=function(){const t=e("./identifiers"),n=e("./utilities"),s=e("./style");let r=[],o=[];const i=[];let a;const l=[],c=[];this.statsObject="statsObject";const d=function(e,t){return e.lower<t.lower?-1:e.lower>t.lower?1:0},u=function(e,t){return e.total<t.total?1:e.total>t.total?-1:d(e,t)},p=function(e,t){return e.index<t.index?-1:e.index>t.index?1:0},h=function(){this.empty=0,this.match=0,this.nomatch=0,this.total=0},m=function(e,n){switch(e.total+=1,n){case t.EMPTY:e.empty+=1;break;case t.MATCH:e.match+=1;break;case t.NOMATCH:e.nomatch+=1;break;default:throw new Error(`stats.js: collect(): incStat(): unrecognized state: ${n}`)}},g=function(e,t){let n="";return n+="<tr>",n+=`<td class="${s.CLASS_ACTIVE}">${e}</td>`,n+=`<td class="${s.CLASS_EMPTY}">${t.empty}</td>`,n+=`<td class="${s.CLASS_MATCH}">${t.match}</td>`,n+=`<td class="${s.CLASS_NOMATCH}">${t.nomatch}</td>`,n+=`<td class="${s.CLASS_ACTIVE}">${t.total}</td>`,n+="</tr>\n",n},f=function(){let e="";return e+=g("ALT",i[t.ALT]),e+=g("CAT",i[t.CAT]),e+=g("REP",i[t.REP]),e+=g("RNM",i[t.RNM]),e+=g("TRG",i[t.TRG]),e+=g("TBS",i[t.TBS]),e+=g("TLS",i[t.TLS]),e+=g("UDT",i[t.UDT]),e+=g("AND",i[t.AND]),e+=g("NOT",i[t.NOT]),e+=g("BKR",i[t.BKR]),e+=g("BKA",i[t.BKA]),e+=g("BKN",i[t.BKN]),e+=g("ABG",i[t.ABG]),e+=g("AEN",i[t.AEN]),e+=g("totals",a),e},y=function(){let e="";e+="<tr><th></th><th></th><th></th><th></th><th></th></tr>\n",e+="<tr><th>rules</th><th></th><th></th><th></th><th></th></tr>\n";for(let t=0;t<r.length;t+=1)l[t].total>0&&(e+="<tr>",e+=`<td class="${s.CLASS_ACTIVE}">${l[t].name}</td>`,e+=`<td class="${s.CLASS_EMPTY}">${l[t].empty}</td>`,e+=`<td class="${s.CLASS_MATCH}">${l[t].match}</td>`,e+=`<td class="${s.CLASS_NOMATCH}">${l[t].nomatch}</td>`,e+=`<td class="${s.CLASS_ACTIVE}">${l[t].total}</td>`,e+="</tr>\n");if(o.length>0){e+="<tr><th></th><th></th><th></th><th></th><th></th></tr>\n",e+="<tr><th>udts</th><th></th><th></th><th></th><th></th></tr>\n";for(let t=0;t<o.length;t+=1)c[t].total>0&&(e+="<tr>",e+=`<td class="${s.CLASS_ACTIVE}">${c[t].name}</td>`,e+=`<td class="${s.CLASS_EMPTY}">${c[t].empty}</td>`,e+=`<td class="${s.CLASS_MATCH}">${c[t].match}</td>`,e+=`<td class="${s.CLASS_NOMATCH}">${c[t].nomatch}</td>`,e+=`<td class="${s.CLASS_ACTIVE}">${c[t].total}</td>`,e+="</tr>\n")}return e};this.validate=function(e){let t=!1;return"string"==typeof e&&"stats"===e&&(t=!0),t},this.init=function(e,n){r=e,o=n,function(){i.length=0,a=new h,i[t.ALT]=new h,i[t.CAT]=new h,i[t.REP]=new h,i[t.RNM]=new h,i[t.TRG]=new h,i[t.TBS]=new h,i[t.TLS]=new h,i[t.UDT]=new h,i[t.AND]=new h,i[t.NOT]=new h,i[t.BKR]=new h,i[t.BKA]=new h,i[t.BKN]=new h,i[t.ABG]=new h,i[t.AEN]=new h,l.length=0;for(let e=0;e<r.length;e+=1)l.push({empty:0,match:0,nomatch:0,total:0,name:r[e].name,lower:r[e].lower,index:r[e].index});if(o.length>0){c.length=0;for(let e=0;e<o.length;e+=1)c.push({empty:0,match:0,nomatch:0,total:0,name:o[e].name,lower:o[e].lower,index:o[e].index})}}()},this.collect=function(e,n){m(a,n.state,n.phraseLength),m(i[e.type],n.state,n.phraseLength),e.type===t.RNM&&m(l[e.index],n.state,n.phraseLength),e.type===t.UDT&&m(c[e.index],n.state,n.phraseLength)},this.toHtml=function(e,t){let n="";for(n+=`<table class="${s.CLASS_STATS}">\n`,"string"==typeof t&&(n+=`<caption>${t}</caption>\n`),n+=`<tr><th class="${s.CLASS_ACTIVE}">ops</th>\n`,n+=`<th class="${s.CLASS_EMPTY}">EMPTY</th>\n`,n+=`<th class="${s.CLASS_MATCH}">MATCH</th>\n`,n+=`<th class="${s.CLASS_NOMATCH}">NOMATCH</th>\n`,n+=`<th class="${s.CLASS_ACTIVE}">totals</th></tr>\n`;;){if(void 0===e){n+=f();break}if(null===e){n+=f();break}if("ops"===e){n+=f();break}if("index"===e){l.sort(p),c.length>0&&c.sort(p),n+=f(),n+=y();break}if("hits"===e){l.sort(u),c.length>0&&c.sort(p),n+=f(),n+=y();break}if("alpha"===e){l.sort(d),c.length>0&&c.sort(d),n+=f(),n+=y();break}break}return n+="</table>\n",n},this.toHtmlPage=function(e,t,s){return n.htmlToPage(this.toHtml(e,t),s)}}},{"./identifiers":10,"./style":14,"./utilities":16}],14:[function(e,t,n){t.exports={CLASS_MONOSPACE:"apg-mono",CLASS_ACTIVE:"apg-active",CLASS_EMPTY:"apg-empty",CLASS_MATCH:"apg-match",CLASS_NOMATCH:"apg-nomatch",CLASS_LOOKAHEAD:"apg-lh-match",CLASS_LOOKBEHIND:"apg-lb-match",CLASS_REMAINDER:"apg-remainder",CLASS_CTRLCHAR:"apg-ctrl-char",CLASS_LINEEND:"apg-line-end",CLASS_ERROR:"apg-error",CLASS_PHRASE:"apg-phrase",CLASS_EMPTYPHRASE:"apg-empty-phrase",CLASS_STATE:"apg-state",CLASS_STATS:"apg-stats",CLASS_TRACE:"apg-trace",CLASS_GRAMMAR:"apg-grammar",CLASS_RULES:"apg-rules",CLASS_RULESLINK:"apg-rules-link",CLASS_ATTRIBUTES:"apg-attrs"}},{}],15:[function(e,t,n){t.exports=function(){const t=e("./utilities"),n=e("./style"),s=new(e("./circular-buffer")),r=e("./identifiers"),o=this,i=16,a=80,l=[];let c=5e3,d=-1,u=0,p=0;const h=[];let m=null,g=null,f=null;const y=[],x=[],b=`<span class="${n.CLASS_LINEEND}">&bull;</span>`,w=`<span class="${n.CLASS_LINEEND}">&hellip;</span>`,E=`<span class="${n.CLASS_EMPTY}">&#120634;</span>`;this.traceObject="traceObject",this.filter={operators:[],rules:[]},this.setMaxRecords=function(e,t){d=-1,"number"==typeof e&&e>0?(c=Math.ceil(e),"number"==typeof t&&(d=Math.floor(t),d<0&&(d=-1))):c=0},this.getMaxRecords=function(){return c},this.getLastRecord=function(){return d},this.init=function(e,t,n){l.length=0,h.length=0,u=0,p=0,m=n,g=e,f=t,function(){const e=function(e){y[r.ALT]=e,y[r.CAT]=e,y[r.REP]=e,y[r.TLS]=e,y[r.TBS]=e,y[r.TRG]=e,y[r.AND]=e,y[r.NOT]=e,y[r.BKR]=e,y[r.BKA]=e,y[r.BKN]=e,y[r.ABG]=e,y[r.AEN]=e};let t=0;for(const e in o.filter.operators)t+=1;if(0!==t){for(const t in o.filter.operators){const n=t.toUpperCase();if("<ALL>"===n)return void e(!0);if("<NONE>"===n)return void e(!1)}e(!1);for(const e in o.filter.operators){const t=e.toUpperCase();if("ALT"===t)y[r.ALT]=!0===o.filter.operators[e];else if("CAT"===t)y[r.CAT]=!0===o.filter.operators[e];else if("REP"===t)y[r.REP]=!0===o.filter.operators[e];else if("AND"===t)y[r.AND]=!0===o.filter.operators[e];else if("NOT"===t)y[r.NOT]=!0===o.filter.operators[e];else if("TLS"===t)y[r.TLS]=!0===o.filter.operators[e];else if("TBS"===t)y[r.TBS]=!0===o.filter.operators[e];else if("TRG"===t)y[r.TRG]=!0===o.filter.operators[e];else if("BKR"===t)y[r.BKR]=!0===o.filter.operators[e];else if("BKA"===t)y[r.BKA]=!0===o.filter.operators[e];else if("BKN"===t)y[r.BKN]=!0===o.filter.operators[e];else if("ABG"===t)y[r.ABG]=!0===o.filter.operators[e];else{if("AEN"!==t)throw new Error(`trace.js: initOpratorFilter: '${e}' not a valid operator name. Must be <all>, <none>, alt, cat, rep, tls, tbs, trg, and, not, bkr, bka or bkn`);y[r.AEN]=!0===o.filter.operators[e]}}}else e(!1)}(),function(){const e=function(e){y[r.RNM]=e,y[r.UDT]=e;const t=g.length+f.length;x.length=0;for(let n=0;n<t;n+=1)x.push(e)};let t,n;const s=[];for(n=0;n<g.length;n+=1)s.push(g[n].lower);for(n=0;n<f.length;n+=1)s.push(f[n].lower);x.length=0,t=0;for(const e in o.filter.rules)t+=1;if(0!==t){for(const t in o.filter.rules){const n=t.toLowerCase();if("<all>"===n)return void e(!0);if("<none>"===n)return void e(!1)}e(!1),y[r.RNM]=!0,y[r.UDT]=!0;for(const e in o.filter.rules){const t=e.toLowerCase();if(n=s.indexOf(t),n<0)throw new Error(`trace.js: initRuleFilter: '${e}' not a valid rule or udt name`);x[n]=!0===o.filter.rules[e]}}else e(!0)}(),s.init(c)};const v=function(e){let t=!1;return t=e.type===r.RNM?!(!y[e.type]||!x[e.index]):e.type===r.UDT?!(!y[e.type]||!x[g.length+e.index]):y[e.type],t},T=function(e){return-1===d||e<=d};this.down=function(e,t,n,r,o,i){T(u)&&v(e)&&(h.push(u),l[s.increment()]={dirUp:!1,depth:p,thisLine:u,thatLine:void 0,opcode:e,state:t,phraseIndex:n,phraseLength:r,lookAnchor:o,lookAround:i},u+=1,p+=1)},this.up=function(e,t,n,r,o,i){if(T(u)&&v(e)){const a=u,c=h.pop(),d=s.getListIndex(c);-1!==d&&(l[d].thatLine=a),p-=1,l[s.increment()]={dirUp:!0,depth:p,thisLine:a,thatLine:c,opcode:e,state:t,phraseIndex:n,phraseLength:r,lookAnchor:o,lookAround:i},u+=1}},this.toTree=function(e){const n=function(){function e(e,n){let s,o,i;if(n)switch(e.op={id:n.type,name:t.opcodeToString(n.type)},e.opData=void 0,n.type){case r.RNM:e.opData=g[n.index].name;break;case r.UDT:e.opData=f[n.index].name;break;case r.BKR:s=n.index<g.length?g[n.index].name:f[n.index-g.length].name,o=n.bkrCase===r.BKR_MODE_CI?"%i":"%s",i=n.bkrMode===r.BKR_MODE_UM?"%u":"%p",e.opData=`\\\\${o}${i}${s}`;break;case r.TLS:e.opData=[];for(let t=0;t<n.string.length;t+=1)e.opData.push(n.string[t]);break;case r.TBS:e.opData=[];for(let t=0;t<n.string.length;t+=1)e.opData.push(n.string[t]);break;case r.TRG:case r.REP:e.opData=[n.min,n.max];break;default:throw new Error("unrecognized opcode")}else e.op={id:void 0,name:void 0},e.opData=void 0}function n(e,t,n){return e===r.MATCH?{index:t,length:n}:e===r.NOMATCH||e===r.EMPTY?{index:t,length:0}:null}let o=-1;function i(s,r,i){const a={id:o++,branch:-1,parent:s,up:!1,down:!1,depth:i,children:[]};return r?(a.down=!0,a.state={id:r.state,name:t.stateToString(r.state)},a.phrase=null,e(a,r.opcode)):(a.state={id:void 0,name:void 0},a.phrase=n(),e(a,void 0)),a}function a(s,r){r&&(s.up=!0,s.state={id:r.state,name:t.stateToString(r.state)},s.phrase=n(r.state,r.phraseIndex,r.phraseLength),s.down||e(s,r.opcode))}let c=0,d=-1,u=1;const h=[];let y,x,b,w,E=!0;const v=i(null,null,-1);for(h.push(v),x=v,s.forEach((e=>{if(w=l[e],E&&(E=!1,w.depth>0)){const e=w.dirUp?w.depth+1:w.depth;for(let t=0;t<e;t+=1)b=x,x=i(x,null,t),h.push(x),b.children.push(x)}w.dirUp?(x=h.pop(),a(x,w),x=h[h.length-1]):(b=x,x=i(x,w,w.depth),h.push(x),b.children.push(x))}));h.length>1;)x=h.pop(),a(x,null);if(0===v.children.length)throw new Error("trace.toTree(): parse tree has no nodes");if(0===h.length)throw new Error("trace.toTree(): integrity check: dummy root node disappeared?");y=v.children[0];let T=y;for(;y&&!y.down&&!y.up;)T=y,y=y.children[0];y=T,y.leftMost=!0,y.rightMost=!0,function e(t){if(d+=1,t.branch=u,d>p&&(p=d),0===t.children.length)c+=1;else for(let n=0;n<t.children.length;n+=1)n>0&&(u+=1),t.children[n].leftMost=!1,t.children[n].rightMost=!1,t.leftMost&&(t.children[n].leftMost=0===n),t.rightMost&&(t.children[n].rightMost=n===t.children.length-1),e(t.children[n]);d-=1}(y),y.branch=0;const A={string:[]};for(let e=0;e<m.length;e+=1)A.string[e]=m[e];A.rules=[];for(let e=0;e<g.length;e+=1)A.rules[e]=g[e].name;A.udts=[];for(let e=0;e<f.length;e+=1)A.udts[e]=f[e].name;let I;return A.id={},A.id.ALT={id:r.ALT,name:"ALT"},A.id.CAT={id:r.CAT,name:"CAT"},A.id.REP={id:r.REP,name:"REP"},A.id.RNM={id:r.RNM,name:"RNM"},A.id.TLS={id:r.TLS,name:"TLS"},A.id.TBS={id:r.TBS,name:"TBS"},A.id.TRG={id:r.TRG,name:"TRG"},A.id.UDT={id:r.UDT,name:"UDT"},A.id.AND={id:r.AND,name:"AND"},A.id.NOT={id:r.NOT,name:"NOT"},A.id.BKR={id:r.BKR,name:"BKR"},A.id.BKA={id:r.BKA,name:"BKA"},A.id.BKN={id:r.BKN,name:"BKN"},A.id.ABG={id:r.ABG,name:"ABG"},A.id.AEN={id:r.AEN,name:"AEN"},A.id.ACTIVE={id:r.ACTIVE,name:"ACTIVE"},A.id.MATCH={id:r.MATCH,name:"MATCH"},A.id.EMPTY={id:r.EMPTY,name:"EMPTY"},A.id.NOMATCH={id:r.NOMATCH,name:"NOMATCH"},A.treeDepth=p,A.leafNodes=c,I=y.down?y.up?"none":"right":y.up?"left":"both",A.branchesIncomplete=I,A.tree=function e(t,n){let s;const r={};if(r.id=t.id,r.branch=t.branch,r.leftMost=t.leftMost,r.rightMost=t.rightMost,s=t.state.name?t.state.name:"ACTIVE",r.state={id:t.state.id,name:s},s=t.op.name?t.op.name:"?",r.op={id:t.op.id,name:s},"string"==typeof t.opData)r.opData=t.opData;else if(Array.isArray(t.opData)){r.opData=[];for(let e=0;e<t.opData.length;e+=1)r.opData[e]=t.opData[e]}else r.opData=void 0;t.phrase?r.phrase={index:t.phrase.index,length:t.phrase.length}:r.phrase=null,r.depth=t.depth,r.children=[];for(let s=0;s<t.children.length;s+=1)t.children.length,r.children[s]=e(t.children[s],n);return r}(y,y.depth),A}();return e?JSON.stringify(n):n},this.toHtmlPage=function(e,n,s){return t.htmlToPage(this.toHtml(e,n),s)},this.indent=function(e){let t="";for(let n=0;n<e;n+=1)t+=".";return t};const A=function(e,n,s,r,o){if(0===r)return"";let a="";const l=o?",":"";switch(e){case i:a=l+t.charsToHex(n,s,r);break;case 10:if(o)return`,${t.charsToDec(n,s,r)}`;a=l+t.charsToDec(n,s,r);break;case 32:a=t.charsToUnicode(n,s,r);break;default:a=t.charsToAsciiHtml(n,s,r)}return a},I=function(e,t,s,o,i,l){let c,d,u,p,h="",m=b;const g=`<span class="${n.CLASS_REMAINDER}">`,f="</span>";let y=!1;switch(s){case r.EMPTY:h+=E;case r.NOMATCH:case r.ACTIVE:c=o,d=0,u=o,p=t.length-u;break;case r.MATCH:c=o,d=i,u=o+d,p=t.length-u;break;default:throw new Error("unrecognized state")}return m=b,d>a?(d=a,m=w,p=0):d+p>a&&(m=w,p=a-d),d>0&&(h+=l,h+=A(e,t,c,d,y),h+=f,y=!0),p>0&&(h+=g,h+=A(e,t,u,p,y),h+=f),h+m},k=function(e){if(null===g)return"";let c,d,u,p,h,y,x="";return x+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",x+="<th>operator</th><th>phrase</th></tr>\n",s.forEach((s=>{const v=l[s];switch(c=v.thisLine,d=void 0!==v.thatLine?v.thatLine:"--",u=!1,p=!1,h=!1,v.lookAround===r.LOOKAROUND_AHEAD&&(u=!0,h=!0,y=v.lookAnchor),v.opcode.type!==r.AND&&v.opcode.type!==r.NOT||(u=!0,h=!0,y=v.phraseIndex),v.lookAround===r.LOOKAROUND_BEHIND&&(p=!0,h=!0,y=v.lookAnchor),v.opcode.type!==r.BKA&&v.opcode.type!==r.BKN||(p=!0,h=!0,y=v.phraseIndex),x+="<tr>",x+=`<td>${c}</td><td>${d}</td>`,x+=`<td>${v.phraseIndex}</td>`,x+=`<td>${v.phraseLength}</td>`,x+=`<td>${v.depth}</td>`,x+="<td>",v.state){case r.ACTIVE:x+=`<span class="${n.CLASS_ACTIVE}">&darr;&nbsp;</span>`;break;case r.MATCH:x+=`<span class="${n.CLASS_MATCH}">&uarr;M</span>`;break;case r.NOMATCH:x+=`<span class="${n.CLASS_NOMATCH}">&uarr;N</span>`;break;case r.EMPTY:x+=`<span class="${n.CLASS_EMPTY}">&uarr;E</span>`;break;default:x+=`<span class="${n.CLASS_ACTIVE}">--</span>`}if(x+="</td>",x+="<td>",x+=o.indent(v.depth),u?x+=`<span class="${n.CLASS_LOOKAHEAD}">`:p&&(x+=`<span class="${n.CLASS_LOOKBEHIND}">`),x+=t.opcodeToString(v.opcode.type),v.opcode.type===r.RNM&&(x+=`(${g[v.opcode.index].name}) `),v.opcode.type===r.BKR){const e=v.opcode.bkrCase===r.BKR_MODE_CI?"%i":"%s",t=v.opcode.bkrMode===r.BKR_MODE_UM?"%u":"%p";x+=`(\\${e}${t}${g[v.opcode.index].name}) `}v.opcode.type===r.UDT&&(x+=`(${f[v.opcode.index].name}) `),v.opcode.type===r.TRG&&(x+=`(${function(e,t){let n="";if(t.type===r.TRG)if(e===i||32===e){let s=t.min.toString(16).toUpperCase();s.length%2!=0&&(s=`0${s}`),n+=e===i?"%x":"U+",n+=s,s=t.max.toString(16).toUpperCase(),s.length%2!=0&&(s=`0${s}`),n+=`&ndash;${s}`}else n=`%d${t.min.toString(10)}&ndash;${t.max.toString(10)}`;return n}(e,v.opcode)}) `),v.opcode.type===r.TBS&&(x+=`(${function(e,t){let n="";if(t.type===r.TBS){const s=Math.min(t.string.length,10);if(e===i||32===e){n+=e===i?"%x":"U+";for(let e=0;e<s;e+=1){let s;e>0&&(n+="."),s=t.string[e].toString(16).toUpperCase(),s.length%2!=0&&(s=`0${s}`),n+=s}}else{n="%d";for(let e=0;e<s;e+=1)e>0&&(n+="."),n+=t.string[e].toString(10)}s<t.string.length&&(n+=w)}return n}(e,v.opcode)}) `),v.opcode.type===r.TLS&&(x+=`(${function(e,n){let s="";if(n.type===r.TLS){const r=Math.min(n.string.length,5);if(e===i||10===e){let t,o,a;e===i?(s="%x",a=16):(s="%d",a=10);for(let e=0;e<r;e+=1)e>0&&(s+="."),o=n.string[e],o>=97&&o<=122?(t=o-32,s+=`${t.toString(a)}/${o.toString(a)}`.toUpperCase()):o>=65&&o<=90?(t=o,o+=32,s+=`${t.toString(a)}/${o.toString(a)}`.toUpperCase()):s+=o.toString(a).toUpperCase();r<n.string.length&&(s+=w)}else{s='"';for(let e=0;e<r;e+=1)s+=t.asciiChars[n.string[e]];r<n.string.length&&(s+=w),s+='"'}}return s}(e,v.opcode)}) `),v.opcode.type===r.REP&&(x+=`(${function(e,t){let n="";if(t.type===r.REP)if(e===i){let e=t.min.toString(16).toUpperCase();e.length%2!=0&&(e=`0${e}`),n=`x${e}`,t.max<1/0?(e=t.max.toString(16).toUpperCase(),e.length%2!=0&&(e=`0${e}`)):e="inf",n+=`&ndash;${e}`}else n=t.max<1/0?`${t.min.toString(10)}&ndash;${t.max.toString(10)}`:`${t.min.toString(10)}&ndash;inf`;return n}(e,v.opcode)}) `),h&&(x+="</span>"),x+="</td>",x+="<td>",x+=p?function(e,t,s,o,i,l){let c,d,u,p,h="",m=b;const g=`<span class="${n.CLASS_LOOKBEHIND}">`,f=`<span class="${n.CLASS_REMAINDER}">`,y="</span>";let x=!1;switch(s){case r.EMPTY:h+=E;case r.NOMATCH:case r.MATCH:case r.ACTIVE:c=o-i,d=l-c,u=l,p=t.length-u;break;default:throw new Error("unrecognized state")}return m=b,d>a?(d=a,m=w,p=0):d+p>a&&(m=w,p=a-d),d>0&&(h+=g,h+=A(e,t,c,d,x),h+=y,x=!0),p>0&&(h+=f,h+=A(e,t,u,p,x),h+=y),h+m}(e,m,v.state,v.phraseIndex,v.phraseLength,y):u?function(e,t,s,r,o){const i=`<span class="${n.CLASS_LOOKAHEAD}">`;return I(e,t,s,r,o,i)}(e,m,v.state,v.phraseIndex,v.phraseLength):function(e,t,s,r,o){const i=`<span class="${n.CLASS_MATCH}">`;return I(e,t,s,r,o,i)}(e,m,v.state,v.phraseIndex,v.phraseLength),x+="</td></tr>\n"})),x+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",x+="<th>operator</th><th>phrase</th></tr>\n",x+="</table>\n",x};this.toHtml=function(e,t){let s=8;if("string"==typeof e&&e.length>=3){const t=e.toLowerCase().slice(0,3);"hex"===t?s=i:"dec"===t?s=10:"uni"===t&&(s=32)}let r="";return r+=function(e,t){let s;switch(e){case i:s="hexadecimal";break;case 10:s="decimal";break;case 8:s="ASCII";break;case 32:s="UNICODE";break;default:throw new Error(`trace.js: htmlHeader: unrecognized mode: ${e}`)}let r="";return r+=`<p>display mode: ${s}</p>\n`,r+=`<table class="${n.CLASS_TRACE}">\n`,"string"==typeof t&&(r+=`<caption>${t}</caption>`),r}(s,t),r+=k(s),r+=function(){let e="";return e+="</table>\n",e+=`<p class="${n.CLASS_MONOSPACE}">legend:<br>\n`,e+="(a)&nbsp;-&nbsp;line number<br>\n",e+="(b)&nbsp;-&nbsp;matching line number<br>\n",e+="(c)&nbsp;-&nbsp;phrase offset<br>\n",e+="(d)&nbsp;-&nbsp;phrase length<br>\n",e+="(e)&nbsp;-&nbsp;tree depth<br>\n",e+="(f)&nbsp;-&nbsp;operator state<br>\n",e+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${n.CLASS_ACTIVE}">&darr;</span>&nbsp;&nbsp;phrase opened<br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${n.CLASS_MATCH}">&uarr;M</span> phrase matched<br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${n.CLASS_EMPTY}">&uarr;E</span> empty phrase matched<br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${n.CLASS_NOMATCH}">&uarr;N</span> phrase not matched<br>\n`,e+="operator&nbsp;-&nbsp;ALT, CAT, REP, RNM, TRG, TLS, TBS<sup>&dagger;</sup>, UDT, AND, NOT, BKA, BKN, BKR, ABG, AEN<sup>&Dagger;</sup><br>\n",e+="phrase&nbsp;&nbsp;&nbsp;-&nbsp;up to 80 characters of the phrase being matched<br>\n",e+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${n.CLASS_MATCH}">matched characters</span><br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${n.CLASS_LOOKAHEAD}">matched characters in look ahead mode</span><br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${n.CLASS_LOOKBEHIND}">matched characters in look behind mode</span><br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${n.CLASS_REMAINDER}">remainder characters(not yet examined by parser)</span><br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${n.CLASS_CTRLCHAR}">control characters, TAB, LF, CR, etc. (ASCII mode only)</span><br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${E} empty string<br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${b} end of input string<br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${w} input string display truncated<br>\n`,e+="</p>\n",e+=`<p class="${n.CLASS_MONOSPACE}">\n`,e+="<sup>&dagger;</sup>original ABNF operators:<br>\n",e+="ALT - alternation<br>\n",e+="CAT - concatenation<br>\n",e+="REP - repetition<br>\n",e+="RNM - rule name<br>\n",e+="TRG - terminal range<br>\n",e+="TLS - terminal literal string (case insensitive)<br>\n",e+="TBS - terminal binary string (case sensitive)<br>\n",e+="<br>\n",e+="<sup>&Dagger;</sup>super set SABNF operators:<br>\n",e+="UDT - user-defined terminal<br>\n",e+="AND - positive look ahead<br>\n",e+="NOT - negative look ahead<br>\n",e+="BKA - positive look behind<br>\n",e+="BKN - negative look behind<br>\n",e+="BKR - back reference<br>\n",e+="ABG - anchor - begin of input string<br>\n",e+="AEN - anchor - end of input string<br>\n",e+="</p>\n",e}(),r}}},{"./circular-buffer":8,"./identifiers":10,"./style":14,"./utilities":16}],16:[function(e,t,n){const s=e("./style"),r=e("../apg-conv-api/converter"),o=e("./emitcss"),i=e("./identifiers"),a=this,l=function(e,t,n){let s,r=t;for(;;){if(e<=0){r=0,s=0;break}if("number"!=typeof r){r=0,s=e;break}if(r>=e){r=e,s=e;break}if("number"!=typeof n){s=e;break}if(s=r+n,s>e){s=e;break}break}return{beg:r,end:s}};n.htmlToPage=function(e,t){let n;if("string"!=typeof e)throw new Error("utilities.js: htmlToPage: input HTML is not a string");n="string"!=typeof t?"htmlToPage":t;let s="";return s+="<!DOCTYPE html>\n",s+='<html lang="en">\n',s+="<head>\n",s+='<meta charset="utf-8">\n',s+=`<title>${n}</title>\n`,s+="<style>\n",s+=o(),s+="</style>\n",s+="</head>\n<body>\n",s+=`<p>${new Date}</p>\n`,s+=e,s+="</body>\n</html>\n",s},n.parserResultToHtml=function(e,t){let n,r,o=null;"string"==typeof t&&""!==t&&(o=t),n=!0===e.success?`<span class="${s.CLASS_MATCH}">true</span>`:`<span class="${s.CLASS_NOMATCH}">false</span>`,r=e.state===i.EMPTY?`<span class="${s.CLASS_EMPTY}">EMPTY</span>`:e.state===i.MATCH?`<span class="${s.CLASS_MATCH}">MATCH</span>`:e.state===i.NOMATCH?`<span class="${s.CLASS_NOMATCH}">NOMATCH</span>`:`<span class="${s.CLASS_NOMATCH}">unrecognized</span>`;let a="";return a+=`<table class="${s.CLASS_STATE}">\n`,o&&(a+=`<caption>${o}</caption>\n`),a+="<tr><th>state item</th><th>value</th><th>description</th></tr>\n",a+=`<tr><td>parser success</td><td>${n}</td>\n`,a+=`<td><span class="${s.CLASS_MATCH}">true</span> if the parse succeeded,\n`,a+=` <span class="${s.CLASS_NOMATCH}">false</span> otherwise`,a+="<br><i>NOTE: for success, entire string must be matched</i></td></tr>\n",a+=`<tr><td>parser state</td><td>${r}</td>\n`,a+=`<td><span class="${s.CLASS_EMPTY}">EMPTY</span>, `,a+=`<span class="${s.CLASS_MATCH}">MATCH</span> or \n`,a+=`<span class="${s.CLASS_NOMATCH}">NOMATCH</span></td></tr>\n`,a+=`<tr><td>string length</td><td>${e.length}</td><td>length of the input (sub)string</td></tr>\n`,a+=`<tr><td>matched length</td><td>${e.matched}</td><td>number of input string characters matched</td></tr>\n`,a+=`<tr><td>max matched</td><td>${e.maxMatched}</td><td>maximum number of input string characters matched</td></tr>\n`,a+=`<tr><td>max tree depth</td><td>${e.maxTreeDepth}</td><td>maximum depth of the parse tree reached</td></tr>\n`,a+=`<tr><td>node hits</td><td>${e.nodeHits}</td><td>number of parse tree node hits (opcode function calls)</td></tr>\n`,a+=`<tr><td>input length</td><td>${e.inputLength}</td><td>length of full input string</td></tr>\n`,a+=`<tr><td>sub-string begin</td><td>${e.subBegin}</td><td>sub-string first character index</td></tr>\n`,a+=`<tr><td>sub-string end</td><td>${e.subEnd}</td><td>sub-string end-of-string index</td></tr>\n`,a+=`<tr><td>sub-string length</td><td>${e.subLength}</td><td>sub-string length</td></tr>\n`,a+="</table>\n",a},n.charsToString=function(e,t,n){let s,o;if("number"==typeof t){if(t>=e.length)return"";s=t<0?0:t}else s=0;if("number"==typeof n){if(n<=0)return"";o=n>e.length-s?e.length:s+n}else o=e.length;return s<o?r.encode("UTF16LE",e.slice(s,o)).toString("utf16le"):""},n.stringToChars=function(e){return r.decode("STRING",e)},n.opcodeToString=function(e){let t="unknown";switch(e){case i.ALT:t="ALT";break;case i.CAT:t="CAT";break;case i.RNM:t="RNM";break;case i.UDT:t="UDT";break;case i.AND:t="AND";break;case i.NOT:t="NOT";break;case i.REP:t="REP";break;case i.TRG:t="TRG";break;case i.TBS:t="TBS";break;case i.TLS:t="TLS";break;case i.BKR:t="BKR";break;case i.BKA:t="BKA";break;case i.BKN:t="BKN";break;case i.ABG:t="ABG";break;case i.AEN:t="AEN";break;default:throw new Error("unrecognized opcode")}return t},n.stateToString=function(e){let t="unknown";switch(e){case i.ACTIVE:t="ACTIVE";break;case i.MATCH:t="MATCH";break;case i.EMPTY:t="EMPTY";break;case i.NOMATCH:t="NOMATCH";break;default:throw new Error("unrecognized state")}return t},n.asciiChars=["NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","BS","TAB","LF","VT","FF","CR","SO","SI","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","ESC","FS","GS","RS","US","&nbsp;","!","&#34;","#","$","%","&#38;","&#39;","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","&#60;","=","&#62;","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","&#92;","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","DEL"],n.charToHex=function(e){let t=e.toString(16).toUpperCase();switch(t.length){case 1:case 3:case 7:t=`0${t}`;break;case 2:case 6:t=`00${t}`;break;case 4:break;case 5:t=`000${t}`;break;default:throw new Error("unrecognized option")}return t},n.charsToDec=function(e,t,n){let s="";if(!Array.isArray(e))throw new Error("utilities.js: charsToDec: input must be an array of integers");const r=l(e.length,t,n);if(r.end>r.beg){s+=e[r.beg];for(let t=r.beg+1;t<r.end;t+=1)s+=`,${e[t]}`}return s},n.charsToHex=function(e,t,n){let s="";if(!Array.isArray(e))throw new Error("utilities.js: charsToHex: input must be an array of integers");const r=l(e.length,t,n);if(r.end>r.beg){s+=`\\x${a.charToHex(e[r.beg])}`;for(let t=r.beg+1;t<r.end;t+=1)s+=`,\\x${a.charToHex(e[t])}`}return s},n.charsToHtmlEntities=function(e,t,n){let s="";if(!Array.isArray(e))throw new Error("utilities.js: charsToHex: input must be an array of integers");const r=l(e.length,t,n);if(r.end>r.beg)for(let t=r.beg;t<r.end;t+=1)s+=`&#x${e[t].toString(16)};`;return s},n.charsToUnicode=function(e,t,n){let s="";if(!Array.isArray(e))throw new Error("utilities.js: charsToUnicode: input must be an array of integers");const r=l(e.length,t,n);if(r.end>r.beg)for(let t=r.beg;t<r.end;t+=1)s+=(o=e[t])>=55296&&o<=57343||o>1114111?` U+${a.charToHex(e[t])}`:`&#${e[t]};`;var o;return s},n.charsToJsUnicode=function(e,t,n){let s="";if(!Array.isArray(e))throw new Error("utilities.js: charsToJsUnicode: input must be an array of integers");const r=l(e.length,t,n);if(r.end>r.beg){s+=`\\u${a.charToHex(e[r.beg])}`;for(let t=r.beg+1;t<r.end;t+=1)s+=`,\\u${a.charToHex(e[t])}`}return s},n.charsToAscii=function(e,t,n){let s="";if(!Array.isArray(e))throw new Error("utilities.js: charsToAscii: input must be an array of integers");const r=l(e.length,t,n);for(let t=r.beg;t<r.end;t+=1){const n=e[t];s+=n>=32&&n<=126?String.fromCharCode(n):`\\x${a.charToHex(n)}`}return s},n.charsToAsciiHtml=function(e,t,n){if(!Array.isArray(e))throw new Error("utilities.js: charsToAsciiHtml: input must be an array of integers");let r,o="";const i=l(e.length,t,n);for(let t=i.beg;t<i.end;t+=1)r=e[t],o+=r<32||127===r?`<span class="${s.CLASS_CTRLCHAR}">${a.asciiChars[r]}</span>`:r>127?`<span class="${s.CLASS_CTRLCHAR}">U+${a.charToHex(r)}</span>`:a.asciiChars[r];return o},n.stringToAsciiHtml=function(e){const t=r.decode("STRING",e);return this.charsToAsciiHtml(t)}},{"../apg-conv-api/converter":4,"./emitcss":9,"./identifiers":10,"./style":14}],17:[function(e,t,n){globalThis.apgLib=e("./node-exports"),globalThis.apgConvApi=e("../apg-conv-api/node-exports")},{"../apg-conv-api/node-exports":5,"./node-exports":11}]},{},[17]);const{apgLib:ms}=globalThis;var gs,fs;(fs=gs||(gs={}))[fs.ALT=1]="ALT",fs[fs.CAT=2]="CAT",fs[fs.REP=3]="REP",fs[fs.RNM=4]="RNM",fs[fs.TRG=5]="TRG",fs[fs.TBS=6]="TBS",fs[fs.TLS=7]="TLS",fs[fs.UDT=11]="UDT",fs[fs.AND=12]="AND",fs[fs.NOT=13]="NOT",fs[fs.BKR=14]="BKR",fs[fs.BKA=15]="BKA",fs[fs.BKN=16]="BKN",fs[fs.ABG=17]="ABG",fs[fs.AEN=18]="AEN",fs[fs.ACTIVE=100]="ACTIVE",fs[fs.MATCH=101]="MATCH",fs[fs.EMPTY=102]="EMPTY",fs[fs.NOMATCH=103]="NOMATCH",fs[fs.SEM_PRE=200]="SEM_PRE",fs[fs.SEM_POST=201]="SEM_POST",fs[fs.SEM_OK=300]="SEM_OK",fs[fs.SEM_SKIP=301]="SEM_SKIP",fs[fs.ATTR_N=400]="ATTR_N",fs[fs.ATTR_R=401]="ATTR_R",fs[fs.ATTR_MR=402]="ATTR_MR",fs[fs.LOOKAROUND_NONE=500]="LOOKAROUND_NONE",fs[fs.LOOKAROUND_AHEAD=501]="LOOKAROUND_AHEAD",fs[fs.LOOKAROUND_BEHIND=502]="LOOKAROUND_BEHIND",fs[fs.BKR_MODE_UM=601]="BKR_MODE_UM",fs[fs.BKR_MODE_PM=602]="BKR_MODE_PM",fs[fs.BKR_MODE_CS=603]="BKR_MODE_CS",fs[fs.BKR_MODE_CI=604]="BKR_MODE_CI";const ys=(e,t)=>(n,s,r,o,i)=>(n===gs.SEM_PRE&&(i[e]=t(s,r,o,i)),gs.SEM_OK);var xs,bs,ws,Es;(bs=xs||(xs={})).Ethereum="sign-in-with-ethereum",bs.Solana="sign-in-with-solana",bs.X="sign-in-with-x",(Es=ws||(ws={})).ADDRESS_MISMATCH="ADDRESS_MISMATCH",Es.DOMAIN_MISMATCH="DOMAIN_MISMATCH",Es.URI_MISMATCH="URI_MISMATCH",Es.CHAIN_ID_MISMATCH="CHAIN_ID_MISMATCH",Es.ISSUED_TOO_FAR_IN_THE_PAST="ISSUED_TOO_FAR_IN_THE_PAST",Es.ISSUED_TOO_FAR_IN_THE_FUTURE="ISSUED_TOO_FAR_IN_THE_FUTURE",Es.EXPIRED="EXPIRED",Es.EXPIRES_BEFORE_ISSUANCE="EXPIRES_BEFORE_ISSUANCE",Es.VALID_AFTER_EXPIRATION="VALID_AFTER_EXPIRATION";ws.ADDRESS_MISMATCH,ws.DOMAIN_MISMATCH,ws.URI_MISMATCH,ws.CHAIN_ID_MISMATCH,ws.ISSUED_TOO_FAR_IN_THE_PAST,ws.ISSUED_TOO_FAR_IN_THE_FUTURE,ws.EXPIRED,ws.EXPIRES_BEFORE_ISSUANCE,ws.VALID_AFTER_EXPIRATION;const vs=[new URL("https://magiceden.io"),new URL("https://coralcube.io")];function Ts(e,t,n,s,r){var i;const a=vs.some((e=>s.startsWith(`${e.hostname} wants you to sign in with your Solana account:`)||s.includes(`URI: ${e.origin}`))),l=null!==(i=null==n?void 0:n.endsWith(".csb.app"))&&void 0!==i&&i;if(!a&&!l)return null;const c=/(Chain ID: solana:|Chain ID: eip155:)/.test(d=s)?xs.X:/(wants you to sign in with your Ethereum account)/.test(d)?xs.Ethereum:/(wants you to sign in with your Solana account)/.test(d)?xs.Solana:null;var d;if(!c)return null;switch(c){case xs.Solana:break;case xs.Ethereum:return null;case xs.X:if(!s.includes("wants you to sign in with your Solana account"))return null;break}const u=function(e,t){const n=new ms.parser;n.stats=new ms.stats,n.trace=new ms.trace,n.ast=new ms.ast;const s=ms.utils.charsToString,r=(e,t,n)=>new Date(s(e,t,n));n.ast.callbacks["message-domain"]=ys("domain",s),n.ast.callbacks["message-address"]=ys("address",s),n.ast.callbacks["message-statement"]=ys("statement",s),n.ast.callbacks["message-uri"]=ys("uri",((e,t,n)=>new URL(s(e,t,n)))),n.ast.callbacks["message-version"]=ys("version",s),n.ast.callbacks["message-chain-id"]=ys("chainId",s),n.ast.callbacks["message-nonce"]=ys("nonce",s),n.ast.callbacks["message-issued-at"]=ys("issuedAt",r),n.ast.callbacks["message-expiration-time"]=ys("expirationTime",r),n.ast.callbacks["message-not-before"]=ys("notBefore",r),n.ast.callbacks["message-request-id"]=ys("requestId",s),n.ast.callbacks["message-resources"]=ys("resources",((e,t,n)=>n?s(e,t,n).slice(3).split("\n- ").map((e=>new URL(e))):[])),e===xs.X&&(n.ast.callbacks["eth-account-id"]=n.ast.callbacks["message-address"],n.ast.callbacks["eth-chain-id"]=n.ast.callbacks["message-chain-id"],n.ast.callbacks["sol-account-id"]=n.ast.callbacks["message-address"],n.ast.callbacks["sol-chain-id"]=n.ast.callbacks["message-chain-id"]);let i=null;switch(e){case xs.Ethereum:i=o("fvTH5");break;case xs.Solana:i=o("iEXqR");break;case xs.X:i=o("1NBW0")}if(!i)throw new Error(`Could not find grammar for ${e}`);const a=new i,l=n.parse(a,e,t);if(!l.success){const e=l.maxMatched+1,n=t.slice(0,e),s=n.split("\n"),r=s[s.length-1].length-1,o=[n,r>-1?" ".repeat(r)+"^":"^"].join("\n");return{success:!1,error:new Error(o)}}const c={type:e};return n.ast.translate(c),{success:!0,data:c}}(c,s);if(!u.success)return{type:"PARSE_ERROR",format:c,title:r("siwErrorPopupTitle"),description:r("siwParseErrorDescription"),details:[{label:"PARSE_ERROR",message:u.error.message}]};const p=n?new URL(n):u.data.uri||new URL(""),h=/^(mainnet-beta|testnet|devnet|localhost)$/.test(e)?function(e){switch(e){case"mainnet-beta":return"mainnet";case"devnet":return"devnet";case"testnet":return"testnet";case"localhost":return"localnet"}}(e):"mainnet";const m=c===xs.X?`solana:${h}`:h,g=c===xs.X?`${m}:${t}`:t,f=function(e,t){const{expectedAddress:n,expectedURL:s,expectedChainId:r,issuedAtThreshold:o}=t,i=[],a=Date.now();if(e.address!==n&&i.push(ws.ADDRESS_MISMATCH),e.domain!==s.host&&i.push(ws.DOMAIN_MISMATCH),e.uri&&e.uri.origin!==s.origin&&i.push(ws.URI_MISMATCH),e.chainId&&(e.type!==xs.Solana&&e.chainId!==r||e.type===xs.Solana&&e.chainId.replace(/solana:/g,"")!==r)&&i.push(ws.CHAIN_ID_MISMATCH),e.issuedAt){const t=e.issuedAt.getTime();Math.abs(t-a)>o&&(t<a?i.push(ws.ISSUED_TOO_FAR_IN_THE_PAST):i.push(ws.ISSUED_TOO_FAR_IN_THE_FUTURE))}if(e.expirationTime){const t=e.expirationTime.getTime();t<=a&&i.push(ws.EXPIRED),e.issuedAt&&t<e.issuedAt.getTime()&&i.push(ws.EXPIRES_BEFORE_ISSUANCE),e.notBefore&&e.notBefore.getTime()>t&&i.push(ws.VALID_AFTER_EXPIRATION)}return i}(u.data,{expectedAddress:g,expectedURL:p,expectedChainId:m,issuedAtThreshold:6e5});return f.length?{type:"VERIFICATION_ERROR",format:c,title:r("siwErrorPopupTitle"),description:r("siwVerificationErrorDescription"),details:f.map((e=>({label:e,message:r(`siwErrorMessage_${e}`)})))}:null}Is("signInWithMessageError");const As=Is("userIgnoredSignInWithMessageError");function Is(e){return(t,n,s)=>{switch(s.type){case"PARSE_ERROR":t.capture(e,{data:{type:s.type,format:s.format,origin:n,error:s.details[0].message}});break;case"VERIFICATION_ERROR":t.capture(e,{data:{type:s.type,format:s.format,origin:n,error:JSON.stringify(s.details.map((e=>e.label)))}})}}}f=o("gkfw3"),re=o("gX5Te"),St=o("twk6W"),y=o("hFkH3"),q=o("aWXnn"),hn=o("3mrWC"),w=o("27SDj"),K=o("aklgB");var ks=o("8tcqI").Buffer;const Cs=e=>{const{t:n}=(0,h.useTranslation)(),[s,r]=(0,l.useState)(!1);return t(l).createElement(K.Container,null,t(l).createElement(K.Body,null,t(l).createElement(K.Icon,null,t(l).createElement(hn.TabIconHeader,{tabId:e.tabId,primaryText:e.title,secondaryText:(0,g.removeWebPrefixes)(e.origin),showWarning:!0})),t(l).createElement(q.Column,{justify:"center"},t(l).createElement(Rs,null,t(l).createElement(w.Text,{size:14,color:Ss},e.description))),s&&t(l).createElement(t(l).Fragment,null,e.details.map((({label:s,message:r},o)=>t(l).createElement(Ds,{key:s},t(l).createElement(Fs,null,t(l).createElement(Os,null,t(l).createElement(Ls,null,t(l).createElement(w.Text,{color:"#777",textAlign:"left",size:12,weight:600,lineHeight:17},n("siwErrorPagination",{n:o+1,total:e.details.length})),t(l).createElement(w.Text,{color:Ss,textAlign:"left",size:14,weight:600,lineHeight:17},s),t(l).createElement(Ps,null,t(l).createElement(w.Text,{size:14,weight:500,lineHeight:17,wordBreak:"break-word",textAlign:"left"},r))))))))),t(l).createElement(Bs,{size:14,color:"#777",hoverColor:Ss,onClick:()=>r(!s)},n(s?"siwErrorHideErrorDetails":"siwErrorShowErrorDetails"))),t(l).createElement(K.Footer,{plain:!0},t(l).createElement(y.Button,{onClick:e.onClose},"Close"),t(l).createElement(Ns,{size:14,color:"#777777",hoverColor:Ss,onClick:e.onIgnore},n("siwErrorIgnoreWarning"))))},Ss="#eb3742",Rs=f.default.div`
  border: 1px solid ${Ss};
  border-radius: 8px;
  padding: 10px 10px;
  margin-bottom: 10px;
  max-width: 100%;
  overflow-wrap: break-word;
`,Bs=(0,f.default)(w.Text)`
  margin: auto;
`,Ds=f.default.section`
  background: #2a2a2a;
  border-radius: 6px;
  margin-bottom: 10px;
`,Ls=f.default.div`
  padding-top: 0px;
  padding-bottom: 12px;
  padding-left: 18px;
  padding-right: 18px;
  border-top: 1px solid #222222;

  > * {
    margin-top: 12px;
  }
`,Ps=f.default.div`
  display: flex;
  justify-content: space-between;
`,Fs=f.default.code`
  font-family: "Menlo", monospace;
  font-size: 12px;
  display: block;
  max-width: 100%;
`,Os=f.default.pre`
  overflow-x: auto;
  white-space: pre-wrap;
  word-wrap: break-word;
`,Ns=(0,f.default)(w.Text)`
  padding-top: 8px;
  margin: auto;
`;function Ms(e,t,n){const{t:s}=(0,h.useTranslation)(),{cluster:r}=re.hooks.useSelectedSolanaConnection(),o=(0,l.useMemo)((()=>ks.from(e).toString("utf8")),[e]),i=(0,l.useMemo)((()=>Ts(r,t,n,o,s)),[r,t,n,o,s]),[a,c]=(0,l.useState)(!1),d=(0,l.useCallback)((()=>{c(!0),i&&As(St.analytics,n,i)}),[n,i]);return a||!i?null:{summary:i,onIgnore:d}}var Hs=function(e,t,n,s){return new(n||(n=Promise))((function(r,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((s=s.apply(e,t||[])).next())}))};const $s=f.default.div`
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  flex: 1;
  overflow: auto;
  padding: 0px 20px;
`,Us=f.default.div`
  display: flex;
  flex-direction: column;
  gap: 8px;
`,_s=f.default.div`
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-bottom: 24px;
`,qs=f.default.div`
  display: flex;
  justify-content: center;
  margin: 16px 0;
`,js=f.default.div`
  display: flex;
  flex-direction: column;
  margin-bottom: 24px;
  gap: 8px;
`,Gs=(0,f.default)(w.Text).attrs({size:14,weight:400,lineHeight:17,textAlign:"left"})``,zs=e=>{const{t:n}=(0,h.useTranslation)(),{origin:s,message:r,originalMethod:o,contractAddress:i,tabId:a,signInWithError:c,networkID:d,autoConfirmStatusCode:u,simulationResults:p,scanIsLoading:f=!1,scanWarnings:x,scanFailed:b,confirmApproval:w,denyApproval:v}=e,{formattedMessage:T,isJson:A}=Oe(r),I=Me(d),C=Ne(i,d),{save:S,isAutoConfirmIsTouched:R,showAutoConfirmRow:B}=Ke(s),D=An({origin:s,autoConfirmStatusCode:u,networkID:d}),L=["eth_signTypedData_v3","eth_signTypedData_v4"].includes(null!=o?o:""),P=[];if(C.value&&P.push(C),c)return t(l).createElement(Cs,Object.assign({},c.summary,{onIgnore:c.onIgnore,origin:s,tabId:a,onClose:v}));const F=null==p?void 0:p.expectedStateChanges,O=!!F&&(null==F?void 0:F.length)>0,N=null==F?void 0:F.flatMap((e=>{var t;const s=m.simulations.getImage(e.rawInfo);return[{valueText:null!==(t=m.simulations.rawStateChangeToLabel(e.rawInfo))&&void 0!==t?t:`${e.humanReadableDiff}`,valueColor:m.simulations.STATE_CHANGE_COLOR_MAP[m.simulations.computeStateChangeColor(e)],image:s,balanceChange:m.simulations.getBalanceChangeText(e.rawInfo,n)}]}));let M;(null==x?void 0:x.length)&&(M={severity:x[0].severity,message:x[0].message});const H=(null==x?void 0:x.length)&&x[0].severity===m.simulations.Severity.Critical;return t(l).createElement(K.Container,null,t(l).createElement(E.MultichainAccountHeader,null),t(l).createElement($s,null,t(l).createElement("div",null,t(l).createElement(V,{type:"SIGN_MESSAGE",domain:(0,g.removeWebPrefixes)(s),tabId:a}),t(l).createElement(_s,null,O?t(l).createElement(t(l).Fragment,null,t(l).createElement(Gs,{color:"#999999"},n("notificationPermissionRequestText")),t(l).createElement(Gs,{color:"#999999"},n("notificationBalanceChangesText"))):t(l).createElement(Gs,{color:"#999999"},n("notificationBalanceChangesText"))),t(l).createElement(le.FullHeightLoadingContent,{isLoading:f},(!!M||b)&&t(l).createElement(js,null,!!M&&t(l).createElement(t(l).Fragment,null,M.severity===m.simulations.Severity.Critical?t(l).createElement(k,{message:M.message,variant:"danger"}):t(l).createElement(k,{message:M.message,variant:"warning"})),b&&t(l).createElement(k,{message:n("notificationUnableToSimulateWarningText"),variant:"warning"})),t(l).createElement(Us,null,O?N?t(l).createElement(ps,{rows:N}):null:t(l).createElement(Fe,{message:T,isJson:A}),B&&L&&t(l).createElement(He,{rows:[D]}),t(l).createElement(He,{rows:[I]}),P.length>0&&t(l).createElement(He,{rows:P,header:n("notificationAdvancedDetailsText"),message:O?T:void 0,isJson:!!O&&A})))),t(l).createElement(qs,null,t(l).createElement(Gs,{color:"#999999"},n("notificationSignMessageFooter")))),t(l).createElement(K.Footer,null,t(l).createElement(y.ButtonPair,{primaryText:n("commandSign"),primaryTheme:H?"warning":"primary",secondaryText:n("commandCancel"),onPrimaryClicked:()=>Hs(void 0,void 0,void 0,(function*(){R&&(yield S()),w()})),onSecondaryClicked:v,primaryDisabled:f})))};h=o("43063"),m=o("7gANb"),l=o("29o0l"),g=o("Nt4tV"),f=o("gkfw3"),_=o("91Dw6"),y=o("hFkH3"),v=o("j81qC"),le=o("8oN8T"),w=o("27SDj"),E=o("cleOt"),K=o("aklgB");const Ws=f.default.div`
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  flex: 1;
  overflow: auto;
  padding: 0px 20px;
`,Vs=f.default.div`
  display: flex;
  flex-direction: column;
  gap: 8px;
`,Ks=f.default.div`
  display: flex;
  background-color: ${e=>e.color};
  padding: 16px;
  width: 100%;
  border-width: 1px;
  border-style: solid;
  border-color: ${e=>e.color};
  border-radius: 12px;
  gap: 8px;
`,Ys=f.default.div`
  margin-bottom: 24px;
`,Xs=f.default.div`
  display: flex;
  flex-direction: column;
  margin-bottom: 24px;
  gap: 8px;
`,Js=f.default.div`
  padding: 3px;
`,Qs=(0,f.default)(w.Text).attrs({size:14,weight:400,lineHeight:17,textAlign:"left"})``,Zs=f.default.div`
  display: flex;
  justify-content: center;
  margin: 16px 0;
`,er=e=>{const{t:n}=(0,h.useTranslation)(),{origin:s,message:r,tabId:o,signInWithError:i,networkID:a,scanIsLoading:c=!1,scanWarnings:d,confirmApproval:u,denyApproval:p}=e,{formattedMessage:f,isJson:x}=Oe(r),b=Me(a);if(i)return t(l).createElement(Cs,Object.assign({},i.summary,{onIgnore:i.onIgnore,origin:s,tabId:o,onClose:p}));let w;(null==d?void 0:d.length)&&(w={severity:d[0].severity,message:d[0].message});const T=(null==d?void 0:d.length)&&d[0].severity===m.simulations.Severity.Critical;return t(l).createElement(K.Container,null,t(l).createElement(E.MultichainAccountHeader,null),t(l).createElement(Ws,null,t(l).createElement("div",null,t(l).createElement(V,{type:"SIGN_MESSAGE",domain:(0,g.removeWebPrefixes)(s),tabId:o}),t(l).createElement(Ys,null,t(l).createElement(Qs,{color:"#999999"},n("notificationSignMessageParagraphText"))),t(l).createElement(le.FullHeightLoadingContent,{isLoading:c},!!w&&t(l).createElement(Xs,null,w.severity===m.simulations.Severity.Critical?t(l).createElement(Ks,{color:_.DANGER_COLOR},t(l).createElement(Js,null,t(l).createElement(v.IconDangerOctagon,{fill:"#222222"})),t(l).createElement(Qs,{color:"#222222",padding:"4px 0"},w.message)):t(l).createElement(Ks,{color:_.WARNING_COLOR},t(l).createElement(Js,null,t(l).createElement(v.IconDangerTriangle,{fill:"#222222"})),t(l).createElement(Qs,{color:"#222222",padding:"4px 0"},w.message))),t(l).createElement(Vs,null,t(l).createElement(Fe,{message:f,isJson:x}),t(l).createElement(He,{rows:[b]})))),t(l).createElement(Zs,null,t(l).createElement(Qs,{color:"#999999"},n("notificationSignMessageFooter")))),t(l).createElement(K.Footer,null,t(l).createElement(y.ButtonPair,{primaryText:n("commandSign"),primaryTheme:T?"warning":"primary",secondaryText:n("commandCancel"),onPrimaryClicked:u,onSecondaryClicked:p,primaryDisabled:c})))},tr=e=>{const{originalMethod:n}=e;return"eth_sign"===n||"personal_sign"===n?t(l).createElement(er,Object.assign({},e)):t(l).createElement(rs.EthSignTypedData,Object.assign({},e))};K=o("aklgB");var nr={};e(nr,"usePostResponseWithAnalytics",(function(){return rr}),(function(e){return rr=e}));Ct=o("h0VH5"),p=o("iOvk1"),i=o("cFUcx"),a=o("csW2r"),l=o("29o0l"),St=o("twk6W");var sr=function(e,t,n,s){return new(n||(n=Promise))((function(r,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((s=s.apply(e,t||[])).next())}))};const rr=function(e,t){return(n,s)=>{const{networkID:r,sequenceId:o,origin:i,originalMethod:a}=s,c=(0,l.useRef)(!1);return(0,l.useCallback)((s=>sr(this,void 0,void 0,(function*(){if(p.Chains.isEVMNetworkID(r)&&!c.current){const n=a;"error"in s?yield t({networkID:r,sequenceId:o,origin:i,method:n}):yield e({networkID:r,sequenceId:o,origin:i,method:n}),c.current=!0}return n(s)}))),[n,r,i,o,a])}}((function(e){return sr(this,void 0,void 0,(function*(){try{const t=e.networkID.replace("eip155:",""),n=(0,i.getSupportedChainDescriptor)(e.networkID.replace("eip155:",""));if("eip155"!==(null==n?void 0:n.chainType))throw new Error(`Failed to capture message signature event analytics: Unsupported Ethereum Network ID "${t}"`);return yield Ct.dapp.userApprovedAction(St.analytics,e.sequenceId,Object.assign(Object.assign({},n),{origin:e.origin,method:e.method}))}catch(e){a.telemetry.addBreadcrumb("analytics","Could not log dapp user action (approve)",a.Severity.Error),e instanceof Error?a.telemetry.captureError(e,a.FeatureTag.Provider):a.telemetry.captureError(new Error("Non-Error instance thrown in captureUserApprove: "+typeof e),a.FeatureTag.Provider)}}))}),(function(e){return sr(this,void 0,void 0,(function*(){try{const t=e.networkID.replace("eip155:",""),n=(0,i.getSupportedChainDescriptor)(t);if("eip155"!==(null==n?void 0:n.chainType))throw new Error(`Failed to capture message signature event analytics: Unsupported Ethereum Network ID "${t}"`);return yield Ct.dapp.userDeniedAction(St.analytics,e.sequenceId,Object.assign(Object.assign({},n),{origin:e.origin,method:e.method}))}catch(e){a.telemetry.addBreadcrumb("analytics","Could not log dapp user action (deny)",a.Severity.Error),e instanceof Error?a.telemetry.captureError(e,a.FeatureTag.Provider):a.telemetry.captureError(new Error("Non-Error instance thrown in captureUserDeny: "+typeof e),a.FeatureTag.Provider)}}))}));var or=o("8tcqI").Buffer,ir=function(e,t,n,s){return new(n||(n=Promise))((function(r,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((s=s.apply(e,t||[])).next())}))};const ar=t(l).memo((e=>{const{tabId:n,origin:s,requestId:r,sequenceId:o,message:i,originalMethod:a,hexChainId:c,autoConfirmStatusCode:d}=e,u=(0,p.hexToCAIP2)(c),h=jn(i),g=(0,Et.useQueryClient)(),f=(0,At.usePostOutgoingBackgroundResponse)(),y=(0,nr.usePostResponseWithAnalytics)(f,{networkID:u,sequenceId:o,origin:s,originalMethod:a}),{data:x}=re.hooks.useSelectedMultiChainAccount(),[b,w]=(0,l.useMemo)((()=>{var e;return[null!==(e=null==x?void 0:x.identifier)&&void 0!==e?e:"",(null==x?void 0:x.type)===Xe.AccountType.Ledger,null==x?void 0:x.addresses]}),[x]),E=(0,l.useCallback)((()=>{y({jsonrpc:"2.0",id:r,error:ct.userRejectedRequest(r).error})}),[r,y]),{pushDetailView:v}=(0,je.useDetailViews)(),T=(0,l.useCallback)((()=>ir(void 0,void 0,void 0,(function*(){const e=(0,Tt.getVaultProxy)(),t=yield ir(void 0,void 0,void 0,(function*(){return(0,Je.setLedgerTransportStateOverride)(g,Je.LEDGER_WAITING_FOR_APPROVAL_STATE),e.sign(b,{chainType:Qe.AddressType.EVM,signingType:"message",message:or.from(i.substring(2),"hex").toString("utf8")}).finally((()=>(0,Je.setLedgerTransportStateOverride)(g,Je.LEDGER_RECONNECTING_STATE)))}));let n;switch(t.status){case"success":n={jsonrpc:"2.0",id:r,result:{approvalType:"hardware",signature:t.signature}};break;case"error":n={jsonrpc:"2.0",id:r,error:ct.userRejectedRequest(r).error}}y(n)}))),[b,i,y,g,r]),A=(0,l.useCallback)((()=>ir(void 0,void 0,void 0,(function*(){w?v(t(l).createElement(K.LedgerWrapper,null,t(l).createElement(It.LedgerAction,{ledgerApp:Je.LedgerApp.EVM,ledgerAction:T,cancel:E}))):(St.analytics.capture("messageSubmissionTransactionConfirmation",{data:{originalMethod:a}}),y({jsonrpc:"2.0",id:r,result:{approvalType:"user"}}))}))),[w,a,v,T,E,y,r]),I=(0,m.getEthSignatureDetails)(h);switch(I.type){case m.ETH_SIGNATURE_TYPE.EIP2612:case m.ETH_SIGNATURE_TYPE.PERMIT2:return t(l).createElement(ss,{onClose:E,message:h,origin:s,tabId:n,Component:t(l).createElement(Gn.EthSendGaslessERC20ApprovalContainer,{signatureDetails:I,tabId:n,origin:s,onCancel:E,onConfirm:A,autoConfirmStatusCode:d})})}return t(l).createElement(ss,{onClose:E,message:h,origin:s,tabId:n,Component:t(l).createElement(tr,{tabId:n,origin:s,message:h,networkID:u,originalMethod:a,confirmApproval:A,denyApproval:E,autoConfirmStatusCode:d})})}));l=o("29o0l");var lr=o("6tBWY"),cr=(At=o("fxXaZ"),o("gRICw")),dr=o("JepPo"),ur=(St=o("twk6W"),l=o("29o0l"),f=o("gkfw3"),o("bhnmm"));h=o("43063"),l=o("29o0l"),g=o("Nt4tV"),f=o("gkfw3"),re=o("gX5Te"),_=o("91Dw6"),y=o("hFkH3"),v=o("j81qC"),le=o("8oN8T"),w=o("27SDj"),E=o("cleOt"),K=o("aklgB");const pr=(0,f.default)(w.Text).attrs({size:14,weight:400,lineHeight:17,textAlign:"left"})``,hr=f.default.div`
  display: flex;
  flex: 1;
  justify-content: center;
  margin: 16px 0;
`,mr=f.default.div`
  display: flex;
  flex-direction: column;
  gap: 8px;
`,gr=f.default.div`
  margin-bottom: 24px;
`,fr=(0,f.default)(K.Body)`
  display: flex;
  flex-wrap: wrap;
  align-content: space-between;
`,yr=f.default.div`
  display: flex;
  flex-direction: column;
  margin-bottom: 24px;
  gap: 8px;
`,xr=f.default.div`
  padding: 3px;
`,br=({tabId:e,origin:n,confirmApproval:s,denyApproval:r,originIsBlocklisted:o})=>{const{t:i}=(0,h.useTranslation)(),{data:a}=re.hooks.useSelectedMultiChainAccount();return t(l).createElement(K.Container,null,t(l).createElement(E.MultichainAccountHeader,{enableMenu:!0}),t(l).createElement(fr,null,t(l).createElement("div",null,t(l).createElement(V,{type:"CONNECT",domain:(0,g.removeWebPrefixes)(n),tabId:e,originIsBlocklisted:o}),t(l).createElement(gr,null,t(l).createElement(pr,{color:"#999999"},i("notificationApplicationApprovalParagraphText"))),t(l).createElement(le.FullHeightLoadingContent,{isLoading:!1},t(l).createElement(mr,null,o&&t(l).createElement(yr,null,t(l).createElement(Ks,{color:_.DANGER_COLOR},t(l).createElement(xr,null,t(l).createElement(v.IconDangerOctagon,{fill:"#222222"})),t(l).createElement(pr,{color:"#222222",padding:"4px 0"},"This website is unsafe to use and may attempt to steal your funds."))),t(l).createElement(He,{rows:[{label:"Account",value:t(l).createElement(w.Text,{size:14,weight:400,lineHeight:17,color:"#999999"},null==a?void 0:a.name)}]})))),t(l).createElement(hr,null,t(l).createElement(pr,{color:"#999999"},i("notificationApplicationApprovalConnectDisclaimer")))),t(l).createElement(K.Footer,null,t(l).createElement(y.ButtonPair,{primaryText:i("notificationApplicationApprovalActionButtonConnect"),primaryTheme:o?"warning":"primary",secondaryText:i("commandCancel"),onPrimaryClicked:s,onSecondaryClicked:r})))},wr=f.default.div.attrs({"data-testid":"loading-wrapper"})`
  display: flex;
  flex-direction: column;
  height: 100%;
  justify-content: center;
  align-items: center;
`,Er=t(l).memo((({isLoading:e,originIsBlocklisted:n,tabId:s,origin:r,confirmApproval:o,denyApproval:i})=>{const[a,c]=t(l).useState(!1);return e?t(l).createElement(wr,null,t(l).createElement(ur.Spinner,null)):n&&!a?t(l).createElement(ns,{origin:r,onConfirm:()=>{c(!0)},onClose:i}):t(l).createElement(br,{tabId:s,origin:r,confirmApproval:o,denyApproval:i,originIsBlocklisted:n})})),vr=t(l).memo((({tabId:e,origin:n,requestId:s,allowSwitchingAccountsFor:r})=>{const o=(0,At.usePostOutgoingBackgroundResponse)(),[i,a]=t(l).useState(!1),[c,d]=t(l).useState(!1);let u=0;null!==s&&(u=s);const p=(0,l.useCallback)((()=>{o({jsonrpc:"2.0",id:u,error:ct.userRejectedRequest(s).error})}),[s,u,o]),h=(0,l.useCallback)((()=>{o({jsonrpc:"2.0",id:u,result:null})}),[u,o]);(0,l.useEffect)((()=>{const e=new(0,dr.LocalStorage);(0,lr.detectPhishing)(e,St.analytics,n).then((e=>{d(e.result),a(!0)})).catch((()=>{a(!0)}))}),[n]);const m=!i,g=(0,l.useCallback)((e=>{var t;return null===(t=e.addresses)||void 0===t?void 0:t.every((e=>e.addressType!==r))}),[r]);return t(l).createElement(cr.MenuProvider,{accountDisabler:g,disableAccountManagement:!0},t(l).createElement(Er,{isLoading:m,originIsBlocklisted:c,tabId:e,origin:n,confirmApproval:h,denyApproval:p}))}));var Tr=o("c8OXT"),Ar=(At=o("fxXaZ"),je=o("i1NO2"),o("41yT6")),Ir=o("6SBoM");o("8gulk");var kr=o("3ljHn"),Cr=(Qe=o("7mQ3Y"),o("3TM8f")),Sr=o("ljwNC"),Rr=(g=o("Nt4tV"),f=o("gkfw3"),o("heKso")),Br=(p=o("iOvk1"),l=o("29o0l"),At=o("fxXaZ"),o("8tcqI").Buffer);const Dr=e=>{const n=(e=>{const{origin:t,requestId:n,messageBytes:s,tabId:r}=e,o=p.NetworkIDs.Bitcoin.Mainnet,i=(0,At.usePostOutgoingBackgroundResponse)(),a=(0,l.useCallback)((()=>{const e=ct.userRejectedRequest(n);i(e)}),[n,i]),c=(0,l.useCallback)((()=>{i(ct.result(n,{type:"signAndSend"}))}),[i,n]);return{networkID:o,message:Br.from(s).toString("utf8"),tabId:r,origin:t,requestId:n,confirmApproval:c,denyApproval:a}})(e);return t(l).createElement(er,Object.assign({},n))};p=o("iOvk1"),h=o("43063");var Lr=o("2NpJF"),Pr=o("dG1lS");function Fr(e,t){const n=Pr.Psbt.fromHex(e),s=Pr.networks.bitcoin,r=[];n.data.inputs.forEach(((e,t)=>{let o,i;if(e.witnessUtxo)o=e.witnessUtxo.script,i=e.witnessUtxo.value;else if(e.nonWitnessUtxo){const s=Pr.Transaction.fromBuffer(e.nonWitnessUtxo).outs[n.txInputs[t].index];o=s.script,i=s.value}if(o){const e=Pr.address.fromOutputScript(o,s);r.push({valueSats:null!=i?i:0,address:e})}}));const o=[];n.txOutputs.forEach(((e,t)=>{o.push({address:Pr.address.fromOutputScript(e.script,s),valueSats:e.value})}));const i=r.filter((e=>!(null==t?void 0:t.includes(e.address)))).reduce(((e,t)=>e+t.valueSats),0)-r.filter((e=>null==t?void 0:t.includes(e.address))).reduce(((e,t)=>e+t.valueSats),0)-o.filter((e=>!(null==t?void 0:t.includes(e.address)))).reduce(((e,t)=>e+t.valueSats),0)+o.filter((e=>null==t?void 0:t.includes(e.address))).reduce(((e,t)=>e+t.valueSats),0);return{inputInfos:r,outputInfos:o,netSatoshis:i}}(Pr=o("dG1lS")).initEccLib(Lr);const Or=e=>e/1e8;l=o("29o0l"),g=o("Nt4tV"),At=o("fxXaZ"),re=o("gX5Te"),x=o("1VwBG"),w=o("27SDj");const Nr=e=>{const{origin:n,requestId:s,message:r,tabId:o}=e,i=p.NetworkIDs.Bitcoin.Mainnet,{t:a}=(0,h.useTranslation)(),c=(0,At.usePostOutgoingBackgroundResponse)(),d=(0,l.useCallback)((()=>{const e=ct.userRejectedRequest(s);c(e)}),[s,c]),u=(0,l.useCallback)((()=>{c(ct.result(s,{type:"signAndSend"}))}),[c,s]),m=(0,l.useCallback)((()=>{var e;return t(l).createElement(t(l).Fragment,null,t(l).createElement(x.CardBodyRow,null,t(l).createElement(w.Text,{size:14,lineHeight:17,textAlign:"left",color:"#ffffff",style:{gap:10}},a("notificationTransactionApprovalNetwork")),t(l).createElement(w.Text,{size:14,weight:400,lineHeight:17,whiteSpace:"normal",wordBreak:"break-word","data-testid":"networkName",color:"#999999"},t(l).createElement(t(l).Fragment,null,null!==(e=p.Chains.getNetworkName(i))&&void 0!==e?e:""))))}),[i,a]),{data:f}=re.hooks.useSelectedMultiChainAccount(),y=null==f?void 0:f.addresses.map((e=>e.address)),b=Fr(e.message,y),E=(0,l.useCallback)((()=>t(l).createElement(Yt,{parsedInstructions:[...b.inputInfos.map(((e,t)=>({title:`Input #${t+1}`,rowItems:[{keyText:"address",valueText:((null==y?void 0:y.includes(e.address))?"You  ":"")+(0,g.formatHashMedium)(e.address),link:`https://mempool.space/address/${e.address}`},{keyText:"value",valueText:`${Or(e.valueSats)} BTC`}]}))),...b.outputInfos.map(((e,t)=>({title:`Output #${t+1}`,rowItems:[{keyText:"address",valueText:((null==y?void 0:y.includes(e.address))?"You  ":"")+(0,g.formatHashMedium)(e.address),link:`https://mempool.space/address/${e.address}`},{keyText:"value",valueText:`${Or(e.valueSats)} BTC`}]})))],isParsedInstructionsLoading:!1})),[b.inputInfos,b.outputInfos,y]),v=[{image:{type:"fungible",url:p.Chains.bitcoin.iconUrl},valueText:p.Chains.bitcoin.name,valueColor:b.netSatoshis>0?"GREEN":"RED",balanceChange:`${b.netSatoshis>0?"+":""}${Or(b.netSatoshis)} BTC`}];return{networkID:i,message:r,tabId:o,origin:n,requestId:s,confirmApproval:u,denyApproval:d,renderTransactionFee:m,simulationTooltipText:a("notificationTransactionApprovalEstimatesBasedOnSimulations"),simulationResults:v,renderAdvancedDetails:E}},Mr=e=>{const n=Nr(e);return t(l).createElement(te,{tabId:n.tabId,origin:n.origin,confirmApproval:n.confirmApproval,denyApproval:n.denyApproval,renderTransactionFee:n.renderTransactionFee,simulationResults:n.simulationResults,simulationWarnings:[],simulationTooltipText:n.simulationTooltipText,renderAdvancedDetails:n.renderAdvancedDetails})};h=o("43063"),l=o("29o0l"),g=o("Nt4tV"),c=o("8Ub2g");var Hr=o("dPvrC");w=o("27SDj");const $r=({origin:e,connectedChainId:t,messageChainId:n})=>{const{t:s}=(0,h.useTranslation)();return l.createElement(c.PopupAndNotificationFallbackContainer,{"data-testid":"incorrect-chain_id"},l.createElement(Hr.TransactionStatusDetail,{icon:"error",title:(0,g.removeWebPrefixes)(e),onClose:()=>window.close()},l.createElement(w.Text,{weight:400,size:14,lineHeight:20,color:"#fff"},s("notificationIncorrectEIP712ChainId")),l.createElement(w.Text,{weight:400,size:12,lineHeight:20,color:"#666666",style:{marginTop:16}},s("notificationIncorrectEIP712ChainIdDescription",{messageChainId:parseInt(n,16),connectedChainId:parseInt(t,16)}))))};h=o("43063"),l=o("29o0l"),c=o("8Ub2g"),Hr=o("dPvrC"),w=o("27SDj");const Ur=({hostname:e,enabledChains:t})=>{const{t:n}=(0,h.useTranslation)(),[s,r,o]="testnet"===t?[n("notificationIncorrectModeInTestnetTitle"),n("notificationIncorrectModeInTestnetDescription",{origin:e}),n("notificationIncorrectModeInTestnetProceed")]:[n("notificationIncorrectModeNotInTestnetTitle"),n("notificationIncorrectModeNotInTestnetDescription",{origin:e}),n("notificationIncorrectModeNotInTestnetProceed")];return l.createElement(c.PopupAndNotificationFallbackContainer,{"data-testid":"incorrect-mode"},l.createElement(Hr.TransactionStatusDetail,{icon:"error",title:s,onClose:()=>window.close()},l.createElement(w.Text,{weight:400,size:14,lineHeight:20,color:"#666666"},r),l.createElement(w.Text,{weight:400,size:14,lineHeight:20,color:"#666666",style:{marginTop:16}},o)))};h=o("43063"),l=o("29o0l"),g=o("Nt4tV"),f=o("gkfw3"),At=o("fxXaZ"),y=o("hFkH3"),hn=o("3mrWC"),w=o("27SDj"),E=o("cleOt"),K=o("aklgB");const _r=f.default.div`
  display: flex;
  flex-direction: row;
  align-items: center;

  > * {
    margin: 0px ${e=>e.spacing}px;
    text-align: left;
  }
`,qr=t(l).memo((({tabId:e,origin:n,requestId:s})=>{const r=(0,At.usePostOutgoingBackgroundResponse)();let o=0;null!==s&&(o=s);const i=(0,l.useCallback)((()=>{r({jsonrpc:"2.0",id:o,error:ct.userRejectedRequest(s).error})}),[s,o,r]);return t(l).createElement(jr,{tabId:e,origin:n,denyApproval:i})})),jr=({tabId:e,origin:n,denyApproval:s})=>{const{t:r}=(0,h.useTranslation)();return t(l).createElement(K.Container,null,t(l).createElement(E.MultichainAccountHeader,{enableMenu:!0}),t(l).createElement(K.Body,null,t(l).createElement(K.TopGroup,null,t(l).createElement(hn.TabIconHeader,{tabId:e,secondaryText:(0,g.removeWebPrefixes)(n)})),t(l).createElement(Gr,null,t(l).createElement(k,{message:r("bottomSheetReadOnlyAccountDescription"),variant:"warning"})),t(l).createElement(K.BottomGroup,null,t(l).createElement(_r,{spacing:4},t(l).createElement(w.Text,{size:14,lineHeight:17,color:"#777"},r("bottomSheetReadOnlyWarning"))))),t(l).createElement(K.Footer,{plain:!0},t(l).createElement(y.Button,{onClick:()=>s(n),"data-testid":"secondary-button"},r("commandCancel"))))},Gr=f.default.div`
  margin-bottom: 12px;
`;var zr={};e(zr,"SolanaSignAllTransactions",(function(){return jo}),(function(e){return jo=e}));Xe=o("4xbAj"),p=o("iOvk1"),Je=o("eJxop"),h=o("43063");var Wr=o("hMVEP"),Vr=(m=o("7gANb"),Et=o("7dHjq"),o("85iHy")),Kr=o("4VuRl"),Yr=(l=o("29o0l"),Tt=o("5MNpG"),At=o("fxXaZ"),je=o("i1NO2"),re=o("gX5Te"),o("goVRJ"));It=o("dXIE8"),h=o("43063"),l=o("29o0l"),c=o("8Ub2g"),Hr=o("dPvrC");const Xr=t(l).memo((e=>{const{onCancelClick:n,title:s,description:r,onIgnore:o,ignoreText:i}=e,{t:a}=(0,h.useTranslation)();return t(l).createElement(c.PopupAndNotificationFallbackContainer,null,t(l).createElement(Hr.TransactionStatusDetail,{icon:"error",title:s,buttonText:a("commandCancel"),onClose:n,onIgnore:o,ignoreText:i},t(l).createElement(c.DefaultErrorMessage,{margin:"10px 10px 5px 10px"},r)))}));var Jr={};e(Jr,"useSolanaInstructionParser",(function(){return Po}),(function(e){return Po=e}));Qe=o("7mQ3Y"),se=o("5uSEV"),Wr=o("hMVEP"),l=o("29o0l"),g=o("Nt4tV"),Ar=o("41yT6"),re=o("gX5Te");var Qr={};e(Qr,"decodeMessageAsync",(function(){return uo}),(function(e){return uo=e}));Wr=o("hMVEP"),a=o("csW2r"),xn=o("RVqnc"),Vr=o("85iHy");var Zr=o("fxm4i"),eo=function(e,t,n,s){return new(n||(n=Promise))((function(r,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((s=s.apply(e,t||[])).next())}))};const to=0,no=1,so=2,ro=0,oo=1,io=2,ao={};let lo=null;const co=(0,xn.toMilliseconds)({seconds:15}),uo=(e,n,s)=>eo(void 0,void 0,void 0,(function*(){const r=t(Vr).decode(s);let o,i;if("legacy"===Wr.VersionedMessage.deserializeMessageVersion(r)){const e=Wr.Message.from(r);i=null==e?void 0:e.instructions,o=null==e?void 0:e.accountKeys}else{const n=Wr.VersionedMessage.deserialize(r);i=n.compiledInstructions.map((e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:t(Vr).encode(e.data)})));const s=yield Promise.all(n.addressTableLookups.map((t=>eo(void 0,void 0,void 0,(function*(){return new(0,Wr.AddressLookupTableAccount)({key:t.accountKey,state:Wr.AddressLookupTableAccount.deserialize(yield e.getAccountInfo(t.accountKey).then((e=>e.data)))})}))))),a=new Set([...n.staticAccountKeys]);for(const e of s)for(const t of e.state.addresses)a.add(t);o=Array.from(a)}if(!i||!o)return;const a=[];for(let t=0;t<i.length;t++){const s=i[t],r=yield po(e,n,o,s);r&&a.push(Object.assign(Object.assign({},r),{rawData:null==s?void 0:s.data}))}return a})),po=(e,n,s,r)=>eo(void 0,void 0,void 0,(function*(){if(!(null==r?void 0:r.accounts)||!(null==r?void 0:r.programIdIndex))return;const i=t(Vr).decode(r.data),l=To([r.programIdIndex],s,0);if(!l)return;const{MARKETS:c,decodeInstruction:d}=yield o("8jYNb");try{if(l.equals(Wr.SystemProgram.programId))return go(n,r,s);if(l.equals(Zr.TOKEN_PROGRAM_ID)){const e=yield mo(i);return fo(n,r.accounts,e,s)}if(c.some((e=>e.programId&&e.programId.equals(l)))){const t=d(i);return yield ho(e,r,s,t)}return l.equals(Zr.ASSOCIATED_TOKEN_PROGRAM_ID)?{type:"createAssociatedTokenAccount",data:{programId:l}}:{type:"unknown",data:{rawData:r.data,programId:l}}}catch(e){a.telemetry.captureError(e,a.FeatureTag.Transaction)}})),ho=(e,t,n,s)=>eo(void 0,void 0,void 0,(function*(){if(!s||Object.keys(s).length>1)return;const{accounts:r,programIdIndex:i}=t,{MARKETS:a,Market:l}=yield o("8jYNb"),c=n&&a.find((e=>n.findIndex((t=>t.equals(e.address)))>-1));let d,u;try{const t=(null==c?void 0:c.address)||To(r,n,0);u=(null==c?void 0:c.programId)||To([i],n,0);const s=t.toBase58(),o=(new Date).getTime();e===lo&&s in ao&&o-ao[s].ts<co||(lo=e,ao[s]={market:yield l.load(e,t,{},u),ts:o}),d=ao[s].market}catch(e){console.error("Error loading market: "+e.message)}const p=Object.keys(s)[0];let h=s[p];if("settleFunds"===p){const e=bo(r,n);if(!e)return;h=Object.assign(Object.assign({},h),e)}else if("newOrder"===p){const e=yo(r,n);h=Object.assign(Object.assign({},h),e)}else if("newOrderV3"===p){const e=xo(r,n);h=Object.assign(Object.assign({},h),e)}return{type:p,data:h,market:d,marketInfo:c}})),mo=e=>eo(void 0,void 0,void 0,(function*(){const{TokenInstructions:t}=yield o("8jYNb");if(e)return 1!==e.length?t.decodeTokenInstructionData(e):1===e[0]?{initializeAccount:{}}:9===e[0]?{closeAccount:{}}:void 0})),go=(e,n,s)=>{const{programIdIndex:r,accounts:o,data:i}=n;if(!r||!o||!i)return;const a={programId:s[r],keys:o.map((e=>({pubkey:s[e]}))),data:t(Vr).decode(i)};let l;const c=Wr.SystemInstruction.decodeInstructionType(a);switch(c){case"Create":l=Wr.SystemInstruction.decodeCreateAccount(a);break;case"CreateWithSeed":l=Wr.SystemInstruction.decodeCreateWithSeed(a);break;case"Allocate":l=Wr.SystemInstruction.decodeAllocate(a);break;case"AllocateWithSeed":l=Wr.SystemInstruction.decodeAllocateWithSeed(a);break;case"Assign":l=Wr.SystemInstruction.decodeAssign(a);break;case"AssignWithSeed":l=Wr.SystemInstruction.decodeAssignWithSeed(a);break;case"Transfer":l=Wr.SystemInstruction.decodeTransfer(a);break;case"AdvanceNonceAccount":l=Wr.SystemInstruction.decodeNonceAdvance(a);break;case"WithdrawNonceAccount":l=Wr.SystemInstruction.decodeNonceWithdraw(a);break;case"InitializeNonceAccount":l=Wr.SystemInstruction.decodeNonceInitialize(a);break;case"AuthorizeNonceAccount":l=Wr.SystemInstruction.decodeNonceAuthorize(a);break;default:return}return!l||l.fromPubkey&&!e.equals(l.fromPubkey)?void 0:{type:"system"+c,data:l}},fo=(e,t,n,s)=>{if(!n||Object.keys(n).length>1)return;const r=Object.keys(n)[0];let o=n[r];if("initializeAccount"===r){const n=Eo(e,t,s);o=Object.assign(Object.assign({},o),n)}else if("transfer"===r){const n=wo(e,t,s);o=Object.assign(Object.assign({},o),n)}else if("closeAccount"===r){const n=vo(e,t,s);o=Object.assign(Object.assign({},o),n)}return{type:r,data:o}},yo=(e,t)=>({openOrdersPubkey:To(e,t,1),ownerPubkey:To(e,t,4)}),xo=(e,t)=>({openOrdersPubkey:To(e,t,1),ownerPubkey:To(e,t,7)}),bo=(e,t)=>{const n=To(e,t,5),s=To(e,t,6);if(n&&s)return{basePubkey:n,quotePubkey:s}},wo=(e,t,n)=>{const s=To(t,n,ro),r=To(t,n,oo),o=To(t,n,io);if(o&&e.equals(o))return{sourcePubkey:s,destinationPubkey:r,ownerPubkey:o}},Eo=(e,t,n)=>{const s=To(t,n,to),r=To(t,n,no),o=To(t,n,so);if(o&&e.equals(o))return{accountPubkey:s,mintPubkey:r,ownerPubkey:o}},vo=(e,t,n)=>{const s=To(t,n,ro),r=To(t,n,oo),o=To(t,n,io);if(o&&e.equals(o))return{sourcePubkey:s,destinationPubkey:r,ownerPubkey:o}},To=(e,t,n)=>{const s=e.length>n&&e[n];return(null==t?void 0:t.length)>s&&t[s]};var Ao=function(e,t,n,s){return new(n||(n=Promise))((function(r,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((s=s.apply(e,t||[])).next())}))};const Io={cancelOrder:"Cancel order",cancelOrderV2:"Cancel order",newOrder:"Place order",newOrderV3:"Place order",settleFunds:"Settle funds",matchOrders:"Match orders",initializeMint:"Initialize mint",initializeAccount:"Initialize account",transfer:"Transfer",approve:"Approve",mintTo:"Mint to",closeAccount:"Close account",systemCreate:"Create account",systemTransfer:"Transfer SOL",createAssociatedTokenAccount:"Create token account",signMessage:"Sign Message",unknown:"Unknown"},ko=[];const Co={side:{label:"Side",isAddress:!1},orderId:{label:"Order Id",isAddress:!1},limit:{label:"Limit",isAddress:!1},basePubkey:{label:"Base wallet",isAddress:!0},quotePubkey:{label:"Quote wallet",isAddress:!0}},So={amount:{label:"Amount",isAddress:!1},accountPubkey:{label:"Account",isAddress:!0},mintPubkey:{label:"Mint",isAddress:!0},sourcePubkey:{label:"Source",isAddress:!0},destinationPubkey:{label:"Destination",isAddress:!0},ownerPubkey:{label:"Owner",isAddress:!0}},Ro={toPubkey:{label:"To",isAddress:!0},accountPubkey:{label:"Account",isAddress:!0},basePubkey:{label:"Base",isAddress:!0},seed:{label:"Seed",isAddress:!1},noncePubkey:{label:"Nonce",isAddress:!0},authorizedPubkey:{label:"Authorized",isAddress:!0},newAuthorizedPubkey:{label:"New authorized",isAddress:!0},newAccountPubkey:{label:"New account",isAddress:!0},amount:{label:"Amount",isAddress:!1},lamports:{label:"Amount",isAddress:!1}},Bo=(e,t)=>{const{market:n,marketInfo:s,data:r}=e,o=[];s&&o.push({keyText:"Market",valueText:s.name});const{side:i,limitPrice:a,maxQuantity:l,maxBaseQuantity:c,orderType:d,ownerPubkey:u}=r;o.push({keyText:"Side",valueText:i.charAt(0).toUpperCase()+i.slice(1)}),o.push({keyText:"Price",valueText:(null==n?void 0:n.priceLotsToNumber(a))||""+a});const p=t?c:l;return o.push({keyText:"Quantity",valueText:(null==n?void 0:n.baseSizeLotsToNumber(p))||""+p}),o.push({keyText:"Type",valueText:d.charAt(0).toUpperCase()+d.slice(1)}),o.push({keyText:"Owner",valueText:oe(u)}),o},Do=(e,t,n,s)=>{Object.entries(t).forEach((([t,r])=>{const o=n[t];if(o){const{label:n,isAddress:i}=o,a=n;let l,c,d="";i?(d=oe(r),l=s(r.toString()),c="#AB9FF2"):"lamports"===t?d=`${(0,g.formatTokenAmount)((0,g.lamportsToSolana)(Number(r)))} SOL`:"function"==typeof r.toString()?d=r.toString():"string"==typeof r&&(d=r),e.push({keyText:a,valueText:d,valueColor:c,link:l})}}))},Lo=(e,t)=>{switch(e.type){case"cancelOrder":case"cancelOrderV2":case"matchOrders":case"settleFunds":return((e,t)=>{const n=[];return e.marketInfo&&n.push({keyText:"Market",valueText:e.marketInfo.name}),Do(n,e.data,Co,t),n})(e,t);case"closeAccount":case"initializeAccount":case"transfer":case"approve":case"mintTo":return((e,t)=>{const n=[];return Do(n,e.data,So,t),n})(e,t);case"systemCreate":case"systemTransfer":return((e,t)=>{const n=[];return Do(n,e.data,Ro,t),n})(e,t);case"newOrder":return Bo(e,!1);case"newOrderV3":return Bo(e,!0);case"unknown":case"createAssociatedTokenAccount":return((e,t)=>{const n=e.rawData,s=n.length>20?(0,g.formatHashMedium)(n,10):n,r=e.data.programId,o=t(r.toString());return s?[{keyText:"Program Id",valueText:oe(r),valueColor:"#AB9FF2",link:o},{keyText:"Data",valueText:s}]:[{keyText:"Program Id",valueText:oe(r),valueColor:"#AB9FF2",link:o}]})(e,t);default:return[]}},Po=e=>{const{connection:t}=re.hooks.useSelectedSolanaConnection(),{data:n}=re.hooks.useSelectedChainAddress(Qe.AddressType.Solana),{data:s}=re.hooks.usePreferredExplorers(),r=(0,l.useCallback)((e=>{if(!s||!(null==n?void 0:n.networkID))return"";const t=s.explorers[n.networkID];return(0,se.generateExplorerUrl)({endpoint:"address",explorerType:t,networkID:null==n?void 0:n.networkID,param:e})}),[s,null==n?void 0:n.networkID]),o=(null==n?void 0:n.address)?new(0,Wr.PublicKey)(n.address):void 0,{isFetching:i,data:a}=(0,Ar.useQuery)({enabled:!!o&&e.length>0,queryKey:["parsed-solana-instructions",JSON.stringify(e)],queryFn:()=>{if(!o)throw new Error("missing solana pubkey");return function(e,t,n){return Ao(this,void 0,void 0,(function*(){return e?(yield Promise.all(e.map((e=>(0,Qr.decodeMessageAsync)(t,n,e))))).filter((e=>void 0!==e)):[]}))}(e,t,o)},cacheTime:0}),c=a?a.flat():ko;return{isParsedInstructionsLoading:i,parsedInstructions:(0,l.useMemo)((()=>c.map((e=>{const t=(e=>{var t;const{type:n}=e;return null!==(t=Io[n])&&void 0!==t?t:n})(e);return{title:t,rowItems:Lo(e,r)}}))),[c,r])}};K=o("aklgB"),l=o("29o0l");var Fo=o("88tsI"),Oo=(x=o("1VwBG"),S=o("5YM9i"),R=o("hiI91"),o("8FDsw"));b=o("hFNr9"),w=o("27SDj");const No=({feeEstimation:e})=>{const{t:n}=(0,Fo.useTranslation)();return t(l).createElement(x.CardBodyRowContainer,null,t(l).createElement(x.CardBodyRowAlignedTop,null,t(l).createElement(w.Text,{size:14,lineHeight:17,textAlign:"left",color:"#ffffff",style:{gap:10,marginLeft:"-8px"}},t(l).createElement(S.Info,{info:t(l).createElement(b.TooltipContent,{paddingLeft:5,paddingRight:5},t(l).createElement(b.TooltipText,null,n("notificationTransactionApprovalSolanaAmountRequired")))}),n("notificationTransactionApprovalNetworkFee")),t(l).createElement(w.Text,{size:14,weight:400,lineHeight:17,whiteSpace:"normal",wordBreak:"break-word","data-testid":"transactionFee",color:"#999999"},null==e?t(l).createElement(R.SkeletonLoader,{width:"75px",height:"8px",borderRadius:"8px",backgroundColor:"#484848"}):t(l).createElement(Oo.SolBalance,null,e.estimatedFee))),(null==e?void 0:e.highFees)&&t(l).createElement(x.SubtextContainer,null,t(l).createElement(w.Text,{size:13,lineHeight:17,textAlign:"left",color:"#ffdc62",style:{gap:10}},n("notificationTransactionApprovalNetworkFeeHighWarning"))))};var Mo={};e(Mo,"usePostResponseWithAnalytics",(function(){return $o}),(function(e){return $o=e}));Ct=o("h0VH5"),p=o("iOvk1"),i=o("cFUcx"),a=o("csW2r"),l=o("29o0l"),St=o("twk6W");var Ho=function(e,t,n,s){return new(n||(n=Promise))((function(r,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((s=s.apply(e,t||[])).next())}))};const $o=function(e,t){return(n,s)=>{const{networkID:r,sequenceId:o,origin:i}=s,a=(0,l.useRef)(!1);return(0,l.useCallback)((s=>Ho(this,void 0,void 0,(function*(){return r&&p.Chains.isSolanaNetworkID(r)&&!a.current&&("error"in s?yield t({networkID:r,sequenceId:o,origin:i}):yield e({networkID:r,sequenceId:o,origin:i}),a.current=!0),n(s)}))),[n,r,i,o])}}((function(e){var t;return Ho(this,void 0,void 0,(function*(){try{const n=null!==(t=(0,i.legacyTokenListChainIdToSolanaChainId)(e.networkID.replace("solana:","")))&&void 0!==t?t:"localnet",s=(0,i.getSupportedChainDescriptor)(n);if("solana"!==(null==s?void 0:s.chainType))throw new Error(`Failed to capture transaction signature event analytics: Unsupported Solana Network ID "${n}"`);return yield Ct.dapp.userApprovedAction(St.analytics,e.sequenceId,Object.assign(Object.assign({},s),{origin:e.origin,method:"signAllTransactions"}))}catch(e){a.telemetry.addBreadcrumb("analytics","Could not log dapp user action (approve)",a.Severity.Error),e instanceof Error?a.telemetry.captureError(e,a.FeatureTag.Provider):a.telemetry.captureError(new Error("Non-Error instance thrown in captureUserApprove: "+typeof e),a.FeatureTag.Provider)}}))}),(function(e){var t;return Ho(this,void 0,void 0,(function*(){try{const n=null!==(t=(0,i.legacyTokenListChainIdToSolanaChainId)(e.networkID.replace("solana:","")))&&void 0!==t?t:"localnet",s=(0,i.getSupportedChainDescriptor)(n);if("solana"!==(null==s?void 0:s.chainType))throw new Error(`Failed to capture transaction signature event analytics: Unsupported Solana Network ID "${n}"`);return yield Ct.dapp.userDeniedAction(St.analytics,e.sequenceId,Object.assign(Object.assign({},s),{origin:e.origin,method:"signAllTransactions"}))}catch(e){a.telemetry.addBreadcrumb("analytics","Could not log dapp user action (deny)",a.Severity.Error),e instanceof Error?a.telemetry.captureError(e,a.FeatureTag.Provider):a.telemetry.captureError(new Error("Non-Error instance thrown in captureUserDeny: "+typeof e),a.FeatureTag.Provider)}}))}));var Uo=function(e,t,n,s){return new(n||(n=Promise))((function(r,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((s=s.apply(e,t||[])).next())}))};const _o=e=>{var n,s,r,o,i,a,c;const{origin:d,requestId:u,sequenceId:g,transactions:f}=e,{owner:y,isLedgerAccount:x,connection:b,ledgerSignAllTransactions:w,networkID:E}=((e,n,s,r)=>{const{t:o}=(0,h.useTranslation)(),i=(0,Et.useQueryClient)(),{data:a}=re.hooks.useSelectedMultiChainAccount(),[c,d,u,g]=(0,l.useMemo)((()=>{var e;const t=null===(e=null==a?void 0:a.addresses)||void 0===e?void 0:e.find((e=>p.Chains.isSolanaNetworkID(e.networkID))),n=null==t?void 0:t.address,s=t?t.networkID:void 0,r=(null==a?void 0:a.type)===Xe.AccountType.Ledger;return[null==a?void 0:a.identifier,null!=n?n:"",s,r]}),[a]),{connection:f}=re.hooks.useSelectedSolanaConnection(),{pushDetailView:y,popDetailView:x}=(0,je.useDetailViews)(),b=(0,At.usePostOutgoingBackgroundResponse)(),w=(0,Mo.usePostResponseWithAnalytics)(b,{networkID:u,sequenceId:s,origin:r}),E=(0,l.useCallback)((()=>Uo(void 0,void 0,void 0,(function*(){const s=new(0,Yr.LegacyIndexedDBProxy);if(!c||!u||!e||0===e.length)throw new Error("missing accountIdentifier or chainId or transaction");try{const r=(0,Tt.getVaultProxy)(),a={ownerAddress:d,networkID:u,data:{signature:""},type:m.PendingTransactionType.DappInteraction,display:{summary:{topLeft:{label:o("transactionsPendingAppInteraction")}}}},l=[];for(let t=0;t<e.length;t++){const n=e[t];(0,Je.setLedgerTransportStateOverride)(i,Je.LEDGER_WAITING_FOR_APPROVAL_STATE),l.push(yield(0,m.signSolanaTransactionAsync)({accountIdentifier:c,feePayer:new(0,Wr.PublicKey)(d),connection:f,accountSigner:r,transaction:n,pendingTransactionInput:a,storage:s}).finally((()=>(0,Je.setLedgerTransportStateOverride)(i,Je.LEDGER_RECONNECTING_STATE))))}const p=l.map((e=>({signedTransaction:m.TransactionSerializationUtils.serialize(e).transaction,signature:t(Vr).encode((0,Wr.getSignatures)(e)[0]),version:"version"in e?e.version:"legacy"})));w(ct.result(n,{type:"send",result:p}))}catch(e){throw(0,It.isKnownLedgerActionError)(e)&&y(t(l).createElement(K.LedgerWrapper,null,t(l).createElement(It.LedgerActionError,{ledgerActionError:e,onRetryClick:()=>{x()},onCancelClick:()=>{const e=ct.userRejectedRequest(n);w(e)}}))),new Error("error signing with ledger: "+e,{cause:e})}}))),[c,u,e,d,o,i,w,n,f,y,x]);return{owner:d,isLedgerAccount:g,connection:f,ledgerSignAllTransactions:E,networkID:u}})(f,u,g,d),[v,T]=(0,l.useState)(!1),{pushDetailView:A}=(0,je.useDetailViews)(),I=(0,At.usePostOutgoingBackgroundResponse)(),k=(0,Mo.usePostResponseWithAnalytics)(I,{networkID:E,sequenceId:g,origin:d}),C=(0,l.useMemo)((()=>f.map((e=>(0,Wr.transactionToBase58TransactionString)(e)))),[f]),{simulationWarnings:S,simulationResults:R,txnsScanResult:B,humanReadableError:D,isBlockRecommended:L,error:P}=m.simulations.useScannedTransaction("SolanaSignAllTransactions/useSignatureRequestProps",E?{networkID:E,origin:d,userAccount:y,transactions:C}:null),F=!!P,O=null===(s=null===(n=B.data)||void 0===n?void 0:n.computedEvaluation)||void 0===s?void 0:s.isRecentBlockhashExpired,N=null===(o=null===(r=B.data)||void 0===r?void 0:r.computedEvaluation)||void 0===o?void 0:o.insufficientSplTokens,M=null===(a=null===(i=B.data)||void 0===i?void 0:i.computedEvaluation)||void 0===a?void 0:a.notEnoughSol,H=L&&!v,$=null===(c=null==S?void 0:S[0])||void 0===c?void 0:c.message,{data:U}=(0,m.useEstimateFeeForMessages)(b,C),_=(0,l.useCallback)((()=>{const e=ct.userRejectedRequest(u);k(e)}),[u,k]),q=(0,l.useCallback)((()=>{x?A(t(l).createElement(K.LedgerWrapper,null,t(l).createElement(It.LedgerAction,{ledgerAction:w,cancel:_}))):k(ct.result(u,{type:"signAndSend"}))}),[x,A,w,_,k,u]),j=(0,l.useCallback)((()=>{T(!0)}),[T]);return{denyApproval:_,confirmApproval:q,feeEstimation:U,simulationWarnings:S,simulationResults:R,proceedToApproval:j,isRecentBlockhashExpired:O,insufficientSplTokens:N,notEnoughSol:M,isBlockRecommended:L,isMaliciousTransaction:H,warningMessage:$||void 0,isWarningIgnored:v,isLoadingSimulation:B.isLoading&&!B.isRefetching,humanReadableError:D,networkID:E,hasSimulationFailed:F}},qo=e=>{const{versionedTransactions:n,messageStrings:s}=(0,l.useMemo)((()=>{const t=[],n=[];for(const s of e.transactions){const e=(0,Wr.transactionStringToTransaction)(s,"bs58");t.push(e),n.push((0,Wr.transactionStringToMessageString)(s))}return{versionedTransactions:t,messageStrings:n}}),[e.transactions]),r=_o({tabId:e.tabId,origin:e.origin,requestId:e.requestId,sequenceId:e.sequenceId,transactions:n}),o=(0,Jr.useSolanaInstructionParser)(s),i=(0,l.useCallback)((()=>t(l).createElement(Yt,{parsedInstructions:o.parsedInstructions,isParsedInstructionsLoading:o.isParsedInstructionsLoading})),[o.isParsedInstructionsLoading,o.parsedInstructions]),{t:a}=(0,h.useTranslation)(),{save:c,isAutoConfirmIsTouched:d,showAutoConfirmRow:u}=Ke(e.origin),p=An({origin:e.origin,autoConfirmStatusCode:e.autoConfirmStatusCode,networkID:r.networkID?r.networkID:void 0}),m=[];if(u&&m.push(p),r.isMaliciousTransaction){const n=r.warningMessage||a("maliciousTransactionWarning");return t(l).createElement(yn,{tabId:e.tabId,origin:e.origin,message:n,ignoreWarningText:a("maliciousTransactionWarningIgnoreWarning"),buttonText:a("commandClose"),proceedToApproval:r.proceedToApproval,denyApproval:r.denyApproval})}return r.insufficientSplTokens&&!r.isWarningIgnored?t(l).createElement(Xr,{title:a("notEnoughSplTokensTitle"),description:a("notEnoughSplTokensDescription"),onCancelClick:r.denyApproval,ignoreText:a("maliciousTransactionWarningIgnoreWarning"),onIgnore:r.proceedToApproval}):r.isRecentBlockhashExpired&&!r.isWarningIgnored?t(l).createElement(Xr,{title:a("transactionExpiredPrimaryText"),description:a("transactionExpiredSecondaryText"),onCancelClick:r.denyApproval,ignoreText:a("maliciousTransactionWarningIgnoreWarning"),onIgnore:r.proceedToApproval}):r.notEnoughSol&&!r.isWarningIgnored?t(l).createElement(Xr,{title:a("accountWithoutEnoughSolPrimaryText"),description:a("accountWithoutEnoughSolSecondaryText"),onCancelClick:r.denyApproval,ignoreText:a("maliciousTransactionWarningIgnoreWarning"),onIgnore:r.proceedToApproval}):t(l).createElement(te,{isLoadingSimulation:r.isLoadingSimulation,tabId:e.tabId,origin:e.origin,confirmApproval:()=>Uo(void 0,void 0,void 0,(function*(){d&&(yield c()),r.confirmApproval&&r.confirmApproval()})),denyApproval:r.denyApproval,renderTransactionFee:()=>t(l).createElement(No,{feeEstimation:r.feeEstimation}),hasSimulationFailed:r.hasSimulationFailed,simulationResults:r.simulationResults,simulationWarnings:r.simulationWarnings,simulationTooltipText:a("notificationTransactionApprovalEstimatesBasedOnSimulations"),humanReadableError:r.humanReadableError,rows:m,renderAdvancedDetails:i,numTransactions:n.length})},jo=t(l).memo(qo,((e,t)=>(0,Kr.dequal)(e,t)));var Go={};e(Go,"SolanaSignAndSendTransaction",(function(){return Xo}),(function(e){return Xo=e}));Xe=o("4xbAj"),p=o("iOvk1"),Je=o("eJxop"),h=o("43063"),Wr=o("hMVEP"),m=o("7gANb"),Et=o("7dHjq"),Vr=o("85iHy"),l=o("29o0l"),Tt=o("5MNpG"),At=o("fxXaZ"),je=o("i1NO2"),re=o("gX5Te"),Yr=o("goVRJ"),It=o("dXIE8"),K=o("aklgB");var zo={};e(zo,"usePostResponseWithAnalytics",(function(){return Vo}),(function(e){return Vo=e}));Ct=o("h0VH5"),p=o("iOvk1"),i=o("cFUcx"),a=o("csW2r"),l=o("29o0l"),St=o("twk6W");var Wo=function(e,t,n,s){return new(n||(n=Promise))((function(r,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((s=s.apply(e,t||[])).next())}))};const Vo=function(e,t){return(n,s)=>{const{networkID:r,sequenceId:o,origin:i}=s,a=(0,l.useRef)(!1);return(0,l.useCallback)((s=>Wo(this,void 0,void 0,(function*(){return r&&p.Chains.isSolanaNetworkID(r)&&!a.current&&("error"in s?yield t({networkID:r,sequenceId:o,origin:i}):yield e({networkID:r,sequenceId:o,origin:i}),a.current=!0),n(s)}))),[n,r,i,o])}}((function(e){var t;return Wo(this,void 0,void 0,(function*(){try{const n=null!==(t=(0,i.legacyTokenListChainIdToSolanaChainId)(e.networkID.replace("solana:","")))&&void 0!==t?t:"localnet",s=(0,i.getSupportedChainDescriptor)(n);if("solana"!==(null==s?void 0:s.chainType))throw new Error(`Failed to capture transaction signature event analytics: Unsupported Solana Network ID "${n}"`);return yield Ct.dapp.userApprovedAction(St.analytics,e.sequenceId,Object.assign(Object.assign({},s),{origin:e.origin,method:"signAndSendTransaction"}))}catch(e){a.telemetry.addBreadcrumb("analytics","Could not log dapp user action (approve)",a.Severity.Error),e instanceof Error?a.telemetry.captureError(e,a.FeatureTag.Provider):a.telemetry.captureError(new Error("Non-Error instance thrown in captureUserApprove: "+typeof e),a.FeatureTag.Provider)}}))}),(function(e){var t;return Wo(this,void 0,void 0,(function*(){try{const n=null!==(t=(0,i.legacyTokenListChainIdToSolanaChainId)(e.networkID.replace("solana:","")))&&void 0!==t?t:"localnet",s=(0,i.getSupportedChainDescriptor)(n);if("solana"!==(null==s?void 0:s.chainType))throw new Error(`Failed to capture transaction signature event analytics: Unsupported Solana Network ID "${n}"`);return yield Ct.dapp.userDeniedAction(St.analytics,e.sequenceId,Object.assign(Object.assign({},s),{origin:e.origin,method:"signAndSendTransaction"}))}catch(e){a.telemetry.addBreadcrumb("analytics","Could not log dapp user action (deny)",a.Severity.Error),e instanceof Error?a.telemetry.captureError(e,a.FeatureTag.Provider):a.telemetry.captureError(new Error("Non-Error instance thrown in captureUserDeny: "+typeof e),a.FeatureTag.Provider)}}))}));var Ko=function(e,t,n,s){return new(n||(n=Promise))((function(r,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((s=s.apply(e,t||[])).next())}))};const Yo=e=>{var n,s,r,o,i,a,c;const{origin:d,requestId:u,sequenceId:g,transaction:f}=e,{owner:y,isLedgerAccount:x,connection:b,ledgerSignTransaction:w,networkID:E}=((e,n,s,r)=>{const{t:o}=(0,h.useTranslation)(),i=(0,Et.useQueryClient)(),{pushDetailView:a,popDetailView:c}=(0,je.useDetailViews)(),{data:d}=re.hooks.useSelectedMultiChainAccount(),[u,g,f,y]=(0,l.useMemo)((()=>{var e;const t=null===(e=null==d?void 0:d.addresses)||void 0===e?void 0:e.find((e=>p.Chains.isSolanaNetworkID(e.networkID))),n=null==t?void 0:t.address,s=t?t.networkID:void 0,r=(null==d?void 0:d.type)===Xe.AccountType.Ledger;return[null==d?void 0:d.identifier,null!=n?n:"",s,r]}),[d]),{connection:x}=re.hooks.useSelectedSolanaConnection(),b=(0,At.usePostOutgoingBackgroundResponse)(),w=(0,zo.usePostResponseWithAnalytics)(b,{networkID:f,sequenceId:s,origin:r}),E=(0,l.useCallback)((()=>Ko(void 0,void 0,void 0,(function*(){const s=new(0,Yr.LegacyIndexedDBProxy);if(!u||!f||!e)throw new Error("missing accountIdentifier or chainId or transaction");try{const r=(0,Tt.getVaultProxy)(),a={ownerAddress:g,networkID:f,data:{signature:""},type:m.PendingTransactionType.DappInteraction,display:{summary:{topLeft:{label:o("transactionsPendingAppInteraction")}}}};(0,Je.setLedgerTransportStateOverride)(i,Je.LEDGER_WAITING_FOR_APPROVAL_STATE);const l=yield(0,m.signSolanaTransactionAsync)({accountIdentifier:u,feePayer:new(0,Wr.PublicKey)(g),connection:x,accountSigner:r,transaction:e,pendingTransactionInput:a,storage:s}).finally((()=>(0,Je.setLedgerTransportStateOverride)(i,Je.LEDGER_RECONNECTING_STATE)));w(ct.result(n,{type:"send",signedTransaction:t(Vr).encode(l.serialize()),signature:t(Vr).encode((0,Wr.getSignatures)(l)[0]),version:"version"in l?l.version:"legacy"}))}catch(e){throw(0,It.isKnownLedgerActionError)(e)&&a(t(l).createElement(K.LedgerWrapper,null,t(l).createElement(It.LedgerActionError,{ledgerActionError:e,onRetryClick:()=>{c()},onCancelClick:()=>{const e=ct.userRejectedRequest(n);w(e)}}))),new Error("error signing with ledger: "+e,{cause:e})}}))),[u,f,e,g,o,i,x,w,n,a,c]);return{owner:g,isLedgerAccount:y,connection:x,ledgerSignTransaction:E,networkID:f}})(f,u,g,d),[v,T]=(0,l.useState)(!1),{pushDetailView:A}=(0,je.useDetailViews)(),I=(0,At.usePostOutgoingBackgroundResponse)(),k=(0,zo.usePostResponseWithAnalytics)(I,{networkID:E,sequenceId:g,origin:d}),{simulationWarnings:C,humanReadableError:S,simulationResults:R,txnsScanResult:B,isBlockRecommended:D,error:L}=m.simulations.useScannedTransaction("SolanaSignAndSendTransaction/useSignatureRequestProps",E?{networkID:E,origin:d,userAccount:y,transactions:[(0,Wr.transactionToBase58TransactionString)(f)]}:null),P=!!L,F=null===(s=null===(n=B.data)||void 0===n?void 0:n.computedEvaluation)||void 0===s?void 0:s.isRecentBlockhashExpired,O=null===(o=null===(r=B.data)||void 0===r?void 0:r.computedEvaluation)||void 0===o?void 0:o.insufficientSplTokens,N=null===(a=null===(i=B.data)||void 0===i?void 0:i.computedEvaluation)||void 0===a?void 0:a.notEnoughSol,M=D&&!v,H=null===(c=null==C?void 0:C[0])||void 0===c?void 0:c.message,{data:$}=(0,m.useEstimateFeeForMessages)(b,[(0,Wr.transactionToBase58TransactionString)(f)]),U=(0,l.useCallback)((()=>{const e=ct.userRejectedRequest(u);k(e)}),[u,k]),_=(0,l.useCallback)((()=>{x?A(t(l).createElement(K.LedgerWrapper,null,t(l).createElement(It.LedgerAction,{ledgerAction:w,cancel:U}))):k(ct.result(u,{type:"signAndSend"}))}),[x,A,w,U,k,u]),q=(0,l.useCallback)((()=>{T(!0)}),[T]);return{denyApproval:U,confirmApproval:_,feeEstimation:$,simulationWarnings:C,simulationResults:R,proceedToApproval:q,isRecentBlockhashExpired:F,insufficientSplTokens:O,notEnoughSol:N,isBlockRecommended:D,isMaliciousTransaction:M,warningMessage:H||void 0,isWarningIgnored:v,isLoadingSimulation:B.isLoading&&!B.isRefetching,humanReadableError:S,networkID:E,hasSimulationFailed:P}},Xo=e=>{const n=(0,l.useMemo)((()=>(0,Wr.transactionStringToTransaction)(e.transaction,"bs58")),[e.transaction]),s=Yo({tabId:e.tabId,origin:e.origin,requestId:e.requestId,sequenceId:e.sequenceId,transaction:n}),r=(0,Jr.useSolanaInstructionParser)([(0,Wr.transactionStringToMessageString)(e.transaction)]),o=(0,l.useCallback)((()=>t(l).createElement(Yt,{parsedInstructions:r.parsedInstructions,isParsedInstructionsLoading:r.isParsedInstructionsLoading})),[r.isParsedInstructionsLoading,r.parsedInstructions]),{t:i}=(0,h.useTranslation)(),{save:a,isAutoConfirmIsTouched:c,showAutoConfirmRow:d}=Ke(e.origin),u=An({origin:e.origin,autoConfirmStatusCode:e.autoConfirmStatusCode,networkID:s.networkID?s.networkID:void 0}),p=[];if(d&&p.push(u),s.isMaliciousTransaction){const n=s.warningMessage||i("maliciousTransactionWarning");return t(l).createElement(yn,{tabId:e.tabId,origin:e.origin,message:n,ignoreWarningText:i("maliciousTransactionWarningIgnoreWarning"),buttonText:i("commandClose"),proceedToApproval:s.proceedToApproval,denyApproval:s.denyApproval})}return s.insufficientSplTokens&&!s.isWarningIgnored?t(l).createElement(Xr,{title:i("notEnoughSplTokensTitle"),description:i("notEnoughSplTokensDescription"),onCancelClick:s.denyApproval,ignoreText:i("maliciousTransactionWarningIgnoreWarning"),onIgnore:s.proceedToApproval}):s.isRecentBlockhashExpired&&!s.isWarningIgnored?t(l).createElement(Xr,{title:i("transactionExpiredPrimaryText"),description:i("transactionExpiredSecondaryText"),onCancelClick:s.denyApproval,ignoreText:i("maliciousTransactionWarningIgnoreWarning"),onIgnore:s.proceedToApproval}):s.notEnoughSol&&!s.isWarningIgnored?t(l).createElement(Xr,{title:i("accountWithoutEnoughSolPrimaryText"),description:i("accountWithoutEnoughSolSecondaryText"),onCancelClick:s.denyApproval,ignoreText:i("maliciousTransactionWarningIgnoreWarning"),onIgnore:s.proceedToApproval}):t(l).createElement(te,{isLoadingSimulation:s.isLoadingSimulation,tabId:e.tabId,origin:e.origin,confirmApproval:()=>Ko(void 0,void 0,void 0,(function*(){c&&(yield a()),s.confirmApproval&&s.confirmApproval()})),denyApproval:s.denyApproval,renderTransactionFee:()=>t(l).createElement(No,{feeEstimation:s.feeEstimation}),simulationResults:s.simulationResults,simulationWarnings:s.simulationWarnings,simulationTooltipText:i("notificationTransactionApprovalEstimatesBasedOnSimulations"),hasSimulationFailed:s.hasSimulationFailed,renderAdvancedDetails:o,humanReadableError:s.humanReadableError,rows:p})};var Jo={};e(Jo,"SolanaSignIn",(function(){return li}),(function(e){return li=e}));Xe=o("4xbAj"),p=o("iOvk1"),Qe=o("7mQ3Y"),l=o("29o0l"),Tt=o("5MNpG"),At=o("fxXaZ"),je=o("i1NO2"),re=o("gX5Te"),It=o("dXIE8"),K=o("aklgB"),h=o("43063"),l=o("29o0l"),g=o("Nt4tV"),f=o("gkfw3"),_=o("91Dw6"),y=o("hFkH3"),q=o("aWXnn"),hn=o("3mrWC"),le=o("8oN8T"),w=o("27SDj"),E=o("cleOt"),K=o("aklgB");const Qo=e=>{const{tabId:n,origin:s,signInData:r,connect:o,errorDetails:i,confirmApproval:a,denyApproval:c,isLoading:d}=e,{t:u}=(0,h.useTranslation)(),p=i.reduce(((e,t)=>(e[t.label]=t.message,e)),{});return t(l).createElement(K.Container,null,t(l).createElement(E.MultichainAccountHeader,null),t(l).createElement(K.Body,null,t(l).createElement(K.TopGroup,null,t(l).createElement(hn.TabIconHeader,{tabId:n,primaryText:u("siwsTitle"),secondaryText:(0,g.removeWebPrefixes)(s),headerStyle:hn.IconHeaderStyle.Small,showError:!0})),t(l).createElement(q.Column,{justify:"center"},t(l).createElement(Zo,null,t(l).createElement(w.Text,{size:14,color:_.ERROR_COLOR},u("siwsVerificationErrorDescription")))),o&&t(l).createElement(Jt,null),t(l).createElement(le.LoadingContent,{isLoading:d},t(l).createElement(Qt,{statement:r.statement||""}),t(l).createElement(en,{signInData:r,errorObject:p}))),t(l).createElement(K.Footer,null,t(l).createElement(y.ButtonPair,{primaryText:u("notificationApplicationApprovalActionButtonSignIn"),secondaryText:u("commandCancel"),onPrimaryClicked:a,onSecondaryClicked:c,primaryTheme:"warning"})))},Zo=f.default.div`
  border: 1px solid ${_.ERROR_COLOR};
  border-radius: 8px;
  padding: 10px 10px;
  margin-bottom: 10px;
  max-width: 100%;
  overflow-wrap: break-word;
`;h=o("43063"),l=o("29o0l"),g=o("Nt4tV"),y=o("hFkH3"),hn=o("3mrWC"),le=o("8oN8T"),E=o("cleOt"),K=o("aklgB");const ei=e=>{const{tabId:n,origin:s,signInData:r,connect:o,confirmApproval:i,denyApproval:a,isLoading:c}=e,{t:d}=(0,h.useTranslation)(),u=d("siwsAlternateStatement",{domain:r.domain,address:r.address});return t(l).createElement(K.Container,null,t(l).createElement(E.MultichainAccountHeader,null),t(l).createElement(K.Body,null,t(l).createElement(K.TopGroup,null,t(l).createElement(hn.TabIconHeader,{tabId:n,primaryText:d("siwsTitle"),secondaryText:(0,g.removeWebPrefixes)(s),headerStyle:hn.IconHeaderStyle.Small})),o&&t(l).createElement(Jt,null),t(l).createElement(le.LoadingContent,{isLoading:c},t(l).createElement(Qt,{statement:r.statement||u}),t(l).createElement(en,{signInData:r}))),t(l).createElement(K.Footer,null,t(l).createElement(y.ButtonPair,{primaryText:d("notificationApplicationApprovalActionButtonSignIn"),secondaryText:d("commandCancel"),onPrimaryClicked:i,onSecondaryClicked:a})))};var ti={};e(ti,"usePostResponseWithAnalytics",(function(){return si}),(function(e){return si=e}));Ct=o("h0VH5"),p=o("iOvk1"),i=o("cFUcx"),a=o("csW2r"),l=o("29o0l"),St=o("twk6W");var ni=function(e,t,n,s){return new(n||(n=Promise))((function(r,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((s=s.apply(e,t||[])).next())}))};const si=function(e,t){return(n,s)=>{const{networkID:r,sequenceId:o,origin:i}=s,a=(0,l.useRef)(!1);return(0,l.useCallback)((s=>ni(this,void 0,void 0,(function*(){return r&&p.Chains.isSolanaNetworkID(r)&&!a.current&&("error"in s?yield t({networkID:r,sequenceId:o,origin:i}):yield e({networkID:r,sequenceId:o,origin:i}),a.current=!0),n(s)}))),[n,r,i,o])}}((function(e){var t;return ni(this,void 0,void 0,(function*(){try{const n=null!==(t=(0,i.legacyTokenListChainIdToSolanaChainId)(e.networkID.replace("solana:","")))&&void 0!==t?t:"localnet",s=(0,i.getSupportedChainDescriptor)(n);if("solana"!==(null==s?void 0:s.chainType))throw new Error(`Failed to capture message signature event analytics: Unsupported Solana Network ID "${n}"`);return yield Ct.dapp.userApprovedAction(St.analytics,e.sequenceId,Object.assign(Object.assign({},s),{origin:e.origin,method:"signIn"}))}catch(e){a.telemetry.addBreadcrumb("analytics","Could not log dapp user action (approve)",a.Severity.Error),e instanceof Error?a.telemetry.captureError(e,a.FeatureTag.Provider):a.telemetry.captureError(new Error("Non-Error instance thrown in captureUserApprove: "+typeof e),a.FeatureTag.Provider)}}))}),(function(e){var t;return ni(this,void 0,void 0,(function*(){try{const n=null!==(t=(0,i.legacyTokenListChainIdToSolanaChainId)(e.networkID.replace("solana:","")))&&void 0!==t?t:"localnet",s=(0,i.getSupportedChainDescriptor)(n);if("solana"!==(null==s?void 0:s.chainType))throw new Error(`Failed to capture message signature event analytics: Unsupported Solana Network ID "${n}"`);return yield Ct.dapp.userDeniedAction(St.analytics,e.sequenceId,Object.assign(Object.assign({},s),{origin:e.origin,method:"signIn"}))}catch(e){a.telemetry.addBreadcrumb("analytics","Could not log dapp user action (deny)",a.Severity.Error),e instanceof Error?a.telemetry.captureError(e,a.FeatureTag.Provider):a.telemetry.captureError(new Error("Non-Error instance thrown in captureUserDeny: "+typeof e),a.FeatureTag.Provider)}}))}));var ri=o("8tcqI").Buffer,oi=function(e,t,n,s){return new(n||(n=Promise))((function(r,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((s=s.apply(e,t||[])).next())}))};const ii=(0,Tt.getVaultProxy)(),ai=e=>{const{isLedger:n,networkID:s,signMessage:r}=(()=>{const{data:e}=re.hooks.useSelectedMultiChainAccount();return(0,l.useMemo)((()=>{var t,n;const s=null!==(t=null==e?void 0:e.identifier)&&void 0!==t?t:"",r=null===(n=null==e?void 0:e.addresses)||void 0===n?void 0:n.find((e=>p.Chains.isSolanaNetworkID(e.networkID)));return{isLedger:(null==e?void 0:e.type)===Xe.AccountType.Ledger,networkID:null==r?void 0:r.networkID,signMessage:e=>oi(void 0,void 0,void 0,(function*(){const t=ri.from(e).toString("utf-8"),n=yield ii.sign(s,{chainType:Qe.AddressType.Solana,signingType:"message",message:t});if("success"===n.status)return n.signature;throw new Error(`[${n.type}] ${n.message}`)}))}}),[e])})(),{tabId:o,origin:i,requestId:a,sequenceId:c,connect:d,signInData:u,message:h,errorDetails:m}=e,g=(new TextEncoder).encode(h),f=(0,At.usePostOutgoingBackgroundResponse)(),y=(0,ti.usePostResponseWithAnalytics)(f,{networkID:s,sequenceId:c,origin:i}),{pushDetailView:x}=(0,je.useDetailViews)(),b=(0,l.useCallback)((()=>{const e=ct.userRejectedRequest(a);y(e)}),[a,y]),w=(0,l.useCallback)((()=>oi(void 0,void 0,void 0,(function*(){try{const e=yield r(g),t=ct.result(a,{type:"send",signature:e});y(t)}catch(e){const t=ct.internalError(a,e.message);y(t)}}))),[r,g,a,y]);return{tabId:o,origin:i,connect:d,signInData:u,errorDetails:m,confirmApproval:(0,l.useCallback)((()=>{n?x(t(l).createElement(K.LedgerWrapper,null,t(l).createElement(It.LedgerAction,{ledgerAction:w,cancel:b}))):y(ct.result(a,{type:"signAndSend"}))}),[b,y,n,x,a,w]),denyApproval:b,isLoading:!1}},li=e=>{const n=ai(e);return"errorDetails"in n&&n.errorDetails?t(l).createElement(Qo,Object.assign({},n)):t(l).createElement(ei,Object.assign({},n))};var ci={};e(ci,"SolanaSignMessage",(function(){return bi}),(function(e){return bi=e}));Xe=o("4xbAj"),p=o("iOvk1"),Qe=o("7mQ3Y"),Vr=o("85iHy"),l=o("29o0l"),Tt=o("5MNpG"),At=o("fxXaZ"),je=o("i1NO2"),re=o("gX5Te"),It=o("dXIE8"),K=o("aklgB"),l=o("29o0l");var di=o("8tcqI").Buffer;const ui=l.memo((({tabId:e,origin:t,message:n,display:s,signInWithError:r,confirmApproval:o,denyApproval:i,networkID:a})=>{let c;if("hex"===s)c=`0x${di.from(n).toString("hex")}`;else c=(new TextDecoder).decode(n);return l.createElement(er,{tabId:e,origin:t,message:c,signInWithError:r,networkID:a,confirmApproval:o,denyApproval:i})}));var pi={};e(pi,"usePostResponseWithAnalytics",(function(){return mi}),(function(e){return mi=e}));Ct=o("h0VH5"),p=o("iOvk1"),i=o("cFUcx"),a=o("csW2r"),l=o("29o0l"),St=o("twk6W");var hi=function(e,t,n,s){return new(n||(n=Promise))((function(r,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((s=s.apply(e,t||[])).next())}))};const mi=function(e,t){return(n,s)=>{const{networkID:r,sequenceId:o,origin:i}=s,a=(0,l.useRef)(!1);return(0,l.useCallback)((s=>hi(this,void 0,void 0,(function*(){return p.Chains.isSolanaNetworkID(r)&&!a.current&&("error"in s?yield t({networkID:r,sequenceId:o,origin:i}):yield e({networkID:r,sequenceId:o,origin:i}),a.current=!0),n(s)}))),[n,r,i,o])}}((function(e){var t;return hi(this,void 0,void 0,(function*(){try{const n=null!==(t=(0,i.legacyTokenListChainIdToSolanaChainId)(e.networkID.replace("solana:","")))&&void 0!==t?t:"localnet",s=(0,i.getSupportedChainDescriptor)(n);if("solana"!==(null==s?void 0:s.chainType))throw new Error(`Failed to capture message signature event analytics: Unsupported Solana Network ID "${n}"`);return yield Ct.dapp.userApprovedAction(St.analytics,e.sequenceId,Object.assign(Object.assign({},s),{origin:e.origin,method:"signMessage"}))}catch(e){a.telemetry.addBreadcrumb("analytics","Could not log dapp user action (approve)",a.Severity.Error),e instanceof Error?a.telemetry.captureError(e,a.FeatureTag.Provider):a.telemetry.captureError(new Error("Non-Error instance thrown in captureUserApprove: "+typeof e),a.FeatureTag.Provider)}}))}),(function(e){var t;return hi(this,void 0,void 0,(function*(){try{const n=null!==(t=(0,i.legacyTokenListChainIdToSolanaChainId)(e.networkID.replace("solana:","")))&&void 0!==t?t:"localnet",s=(0,i.getSupportedChainDescriptor)(n);if("solana"!==(null==s?void 0:s.chainType))throw new Error(`Failed to capture message signature event analytics: Unsupported Solana Network ID "${n}"`);return yield Ct.dapp.userDeniedAction(St.analytics,e.sequenceId,Object.assign(Object.assign({},s),{origin:e.origin,method:"signMessage"}))}catch(e){a.telemetry.addBreadcrumb("analytics","Could not log dapp user action (deny)",a.Severity.Error),e instanceof Error?a.telemetry.captureError(e,a.FeatureTag.Provider):a.telemetry.captureError(new Error("Non-Error instance thrown in captureUserDeny: "+typeof e),a.FeatureTag.Provider)}}))}));var gi=o("8tcqI").Buffer,fi=function(e,t,n,s){return new(n||(n=Promise))((function(r,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((s=s.apply(e,t||[])).next())}))};const yi=(0,Tt.getVaultProxy)(),xi=e=>{const{origin:n,requestId:s,sequenceId:r,message:o,display:i,tabId:a,networkID:c}=e,d=t(Vr).decode(o),u=(0,At.usePostOutgoingBackgroundResponse)(),p=(0,pi.usePostResponseWithAnalytics)(u,{networkID:c,sequenceId:r,origin:n}),{pushDetailView:h}=(0,je.useDetailViews)(),m=(0,l.useCallback)((()=>{const e=ct.userRejectedRequest(s);p(e)}),[s,p]),g=(0,l.useCallback)((()=>fi(void 0,void 0,void 0,(function*(){try{const t=yield e.signMessage(d),n=ct.result(s,{type:"send",signature:t});p(n)}catch(e){const t=ct.internalError(s,e.message);p(t)}}))),[e,d,s,p]),f=(0,l.useCallback)((()=>{e.isLedger?h(t(l).createElement(K.LedgerWrapper,null,t(l).createElement(It.LedgerAction,{ledgerAction:g,cancel:m}))):p(ct.result(s,{type:"signAndSend"}))}),[m,p,e.isLedger,h,s,g]),y=Ms(d,e.publicKey,n);return{networkID:c,tabId:a,origin:n,requestId:s,message:d,display:i,signInWithError:y,confirmApproval:f,denyApproval:m}},bi=e=>{const n=(()=>{const{data:e}=re.hooks.useSelectedMultiChainAccount();return(0,l.useMemo)((()=>{var t,n,s;const r=null!==(t=null==e?void 0:e.identifier)&&void 0!==t?t:"",{address:o,networkID:i}=null!==(s=null===(n=null==e?void 0:e.addresses)||void 0===n?void 0:n.find((e=>p.Chains.isSolanaNetworkID(e.networkID))))&&void 0!==s?s:{address:"",networkID:p.NetworkIDs.Solana.Mainnet};return{isLedger:(null==e?void 0:e.type)===Xe.AccountType.Ledger,publicKey:o,networkID:i,signMessage:e=>fi(void 0,void 0,void 0,(function*(){const t=gi.from(e).toString("utf-8"),n=yield yi.sign(r,{chainType:Qe.AddressType.Solana,signingType:"message",message:t});if("success"===n.status)return n.signature;throw new Error(`[${n.type}] ${n.message}`)}))}}),[e])})(),s=xi(Object.assign(Object.assign({},e),n));return t(l).createElement(ui,Object.assign({},s))};var wi={};e(wi,"SolanaSignTransaction",(function(){return ki}),(function(e){return ki=e}));Xe=o("4xbAj"),p=o("iOvk1"),Je=o("eJxop"),h=o("43063"),Wr=o("hMVEP"),m=o("7gANb"),Et=o("7dHjq"),Vr=o("85iHy"),l=o("29o0l"),Tt=o("5MNpG"),At=o("fxXaZ"),je=o("i1NO2"),re=o("gX5Te"),Yr=o("goVRJ"),It=o("dXIE8"),K=o("aklgB");var Ei={};e(Ei,"usePostResponseWithAnalytics",(function(){return Ti}),(function(e){return Ti=e}));Ct=o("h0VH5"),p=o("iOvk1"),i=o("cFUcx"),a=o("csW2r"),l=o("29o0l"),St=o("twk6W");var vi=function(e,t,n,s){return new(n||(n=Promise))((function(r,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((s=s.apply(e,t||[])).next())}))};const Ti=function(e,t){return(n,s)=>{const{networkID:r,sequenceId:o,origin:i}=s,a=(0,l.useRef)(!1);return(0,l.useCallback)((s=>vi(this,void 0,void 0,(function*(){return r&&p.Chains.isSolanaNetworkID(r)&&!a.current&&("error"in s?yield t({networkID:r,sequenceId:o,origin:i}):yield e({networkID:r,sequenceId:o,origin:i}),a.current=!0),n(s)}))),[n,r,i,o])}}((function(e){var t;return vi(this,void 0,void 0,(function*(){try{const n=null!==(t=(0,i.legacyTokenListChainIdToSolanaChainId)(e.networkID.replace("solana:","")))&&void 0!==t?t:"localnet",s=(0,i.getSupportedChainDescriptor)(n);if("solana"!==(null==s?void 0:s.chainType))throw new Error(`Failed to capture transaction signature event analytics: Unsupported Solana Network ID "${n}"`);return yield Ct.dapp.userApprovedAction(St.analytics,e.sequenceId,Object.assign(Object.assign({},s),{origin:e.origin,method:"signTransaction"}))}catch(e){a.telemetry.addBreadcrumb("analytics","Could not log dapp user action (approve)",a.Severity.Error),e instanceof Error?a.telemetry.captureError(e,a.FeatureTag.Provider):a.telemetry.captureError(new Error("Non-Error instance thrown in captureUserApprove: "+typeof e),a.FeatureTag.Provider)}}))}),(function(e){var t;return vi(this,void 0,void 0,(function*(){try{const n=null!==(t=(0,i.legacyTokenListChainIdToSolanaChainId)(e.networkID.replace("solana:","")))&&void 0!==t?t:"localnet",s=(0,i.getSupportedChainDescriptor)(n);if("solana"!==(null==s?void 0:s.chainType))throw new Error(`Failed to capture transaction signature event analytics: Unsupported Solana Network ID "${n}"`);return yield Ct.dapp.userDeniedAction(St.analytics,e.sequenceId,Object.assign(Object.assign({},s),{origin:e.origin,method:"signTransaction"}))}catch(e){a.telemetry.addBreadcrumb("analytics","Could not log dapp user action (deny)",a.Severity.Error),e instanceof Error?a.telemetry.captureError(e,a.FeatureTag.Provider):a.telemetry.captureError(new Error("Non-Error instance thrown in captureUserDeny: "+typeof e),a.FeatureTag.Provider)}}))}));var Ai=function(e,t,n,s){return new(n||(n=Promise))((function(r,o){function i(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}l((s=s.apply(e,t||[])).next())}))};const Ii=e=>{var n,s,r,o,i,a,c,d,u,g,f,y,x,b,w;const{origin:E,requestId:v,sequenceId:T,transaction:A}=e,{owner:I,isLedgerAccount:k,connection:C,ledgerSignTransaction:S,networkID:R}=((e,n,s,r)=>{const{t:o}=(0,h.useTranslation)(),i=(0,Et.useQueryClient)(),{pushDetailView:a,popDetailView:c}=(0,je.useDetailViews)(),{data:d}=re.hooks.useSelectedMultiChainAccount(),[u,g,f,y]=(0,l.useMemo)((()=>{var e;const t=null===(e=null==d?void 0:d.addresses)||void 0===e?void 0:e.find((e=>p.Chains.isSolanaNetworkID(e.networkID))),n=null==t?void 0:t.address,s=t?t.networkID:void 0,r=(null==d?void 0:d.type)===Xe.AccountType.Ledger;return[null==d?void 0:d.identifier,null!=n?n:"",s,r]}),[d]),{connection:x}=re.hooks.useSelectedSolanaConnection(),b=(0,At.usePostOutgoingBackgroundResponse)(),w=(0,Ei.usePostResponseWithAnalytics)(b,{networkID:f,sequenceId:s,origin:r}),E=(0,l.useCallback)((()=>Ai(void 0,void 0,void 0,(function*(){const s=new(0,Yr.LegacyIndexedDBProxy);if(!u||!f||!e)throw new Error("missing accountIdentifier or chainId or transaction");try{const r=(0,Tt.getVaultProxy)(),a={ownerAddress:g,networkID:f,data:{signature:""},type:m.PendingTransactionType.DappInteraction,display:{summary:{topLeft:{label:o("transactionsPendingAppInteraction")}}}};(0,Je.setLedgerTransportStateOverride)(i,Je.LEDGER_WAITING_FOR_APPROVAL_STATE);const l=yield(0,m.signSolanaTransactionAsync)({accountIdentifier:u,feePayer:new(0,Wr.PublicKey)(g),connection:x,accountSigner:r,transaction:e,pendingTransactionInput:a,storage:s}).finally((()=>(0,Je.setLedgerTransportStateOverride)(i,Je.LEDGER_RECONNECTING_STATE)));w(ct.result(n,{type:"send",signedTransaction:t(Vr).encode(l.serialize()),signature:t(Vr).encode((0,Wr.getSignatures)(l)[0]),version:"version"in l?l.version:"legacy"}))}catch(e){throw(0,It.isKnownLedgerActionError)(e)&&a(t(l).createElement(K.LedgerWrapper,null,t(l).createElement(It.LedgerActionError,{ledgerActionError:e,onRetryClick:()=>{c()},onCancelClick:()=>{const e=ct.userRejectedRequest(n);w(e)}}))),new Error("error signing with ledger: "+e,{cause:e})}}))),[u,f,e,g,o,i,x,w,n,a,c]);return{owner:g,isLedgerAccount:y,connection:x,ledgerSignTransaction:E,networkID:f}})(A,v,T,E),[B,D]=(0,l.useState)(!1),{pushDetailView:L}=(0,je.useDetailViews)(),P=(0,At.usePostOutgoingBackgroundResponse)(),F=(0,Ei.usePostResponseWithAnalytics)(P,{networkID:R,sequenceId:T,origin:E}),{simulationWarnings:O,simulationResults:N,txnsScanResult:M,isBlockRecommended:H,error:$}=m.simulations.useScannedTransaction("SolanaSignTransaction/useSignatureRequestProps",R?{networkID:R,origin:E,userAccount:I,transactions:[(0,Wr.transactionToBase58TransactionString)(A)]}:null),U=!!$,_=null===(s=null===(n=M.data)||void 0===n?void 0:n.computedEvaluation)||void 0===s?void 0:s.isRecentBlockhashExpired,q=null===(o=null===(r=M.data)||void 0===r?void 0:r.computedEvaluation)||void 0===o?void 0:o.insufficientSplTokens,j=null===(a=null===(i=M.data)||void 0===i?void 0:i.computedEvaluation)||void 0===a?void 0:a.notEnoughSol,G=H&&!B,z=null===(c=null==O?void 0:O[0])||void 0===c?void 0:c.message,W=M.isLoading||M.error||(null===(f=null===(g=null===(u=null===(d=M.data)||void 0===d?void 0:d.evaluation)||void 0===u?void 0:u.simulationResults)||void 0===g?void 0:g.expectedStateChanges)||void 0===f?void 0:f.length)||null===(w=null===(b=null===(x=null===(y=M.data)||void 0===y?void 0:y.evaluation)||void 0===x?void 0:x.simulationResults)||void 0===b?void 0:b.error)||void 0===w?void 0:w.humanReadableError,{data:V}=(0,m.useEstimateFeeForMessages)(C,[(0,Wr.transactionToBase58TransactionString)(A)]),Y=(0,l.useCallback)((()=>{const e=ct.userRejectedRequest(v);F(e)}),[v,F]),X=(0,l.useCallback)((()=>{k?L(t(l).createElement(K.LedgerWrapper,null,t(l).createElement(It.LedgerAction,{ledgerAction:S,cancel:Y}))):F(ct.result(v,{type:"signAndSend"}))}),[k,L,S,Y,F,v]),J=(0,l.useCallback)((()=>{D(!0)}),[D]);return{denyApproval:Y,confirmApproval:X,feeEstimation:V,simulationWarnings:O,simulationResults:N,proceedToApproval:J,isRecentBlockhashExpired:_,insufficientSplTokens:q,notEnoughSol:j,isBlockRecommended:H,isMaliciousTransaction:G,warningMessage:z||void 0,isWarningIgnored:B,isLoadingSimulation:M.isLoading&&!M.isRefetching,humanReadableError:W,networkID:R,hasSimulationFailed:U}},ki=e=>{const n=(0,l.useMemo)((()=>(0,Wr.transactionStringToTransaction)(e.transaction,"bs58")),[e.transaction]),{t:s}=(0,h.useTranslation)(),r=Ii({tabId:e.tabId,origin:e.origin,requestId:e.requestId,sequenceId:e.sequenceId,transaction:n}),o=(0,Jr.useSolanaInstructionParser)([(0,Wr.transactionStringToMessageString)(e.transaction)]),i=(0,l.useCallback)((()=>t(l).createElement(Yt,{parsedInstructions:o.parsedInstructions,isParsedInstructionsLoading:o.isParsedInstructionsLoading})),[o.isParsedInstructionsLoading,o.parsedInstructions]),{save:a,isAutoConfirmIsTouched:c,showAutoConfirmRow:d}=Ke(e.origin),u=An({origin:e.origin,autoConfirmStatusCode:e.autoConfirmStatusCode,networkID:r.networkID?r.networkID:void 0}),p=[];if(d&&p.push(u),r.isMaliciousTransaction){const n=r.warningMessage||s("maliciousTransactionWarning");return t(l).createElement(yn,{tabId:e.tabId,origin:e.origin,message:n,ignoreWarningText:s("maliciousTransactionWarningIgnoreWarning"),buttonText:s("commandClose"),proceedToApproval:r.proceedToApproval,denyApproval:r.denyApproval})}return r.insufficientSplTokens&&!r.isWarningIgnored?t(l).createElement(Xr,{title:s("notEnoughSplTokensTitle"),description:s("notEnoughSplTokensDescription"),onCancelClick:r.denyApproval,ignoreText:s("maliciousTransactionWarningIgnoreWarning"),onIgnore:r.proceedToApproval}):r.isRecentBlockhashExpired&&!r.isWarningIgnored?t(l).createElement(Xr,{title:s("transactionExpiredPrimaryText"),description:s("transactionExpiredSecondaryText"),onCancelClick:r.denyApproval,ignoreText:s("maliciousTransactionWarningIgnoreWarning"),onIgnore:r.proceedToApproval}):r.notEnoughSol&&!r.isWarningIgnored?t(l).createElement(Xr,{title:s("accountWithoutEnoughSolPrimaryText"),description:s("accountWithoutEnoughSolSecondaryText"),onCancelClick:r.denyApproval,ignoreText:s("maliciousTransactionWarningIgnoreWarning"),onIgnore:r.proceedToApproval}):t(l).createElement(te,{isLoadingSimulation:r.isLoadingSimulation,tabId:e.tabId,origin:e.origin,confirmApproval:()=>Ai(void 0,void 0,void 0,(function*(){c&&(yield a()),r.confirmApproval&&r.confirmApproval()})),denyApproval:r.denyApproval,renderTransactionFee:()=>t(l).createElement(No,{feeEstimation:r.feeEstimation}),simulationResults:r.simulationResults,simulationWarnings:r.simulationWarnings,simulationTooltipText:s("notificationTransactionApprovalEstimatesBasedOnSimulations"),hasSimulationFailed:r.hasSimulationFailed,renderAdvancedDetails:i,humanReadableError:r.humanReadableError,rows:p})};h=o("43063"),Qe=o("7mQ3Y"),l=o("29o0l"),f=o("gkfw3"),c=o("8Ub2g"),ie=o("bw7Ah"),Hr=o("dPvrC"),w=o("27SDj");const Ci=(0,f.default)(w.Text)`
  strong {
    font-weight: 600;
    color: #666666;
  }
`,Si=({origin:e,targetAddressType:t,addressType:n})=>{const{t:s}=(0,h.useTranslation)();return l.createElement(c.PopupAndNotificationFallbackContainer,null,l.createElement(Hr.TransactionStatusDetail,{icon:"error",title:s("notificationUnsupportedAccount"),onClose:()=>window.close()},l.createElement(w.Text,{weight:400,size:14,lineHeight:20,color:"#666666"},l.createElement(ie.PTrans,{t:s,i18nKey:"notificationUnsupportedAccountDescription",values:{origin:e,targetChainType:Qe.AddressTypes.getDisplayName(t),chainType:Qe.AddressTypes.getDisplayName(n)}})),l.createElement(Ci,{weight:400,size:14,lineHeight:20,color:"#666666",margin:"16px 0 0 0"},l.createElement(ie.PTrans,{t:s,i18nKey:"notificationUnsupportedAccountDescription2",values:{}}))))};h=o("43063"),l=o("29o0l"),f=o("gkfw3"),c=o("8Ub2g"),ie=o("bw7Ah"),Hr=o("dPvrC"),w=o("27SDj");const Ri=(0,f.default)(w.Text)`
  strong {
    font-weight: 600;
    color: #666666;
  }
`,Bi=({origin:e})=>{const{t:t}=(0,h.useTranslation)();return l.createElement(c.PopupAndNotificationFallbackContainer,null,l.createElement(Hr.TransactionStatusDetail,{icon:"error",title:t("unsupported_network",{defaultValue:"Unsupported network"}),onClose:()=>window.close()},l.createElement(w.Text,{weight:400,size:14,lineHeight:20,color:"#666666"},l.createElement(ie.PTrans,{t:t,i18nKey:"notificationUnsupportedNetworkDescription",values:{origin:e},defaults:"{{origin}} is trying to use an unsupported network."})),l.createElement(Ri,{weight:400,size:14,lineHeight:20,color:"#666666",margin:"16px 0 0 0"},l.createElement(ie.PTrans,{t:t,i18nKey:"notificationUnsupportedNetworkDescription2",values:{origin:e},defaults:"To proceed with a different extension, turn off <strong>Settings  Default App Wallet, and select Always Ask</strong>. Then refresh the page and reconnect."}))))};var Di=o("gYT35"),Li=o("iyhug"),Pi=(re=o("gX5Te"),o("cI6uH")),Fi=o("feAoQ"),Oi=o("4K7Du"),Ni=o("lznD3"),Mi=(St=o("twk6W"),o("gcdBN")),Hi=o("dNPkM"),$i=o("17H3T"),Ui=o("2jR04"),_i=(f=o("gkfw3"),{});e(_i,"reset",(function(){return zi}),(function(e){return zi=e})),e(_i,"Reset",(function(){return Wi}),(function(e){return Wi=e})),e(_i,"default",(function(){return Vi}),(function(e){return Vi=e}));var qi,ji,Gi=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},zi=(0,(f=o("gkfw3")).css)(qi||(qi=Gi(["\n/* http://meyerweb.com/eric/tools/css/reset/\n   v5.0.1 | 20191019\n   License: none (public domain)\n*/\n\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, menu, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed,\nfigure, figcaption, footer, header, hgroup,\nmain, menu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure,\nfooter, header, hgroup, main, menu, nav, section {\n  display: block;\n}\n/* HTML5 hidden-attribute fix for newer browsers */\n*[hidden] {\n    display: none;\n}\nbody {\n  line-height: 1;\n}\nmenu, ol, ul {\n  list-style: none;\n}\nblockquote, q {\n  quotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n  content: '';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n"],["\n/* http://meyerweb.com/eric/tools/css/reset/\n   v5.0.1 | 20191019\n   License: none (public domain)\n*/\n\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, menu, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed,\nfigure, figcaption, footer, header, hgroup,\nmain, menu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure,\nfooter, header, hgroup, main, menu, nav, section {\n  display: block;\n}\n/* HTML5 hidden-attribute fix for newer browsers */\n*[hidden] {\n    display: none;\n}\nbody {\n  line-height: 1;\n}\nmenu, ol, ul {\n  list-style: none;\n}\nblockquote, q {\n  quotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n  content: '';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n"]))),Wi=(0,f.createGlobalStyle)(ji||(ji=Gi(["",""],["",""])),zi),Vi=zi;Tr=o("c8OXT");const Ki=f.css`
  ::-webkit-scrollbar {
    background: #222;
    width: 7px;
  }

  ::-webkit-scrollbar-thumb {
    background: #2a2a2a;
    border-radius: 8px;
  }
`,Yi=f.css`
  ::-webkit-scrollbar {
    display: none;
  }
  * {
    scrollbar-width: none; /* Also needed to disable scrollbar Firefox */
  }
`,Xi=f.createGlobalStyle`
    ${_i.default}

    body, html, * {
        box-sizing: border-box;
        font-family: 'Inter', 'Roboto', Arial;
        user-select: none;
        color: currentColor;
        -moz-osx-font-smoothing: grayscale;
        text-rendering: optimizeSpeed;
        -webkit-font-smoothing: antialiased;
    }
    input, textarea {
        -webkit-user-select: text;
        -khtml-user-select: text;
        -moz-user-select: text;
        -ms-user-select: text;
        user-select: text;
    }
    body {
        color: white;
        background: ${e=>e.backgroundColor};
        min-height: 100vh;
        margin: 0;
        display: flex;
        justify-content: center;
        align-items: center;
    }
    *:focus, *:focus-within {
        outline-color: transparent !important;
        outline-style: none !important;
        outline-width: 0px !important;
    }

    ${Tr.BROWSER_ENV.os.name===Ui.OS_MAP.MacOS||Tr.BROWSER_ENV.os.name===Ui.OS_MAP.Windows?Yi:Ki}
`;var Ji=o("8tcqI").Buffer;const Qi=t(l).lazy((()=>o("FaM4N")));a.fileLogger.init({provider:$i.ClientFileLoggerProvider}),a.telemetry.init(),a.telemetry.setUser({id:St.analytics.getDeviceId()}),(0,Hi.initializeFeatureFlags)();const Zi=({req:e,origin:n,tabId:s})=>{const{method:r}=e,{data:o=[]}=re.hooks.useAllMultiChainAccounts(),{data:[i]}=(0,kr.useFeatureFlags)(["frontend-enable-session-start"]);return(0,Pi.useEffectOnce)((()=>{Ni.accountAnalytics.onAppSessionStart(o)}),o.length>0&&i),(0,l.useEffect)((()=>{St.analytics.captureOptOutStatus()}),[]),(0,l.useEffect)((()=>{St.analytics.capture("notificationOpen",{data:{method:r}})}),[r]),t(l).createElement(ea,{req:e,origin:n,tabId:s})},ea=t(l).memo((({req:e,origin:n,tabId:s})=>{const{id:r}=e,o=i.user.user_confirmIncorrectMode.request.safeParse(e);if(o.success){const{params:e}=o.data;return t(l).createElement(Ur,{hostname:(0,g.removeWebPrefixes)(n),enabledChains:e[1]})}const a=i.user.user_confirmEIP712IncorrectChainId.request.safeParse(e);if(a.success){const{params:e}=a.data,{connectedChainId:s,messageChainId:r}=e[1];return t(l).createElement($r,{origin:n,connectedChainId:s,messageChainId:r})}if(i.user.user_confirmUnsupportedNetwork.request.safeParse(e).success)return t(l).createElement(Bi,{origin:n});const c=i.user.user_confirmUnsupportedAccount.request.safeParse(e);if(c.success&&"ethereum"===c.data.params[1])return t(l).createElement(Si,{targetAddressType:Qe.AddressType.EVM,addressType:Qe.AddressType.Solana,origin:n});if(c.success&&"solana"===c.data.params[1])return t(l).createElement(Si,{targetAddressType:Qe.AddressType.Solana,addressType:Qe.AddressType.EVM,origin:n});if(i.user.user_approveSolConnect.request.safeParse(e).success)return t(l).createElement(vr,{tabId:s,origin:n,requestId:r,allowSwitchingAccountsFor:Qe.AddressType.Solana});const d=i.user.user_approveSolSignTransaction.request.safeParse(e);if(d.success){const{params:e}=d.data,{transaction:o,sequenceId:i,autoConfirmStatusCode:a}=e[1];return t(l).createElement(je.DetailViewsProvider,null,t(l).createElement(wi.SolanaSignTransaction,{tabId:s,origin:n,requestId:r,transaction:o,autoConfirmStatusCode:a,sequenceId:i}))}const p=i.user.user_approveSolSignAndSendTransaction.request.safeParse(e);if(p.success){const{params:e}=p.data,{transaction:o,sequenceId:i,autoConfirmStatusCode:a}=e[1];return t(l).createElement(je.DetailViewsProvider,null,t(l).createElement(Go.SolanaSignAndSendTransaction,{tabId:s,origin:n,requestId:r,transaction:o,autoConfirmStatusCode:a,sequenceId:i}))}const h=i.user.user_approveSolSignAllTransactions.request.safeParse(e);if(h.success){const{params:e}=h.data,{transactions:o,sequenceId:i,autoConfirmStatusCode:a}=e[1];return t(l).createElement(je.DetailViewsProvider,null,t(l).createElement(zr.SolanaSignAllTransactions,{tabId:s,origin:n,requestId:r,transactions:o,autoConfirmStatusCode:a,sequenceId:i}))}const m=i.user.user_approveSolSignAndSendAllTransactions.request.safeParse(e);if(m.success){const{params:e}=m.data,{transactions:o,sequenceId:i,autoConfirmStatusCode:a}=e[1];return t(l).createElement(je.DetailViewsProvider,null,t(l).createElement(zr.SolanaSignAllTransactions,{tabId:s,origin:n,requestId:r,transactions:o,autoConfirmStatusCode:a,sequenceId:i}))}const f=i.user.user_approveSolSignMessage.request.safeParse(e);if(f.success){const{params:e}=f.data,{message:o,display:i,sequenceId:a}=e[1];return t(l).createElement(je.DetailViewsProvider,null,t(l).createElement(ci.SolanaSignMessage,{tabId:s,origin:n,requestId:r,message:o,display:i,sequenceId:a}))}const y=i.user.user_approveSolSignIn.request.safeParse(e);if(y.success){const{params:e}=y.data,{connect:o,signInData:i,message:a,errorDetails:c,sequenceId:d}=e[1];return t(l).createElement(je.DetailViewsProvider,null,t(l).createElement(Jo.SolanaSignIn,{tabId:s,origin:n,requestId:r,connect:o,signInData:i,message:a,errorDetails:c,sequenceId:d}))}if(i.user.user_approveEthRequestAccounts.request.safeParse(e).success)return t(l).createElement(vr,{tabId:s,origin:n,requestId:r,allowSwitchingAccountsFor:Qe.AddressType.EVM});const x=i.user.user_approveEthSendTransaction.request.safeParse(e);if(x.success){const{params:e}=x.data,{transaction:o,sequenceId:i,autoConfirmStatusCode:a}=e[1];return t(l).createElement(je.DetailViewsProvider,null,t(l).createElement(u.EthSendTransaction,{tabId:s,origin:n,requestId:r,sequenceId:i,transaction:o,autoConfirmStatusCode:a}))}const b=i.user.user_approveEthSignMessage.request.safeParse(e);if(b.success){const{params:e}=b.data,{message:o,originalMethod:i,chainId:a,autoConfirmStatusCode:c,sequenceId:d}=e[1];return t(l).createElement(je.DetailViewsProvider,null,t(l).createElement(Cn.EthSignMessage,{tabId:s,origin:n,requestId:r,message:o,originalMethod:i,hexChainId:a,autoConfirmStatusCode:c,sequenceId:d}))}if(i.user.user_approveBtcRequestAccounts.request.safeParse(e).success)return t(l).createElement(vr,{tabId:s,origin:n,requestId:r,allowSwitchingAccountsFor:Qe.AddressType.BitcoinTaproot});const w=i.user.user_approveBtcSignPSBT.request.safeParse(e);if(w.success)return t(l).createElement(Mr,{tabId:s,origin:n,requestId:r,message:Ji.from(w.data.params[1].psbt).toString("hex"),sequenceId:w.data.params[1].sequenceId});const E=i.user.user_approveBtcSignMessage.request.safeParse(e);return E.success?t(l).createElement(Dr,{tabId:s,origin:n,requestId:r,messageBytes:E.data.params[1].message,sequenceId:E.data.params[1].sequenceId}):null})),ta=()=>{const e=(0,l.useCallback)((()=>{(0,Mi.openTabAsync)({url:"onboarding.html"}),window.close()}),[]),n=(0,At.useIncomingBackgroundRequest)(),{data:s}=re.hooks.useSelectedMultiChainAccount(),r=null==s?void 0:s.isReadOnly;if(!n)return null;const{origin:o,req:a,tabId:d}=n,{id:u,method:p}=a,h=i.user.user_selectEthWallet.method.safeParse(p).success,m=i.user.user_approveEthRequestAccounts.method.safeParse(p).success||i.user.user_approveSolConnect.method.safeParse(p).success||i.user.user_approveBtcRequestAccounts.method.safeParse(p).success,g=m?"Connection Error":"Transaction Error",f=`There was an error attempting to ${m?"connect to the application":"sign the transaction"}. Please try again.`;return t(l).createElement(t(l).Fragment,null,h?t(l).createElement(l.Suspense,{fallback:t(l).createElement(Rr.IconLoading,{color:"#AB9FF2"})},t(l).createElement(Qi,{requestId:u})):t(l).createElement(Ir.ExtensionLockWrapper,{openOnboarding:e},t(l).createElement(Li.LegacyModalsProvider,null,t(l).createElement(Fi.Modals,null,t(l).createElement(c.PopupAndNotificationErrorBoundary,{title:g,message:f},r&&!m?t(l).createElement(qr,{tabId:d,origin:o,requestId:u}):t(l).createElement(Zi,{req:a,origin:o,tabId:d}),t(l).createElement(Di.Toaster,null))))))},na=()=>t(l).createElement(t(l).Fragment,null,t(l).createElement(Sr.MemoryRouter,{future:{v7_startTransition:!0}},t(l).createElement(f.ThemeProvider,{theme:Oi.theme},t(l).createElement(Xi,{backgroundColor:"#222222"}),t(l).createElement(c.PopupAndNotificationErrorBoundary,null,t(l).createElement(d.Main,null,t(l).createElement(Ar.QueryProvider,null,t(l).createElement(At.BackgroundConnectionProvider,null,t(l).createElement(ta,null))),t(l).createElement("div",{id:Tr.MODAL_ID})))))),sa=document.getElementById("root");(0,Cr.createRoot)(sa).render(t(l).createElement(na,null))}();
//# sourceMappingURL=notification.cb9be8d5.js.map
define=__define;})(window.define);